# 丰田如何改变我们处理代码的方式

> 原文：<https://www.freecodecamp.org/news/how-toyota-changed-the-way-we-approach-code-f5ea78df025c/>

亚当·佩特里

# *丰田如何改变我们对待代码的方式*

![3qj-rxFaGsFRLA3Jlxxh7bU10Iyr3wPjZN2r](img/cf3e650c18fb348f050b3d64da995520.png)

*Source: [Genzoman](http://genzoman.deviantart.com/art/Inspector-Gadget-and-Penny-Sketch-560864814) via [Deviantart](http://img09.deviantart.net/a089/i/2010/329/2/b/inspector_gadget_study_by_vdvector-d33k9db.jpg)*

作为开发人员，我们不在真空中工作。我们经常面临时间、预算和资源等限制。我们受到团队之外的优先事项的影响，这些优先事项会影响我们的工作内容、时间和持续时间。

当我们试图建立客户支持的声誉时，尤其如此。我们及时响应客户需求的能力可能是一个有利可图的关系和错失机会的区别。

代码质量通常是在这些参数范围内工作的第一受害者。我们做出牺牲来节省时间和精力。我们带着这样的心态承担技术债务，一旦我们的最后期限被满足，我们将能够重新访问代码并清理我们的混乱。

这种方法的唯一问题是隐约可见的东西:另一个截止日期。然后另一个。然后另一个。

在我们意识到之前，我们已经积累了大量的技术债务。它开始抑制我们做出改变或添加新功能的能力。我们的进度变慢了。我们的产品停滞不前。我们为成功所做的选择开始成为我们失败的原因。

足够多的技术债务会让最好的开发人员感到无助，并问:我们将何去何从？

![wYqzYfx3dKgtDIBxRpAfAnWYhdtdHvNAFkwi](img/160b1208b92cbbe72e9f47e55c8525e7.png)

*Source: [Realwire](http://www.realwire.com/writeitfiles/InspGadget.jpeg)*

### 我们必须接受现实

我们的最高目标是通过开发工作交付商业价值。这意味着获得利益相关者的认可，投入大量时间来偿还技术债务通常是不可行的。当最终结果不是产品的有形改进时，大型重构工作的投资回报太低。

只要有可能，更大规模的技术改进可以而且应该与商业价值挂钩；但这需要大量的协调，有时是不可行的。即使在最好的情况下，这些努力也通常与全新的功能联系在一起，很少会使现有的代码过时，从而满足我们对更好软件的需求。

我们必须放弃这样的想法，即我们将有时间重新审视我们的错误，并在没有外部压力的情况下纠正它们，这些外部压力最初就是驱使我们犯下这些错误的。

考虑到这一点，我们如何改变我们的代码呢？

![YYmhcuChwaMqk7wGAC5SFJcVe3NCyCq5PjjR](img/0aa81adfff5aec3a6bbf01d91dbf9de0.png)

*Source: [Behind the Voice Actors](http://statici.behindthevoiceactors.com/behindthevoiceactors/_img/shows/banner_385.jpg)*

### 改善案例

持续改进的改善方法强调改变应该是小的而不是激进的。Kaizen 建议，想法应该来自员工自己，希望这些想法更容易实施。改善鼓励员工的主人翁精神，目标是提高积极性和团队建设。当谈到改进我们的软件时，这些原则完全适用。

“改善”这个词在日语中是“改善”的意思最出名的可能是作为丰田方式的两大支柱之一，这是一种建立在“持续改进”基础上的哲学。

它最适用于六西格玛和制造业，但在软件领域也有实际应用。在 Flipp，我们使用类似的词语(“不断创新”)来描述我们的价值观之一。

虽然有[个适用于敏捷软件开发的 Kaizen 工作流程的特定系统](http://agilean.blogs.com/business_productivity/2010/09/kanban-kaizen-scrum.html)，但我们将 Kaizen 作为一种理念来应用。

### ***边走边重构***

每次打开编辑器时，您都有机会对代码库进行维护。它不一定是迷人的或突破性的，但是如果每一个变化你都努力使代码处于比你发现它时更好的状态，累积起来的差异可能是惊天动地的。

当谈到改进代码时，有各种不同的方法，你使用其中任何一种方法的成功都取决于代码和你的经验以及其他因素。

以下是我用来尝试并不断改进我参与编写的代码库的一些技巧:

*   解决 lint 错误。Lint 影响代码的可读性，如果你不能阅读代码，你就不能理解或修改它。一旦您完成了一个故事，为什么不提交一次来删除您编辑过的文件中现有的 lint 呢？这需要时间来完成，但影响可能是巨大的。
*   寻找低挂代码气味。在不扩大给定标签范围的情况下，您通常可以解决一些明显的问题。
*   过多的注释——当代码注释描述了正在发生的事情而不是原因时，这是一个非常明显的迹象，表明可以进行改进。代码可以以自我记录的方式编写，这样注释就没有必要了吗？
*   长方法—短方法更易于阅读、编辑、测试和故障排除。那艘 75 班轮需要你的帮助。
*   长参数列表—长参数列表会导致复杂性增加，这是一个安全的假设。所有这些参数真的有必要吗？它们能组合成一个物体吗？限制参数长度以降低复杂性。
*   重复的代码——想办法把它弄干。复制可以提取到一个方法中吗？服务对象有机会吗？消除重复有助于可读性，并减少引入错误的机会。
*   死代码——如果遇到死代码，删除它。现在。这样做将提高可读性并减少整体代码大小。
*   还有很多其他的代码味道，我们也可以解决。你对它们越熟悉，你就越有能力在自己的代码中识别和修复它们。
*   测试也是代码。维护易于阅读并准确描述所需功能的测试会使代码本身的重构变得更加容易。有没有可以添加的测试用例？测试能更具可读性吗？不那么脆？给定的测试是正确的吗？改进的测试意味着改进的代码。

一般来说，每当你做一个改变时，问自己这个问题:我能做些什么来使这段代码更容易被下一个人阅读、编辑、测试或诊断？

![zNlF8YIxRO1UVc8otW-Jv9VHOO3jobTmmz-0](img/015d28c598032616bacc7155615e038f.png)

*Source: [Wikia](http://vignette1.wikia.nocookie.net/video151/images/1/17/Inspector_Gadget_Netflix_Trailer/revision/latest?cb=20150325202318)*

### ***我们什么时候找到时间？***

显然，主要的挑战是在日常工作中似乎没有时间采取这些方法。我建议在你的日常工作中找时间，或者在休息时间优先考虑它。

例如，如果你有良好的测试覆盖率，你可以很容易地在一个类中执行一些基本的重构，同时处理给定标签的接受标准。(尽管这需要一些练习。)

对于较大的项目，我会在慢周五找时间回去或者最终解决一些困扰我的大问题。如果需要的话，我还会在接下来的几周内一点一点地完成大型工作。

通过采取正确的心态，你会发现你需要的机会，而不必牺牲太多的时间，这些任务需要一个常规故事会得到的全面处理。

如果您改进了代码，那么新开发中出现意外副作用的空间就会减少。此外，您更加精通代码本身，因此您修改代码的能力也会随着向前发展而提高。

### ***一针及时省九针***

随着时间的推移，您为代码的增量改进所付出的努力会越来越多。

通过不断的重构，你将极大地增加你对代码库的理解。当你很好地理解了代码，你在编辑它的时候会更有效率。

此外，您评估与新功能相关的复杂性的能力得到了提高，并且在聘用新开发人员或帮助您的团队时，您会变得更加强大。

学习何时重构、重构什么以及如何重构会让你成为更好的开发人员。你将用来有效重构的技术是通用的，并将在你的职业生涯中帮助你。

最后，清理你的代码库会让你成为更好的团队成员。几乎可以肯定的是，你团队中的其他人已经被你遇到的同样的事情所困扰或挫败。如果你找到了解决别人痛点的方法，他们会因此而喜欢你。

![fqnMQodmGCb2jrx8mins4Zza6hoVxEDwCJCO](img/60375b7fb3118fa791efc77b18b93437.png)

*Source: [Mental Floss](http://images.mentalfloss.com/sites/default/files/styles/article_640x430/public/4532657169913856.jpeg)*

### ***打造软件是硬的***

用有限的资源在紧张的时间表中构建好的软件更加困难，但是这并不是不可能的。

我们可以学习接受我们生活的现实，关注增量改进，而不是编写完美的代码。然后，我们将能够更好地保持我们迫切需要的敏捷性。这样，我们可以保持生产力，我们的产品也可以保持竞争力。

尝试对你的日常开发工作采取持续改进的方法。它将帮助您作为开发人员成长，提高您团队的士气，并最终增加您交付商业价值的能力。

我是亚当，是 T2 的一名软件工程师。我在 [Flipp 工程博客](http://eng.flipp.com/a-kaizen-approach-to-code-quality/)上发表了另一个版本。你对重塑人们购物的方式感兴趣吗？查看我们当前的[招聘信息](https://corp.flipp.com/jobs)。