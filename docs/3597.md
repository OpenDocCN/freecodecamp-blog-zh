# 什么是区块链，它是如何工作的？

> 原文：<https://www.freecodecamp.org/news/what-is-blockchain-and-how-does-it-work/>

如果你对技术感兴趣，你很可能听说过比特币、密码、以太坊甚至“分布式、去中心化账本”这些术语

你可能听过人们谈论加密货币和加密算法，谈论“中介”的终结等等。

很容易假设加密货币(例如:比特币、Ripple、以太坊、莱特币等。)和区块链一样。他们不是。

[加密货币](https://en.wikipedia.org/wiki/Cryptocurrency)是一项更加聪明的技术的巧妙应用——[区块链](http://en.wikipedia.org/wiki/Blockchain_(database))。

在这篇文章中，我将介绍区块链的一些基本概念，这样你就能理解它是什么，它必须如何概念化，以及在它的基础上可以建立什么。

但是就像所有的事情一样，如果你在了解它们的作用之前理解了它们被发明的原因，它们就更有意义了。这种背景将有助于你理解区块链旨在解决什么问题。

## 为什么用区块链？

问得好。很高兴你问了。让我们坐下来做一个小的思维实验。

如果你和你最好的朋友 **分别独立*和*进行同样的请愿活动，会发生什么？假设这是为了“解放仓鼠”事业。

假设你在同一个郊区以相同的顺序进行，但是在请愿书上有不同的签名。签名请愿书的哪个版本才是「真相之源」？

你需要追溯你单独的踪迹，一次一个签名，来定位最后的*差异。然后，您必须进一步追溯，以确定您的签名表之间出现分歧的第一个结果。在根分叉之前，两个列表上的所有其他签名应该匹配。*

*你就会知道在发散之前。这两个名单是一致的，所以这些签名代表了支持释放仓鼠的最少人数。*

*虽然这可能对仓鼠和小型郊区调查很有效，但在数字世界中就不那么有效了。或投票、银行业务、金融交易、转让土地所有权、履行合同义务等。你需要独立和“可信的第三方”来核实一连串的事件，并郑重向你保证“监管链”是完整的。*

*“监管链”有时也可以被称为“出处”——它们的意思是一样的:与相关数据相关的历史事件序列。*

*这就是为什么政府对你的身份拥有最终决定权，选票需要由数百名志愿者进行实际清点和重新计数，昏暗办公室的职员维护账簿和证书，以确认你是否拥有你的农场/白色栅栏平房。*

*这就是为什么你需要金融中介来确保当你使用信用卡购买你的收藏家物品达斯·维德玩偶时，钱(价值)从你的账户“转移”到卖家的账户。*

*这在技术上被称为“[双重消费问题](https://en.wikipedia.org/wiki/Double-spending)”——你如何确保你不会两次花同样的钱？如果没有人来做这件事，你可以花钱，同时继续持有这笔钱。*

*因此，这确实是一个大问题——现代生活要求我们依赖、信任并支付“可信”的第三方中介，以确保价值(金钱)确实以数字方式“易手”。这就是 Visa 和 MasterCard 存在的原因，也是 PayPal 和其他公司与你的银行账户挂钩的原因。*

> *区块链“为什么是这个问题”的核心是:你如何知道一系列事件没有被篡改以改变当前状态？*

*这就是区块链适合的地方。清楚了吗？*

## *区块链如何工作*

*为了用简单的方式传达一个概念，我可能会对这项技术的一些技术方面进行修改。我的目的是让你理解它是什么，并对它如何工作有一个心理模型。为此，为了提高理解的几率，我可能需要在精确度上稍微宽松一点，特别是对于非英语母语的人。*

*重要的是要记住，区块链是一种技术——确切地说，是数学上复杂的软件代码。比特币(或以太坊或任何其他提供的密码)只是该技术的应用。*

*所以关键原则是:*

*   *区块链是由功能强大、资源饥渴的计算机“开采”出来的(通过努力生产，就像在金矿开采中一样)，这些计算机被称为节点，位于同一个网络上。*
*   *经过数字加密并打上时间戳的交易记录链被集中成“块”，由每个节点保存在“分类账”上。当事务被添加到一个块中时，块被线性地和按时间顺序地链接在一起，成为“链”。然后，整个记录/分类帐在节点网络上同步，这样，节点上的所有块“链”应该讲述任何给定交易的历史的相同故事。因此我们得到“块+链=区块链”。这是一个又长又复杂的链表。*
*   *链中的每个块都有自己的 id——一个对每个块来说唯一且特定的加密散列。该散列也存储在链中的下一个块的*中，产生一个链接。一个块可以存储数千个事务，该块数据中最微小的变化都会产生一个新的散列。因此，如果一个哈希发生变化，但下一个块有不同的哈希，那么我们知道前一个块中的一些数据被篡改了。**
*   *随着数百个节点变成数千个节点(并且不断增加)，每个节点都必须就块/分类帐的历史“达成一致”,这称为“关键共识”。达成共识的方法之一是通过我们前面谈到的加密散列。*
*   *当分类账中存在差异时(例如，一个块的散列与下一个块对前一个块的散列的引用不匹配)，嵌入了最长有效交易链的分类账将是“正确的”分类账，即事实的来源。在链的其他(较短版本)上工作的任何节点切换到较长的一个。这保持了关键的共识(这一点非常简单，但对现在来说已经足够了)。*
*   *对一个分类帐的任何恶意拦截或更改(例如，块的散列不一致)都会立即造成与所有其他版本的差异。它还会有一个较短的块“历史”来证实它，这使得那个被篡改的版本在长度很重要的区块链网络中成为一个可疑的角色(咳咳)。*
*   *在 **所有** 版本的账本上复制这种差异——整个区块链网络——是一项如此巨大的任务，以至于在计算上不切实际，只有当坏人突然控制了开采区块链的 **多数** 节点并相当迅速地改变它们时，才会发生这种情况。这种对网络上大多数节点的协同攻击通常被称为 [51%攻击](https://en.bitcoin.it/wiki/Majority_attack)。*

*有趣的是，中本聪在最初的比特币白皮书中说，*

> *" **这样，只要诚实的节点控制网络，验证就是可靠的，但是如果网络被攻击者压制，验证就更加脆弱。***

*然而，在其他地方[他/她/组织](http://en.wikipedia.org/wiki/Satoshi_Nakamoto)(我们不知道“Satoshi”是谁)平静地指出，要修改整个节点网络中的块中的过去交易，将需要攻击者重新执行这些块中的保管链，以及此后添加的所有块。然后，他们必须拼命追赶并超越不受坏人控制的节点的工作(可以说，这样他们就可以重写账本)。*

*也正因为如此，随着后续的 的加入，速度较慢的攻击者赶上的 **概率呈指数递减。***

*节点活动的程序复杂性、速度和数量使得伪造者/攻击者很难赶上，更不用说逃脱不断挖掘的新块。*

*这确实有道理。这就像你对一个家庭成员撒谎说你为什么不能参加他们孩子的长笛独奏会。然后，你不得不疯狂地追逐家里的其他人，确保你对他们说了同样的谎言，这样当最初你撒谎的人提起这个谎言时，每个人都知道这个谎言并配合。听起来很累。*

*总而言之，区块链的定义特征是，它是一个跨越许多许多节点的分布式账本，并且向该网络添加节点是极其计算密集型的(昂贵的)。*

*因此，每个分类账必须“了解”所有交易，并且必须在下一笔交易将添加到的整个网络中有一个商定的版本(它将有最长的“监管链”作为后盾)。*

> **正如[中本聪在最初的比特币白皮书](http://bitcoin.org/bitcoin.pdf)中宣称的那样，“*确认交易不存在的唯一方法是了解所有交易。***

*重要的是，区块链"[消除了中间体](https://en.wikipedia.org/wiki/Disintermediation)"信任——因此，我们不需要支付“可信第三方”交易费用，因为我们值得信任，并保持我们和我们交易的对手方的诚实。区块链以编程方式确保其中事务历史的真实性(出处)。*

### *那么我们为什么要关心呢？*

*那么，通过摆脱对“可信中介”的需求，任何为我们提供确定性礼物而收取适度费用的中介都需要找到一份新工作。这影响了传统上提供此类担保服务的银行。*

*这也意味着我们可以在承诺者和受承诺者之间编写“T0”智能合同，自动(以数字方式)识别承诺是否已经兑现。*

*这使得像[伊莫金·希普这样真正精通技术的艺术家能够直接向她的听众出售她的音乐，并直接从他们那里收取费用，而不是将大部分收入损失给唱片公司、经理人和其他“可信的中介”。](http://fortune.com/2016/09/22/blockchain-music-disruption/)*

*它可能会改变互联网上知识产权的保护、访问、共享、分发和开发方式。*

*这甚至可能意味着，优步的司机队伍直接与想搭车的人交易，而不是依赖优步来协调和控制信息流和资金流。*

*这可能意味着我可以直接给你小额的钱，几乎没有任何费用(微交易)。这可能意味着，世界上数百万拥有智能手机的无银行账户的人可以开始超越传统的物理世界界限进行交易。*

*非常奇妙的是，当涉及到部署这项技术时，政府不仅仅关注加密货币，还关注记录土地所有权，例如记录 T2 的土地所有权。*

*事实上，我们可以创造一个真正的点对点数字交易的世界，这种交易是分布式的，水平的，消除了对信任的依赖，最重要的是需要非凡的计算能力来篡改。这些交易可能发生在人、机器和设备之间。*

*因此，它可以为保护通过“物联网”收集和传输的数据提供一种新的安全模式。*

*我个人认为，现代世界的复杂性被直观的触摸屏掩盖了。区块链技术将在我们没有完全意识到的情况下迅速嵌入我们的技术世界——就像我们自 20 世纪 70 年代以来一直使用酵母重组 DNA 生产合成胰岛素一样。*

*这些变化和成本节约将被笼统地称为技术变革，就像“互联网事物”或其他一些模糊的、包罗万象的短语。*

*有一个问题:只要我们相信由人类编码和设计的“无信任系统”(我们信任谁？)将在一个不可信任和不可信任的世界中推进缺乏信任的原因。你可能需要把这句话读几遍。*

## *包扎*

*好了——现在你应该对区块链的基本知识有所了解了。但是如果你感兴趣的话，还有很多东西要学。*

*你可以争论区块链是有用的还是被过度宣传的，是革命的还是无聊的。但很难忽视的是，作为一个概念，这是很酷的。*

*这是一个非常棒的视频，由安德斯·布朗沃斯用一个区块链模型解释了整个事情。强烈推荐你看。*

 *[https://www.youtube.com/embed/_160oMzblY8?feature=oembed](https://www.youtube.com/embed/_160oMzblY8?feature=oembed)* 

*作为学习练习，您可以在浏览器或命令行中构建自己的区块链。这里有一个快速[教程，教你如何构建自己的区块链](https://www.freecodecamp.org/news/how-does-blockchain-really-work-i-built-an-app-to-show-you-6b70cd4caf7d/)。*

*如果你对这篇文章有任何意见，或者认为我可以更好地解释其中的部分内容，请发微博给我，地址是 [@ZubinPratap](https://twitter.com/zubinpratap)*

*如果你想了解更多关于我的代码之旅，请查看[免费代码营播客](http://podcast.freecodecamp.org/)的[第 53 集](http://podcast.freecodecamp.org/53-zubin-pratap-from-lawyer-to-developer)，昆西(免费代码营的创始人)和我分享了我们作为职业改变者的经验，可能对你的旅程有所帮助。你也可以在 [iTunes](https://itunes.apple.com/au/podcast/ep-53-zubin-pratap-from-lawyer-to-developer/id1313660749?i=1000431046274&mt=2) 、 [Stitcher](https://www.stitcher.com/podcast/freecodecamp-podcast/e/59201373?autoplay=true) 和 [Spotify](https://open.spotify.com/episode/4lG0RGpzriG5vXRMgza05C) 上访问播客。*

*在接下来的几个月里，我还将举办一些 ama 和网络研讨会。如果您对此感兴趣，请点击[此处](http://www.matchfitmastery.com/)告知我。当然，你也可以在 [@ZubinPratap](https://twitter.com/zubinpratap) 给我发微博。*