# Python 中的系列和数据帧

> 原文：<https://www.freecodecamp.org/news/series-and-dataframe-in-python-a800b098f68/>

作者 Shubhi Asthana

# Python 中的系列和数据帧

![Vdm71yRUEPTXuawMDTT7DE5UZgYPYUge1exo](img/ea9858b086022d9fd0b651122d479dc2.png)

几个月前，我参加了哈佛大学在 edX 上提供的在线课程“使用 Python 进行研究”。在上课的时候，我学到了很多 Python、NumPy、Matplotlib 和 PyPlot 的概念。在本课程中，我还有机会进行案例研究，并能够将我的知识用于实际数据集。有关该计划的更多信息，请点击查看[。](https://courses.edx.org/courses/course-v1:HarvardX+PH526x+3T2016/4bdcc373b7a944f8861a3f190c10edca/)

我在这门课中学到了两个重要的概念——数列和数据帧。我想通过一个简短的教程给大家介绍这些。

从教程开始，让我们从官方网站[这里](https://www.python.org/)获取 Python 的最新源代码。

一旦你安装了 Python，你将使用一个名为 [IDLE](https://www.python.org/downloads/) 的图形用户界面来使用 Python。

让我们将熊猫导入我们的工作区。 [Pandas](https://pandas.pydata.org/pandas-docs/stable/install.html) 是一个 Python 库，为不同的函数提供数据结构和数据分析工具。

### **系列**

序列是一维对象，可以保存任何数据类型，如整数、浮点和字符串。让我们将一个条目列表作为输入参数，并为该列表创建一个 Series 对象。

```
>>> import pandas as pd
```

```
>>> x = pd.Series([6,3,4,6])
```

```
>>> x
```

```
0 6
```

```
1 3
```

```
2 4
```

```
3 6
```

```
dtype: int64
```

数据的轴标签称为索引。索引的长度必须与数据的长度相同。因为我们在上面的代码中没有传递任何索引，所以将使用值`[0, 1, … len(data) -1]`创建默认索引

让我们继续为数据定义索引。

```
>>> x = pd.Series([6,3,4,6], index=[‘a’, ‘b’, ‘c’, ‘d’])
```

```
>>> x
```

```
a 6
```

```
b 3
```

```
c 4
```

```
d 6
```

```
dtype: int64
```

最左栏中的索引现在指的是右栏中的数据。

我们可以通过查阅索引来查找数据:

```
>>> x[“c”]
```

```
4
```

Python 为我们提供了索引的相关数据。

数据类型的一个例子是下面定义的字典。索引和值与键和值相关联。我们可以使用索引来获取与索引中的标签相对应的数据值。

```
>>> data = {‘abc’: 1, ‘def’: 2, ‘xyz’: 3}
```

```
>>> pd.Series(data)
```

```
abc 1
```

```
def 2
```

```
xyz 3
```

```
dtype: int64
```

Series 的另一个有趣特性是将数据作为标量值。在这种情况下，对于定义的每个索引，数据值都是重复的。

```
>>> x = pd.Series(3, index=[‘a’, ‘b’, ‘c’, ‘d’])
```

```
>>> x
```

```
a 3
```

```
b 3
```

```
c 3
```

```
d 3
```

```
dtype: int64
```

### **数据帧**

DataFrame 是一个二维对象，它可以包含潜在不同类型的列。不同种类的输入包括字典、列表、序列，甚至另一个数据帧。

它是最常用的熊猫物品。

让我们通过传递一个 NumPy 数组来创建一个 DataFrame，该数组将 datetime 作为索引并标记列:

```
>>> import numpy as np
```

```
>>> dates = pd.date_range(‘20170505’, periods = 8)
```

```
>>> dates
```

```
DatetimeIndex([‘2017–05–05’, ‘2017–05–06’, ‘2017–05–07’, ‘2017–05–08’,
```

```
‘2017–05–09’, ‘2017–05–10’, ‘2017–05–11’, ‘2017–05–12’],
```

```
dtype=’datetime64[ns]’, freq=’D’)
```

```
>>> df = pd.DataFrame(np.random.randn(8,3), index=dates, columns=list(‘ABC’))
```

```
>>> df
```

```
A B C
```

```
2017–05–05 -0.301877 1.508536 -2.065571
```

```
2017–05–06 0.613538 -0.052423 -1.206090
```

```
2017–05–07 0.772951 0.835798 0.345913
```

```
2017–05–08 1.339559 0.900384 -1.037658
```

```
2017–05–09 -0.695919 1.372793 0.539752
```

```
2017–05–10 0.275916 -0.420183 1.744796
```

```
2017–05–11 -0.206065 0.910706 -0.028646
```

```
2017–05–12 1.178219 0.783122 0.829979
```

如上所示，创建日期时间范围为 8 天的数据帧。我们可以使用`df.head`和`df.tail`查看帧的顶行和底行:

```
>>> df.head()
```

```
A B C
```

```
2017–05–05 -0.301877 1.508536 -2.065571
```

```
2017–05–06 0.613538 -0.052423 -1.206090
```

```
2017–05–07 0.772951 0.835798 0.345913
```

```
2017–05–08 1.339559 0.900384 -1.037658
```

```
2017–05–09 -0.695919 1.372793 0.539752
```

```
>>> df.tail()
```

```
A B C
```

```
2017–05–08 1.339559 0.900384 -1.037658
```

```
2017–05–09 -0.695919 1.372793 0.539752
```

```
2017–05–10 0.275916 -0.420183 1.744796
```

```
2017–05–11 -0.206065 0.910706 -0.028646
```

```
2017–05–12 1.178219 0.783122 0.829979
```

我们还可以观察到数据的快速统计摘要:

```
>>> df.describe()
```

```
A B C
```

```
count 8.000000 8.000000 8.000000
```

```
mean 0.372040 0.729842 -0.109691
```

```
std 0.731262 0.657931 1.244801
```

```
min -0.695919 -0.420183 -2.065571
```

```
25% -0.230018 0.574236 -1.079766
```

```
50% 0.444727 0.868091 0.158633
```

```
75% 0.874268 1.026228 0.612309
```

```
max 1.339559 1.508536 1.744796
```

我们还可以对数据应用函数，如累积和、查看直方图、合并数据帧、连接和整形数据帧。

```
>>> df.apply(np.cumsum)
```

```
A B C
```

```
2017–05–05 -0.301877 1.508536 -2.065571
```

```
2017–05–06 0.311661 1.456113 -3.271661
```

```
2017–05–07 1.084612 2.291911 -2.925748
```

```
2017–05–08 2.424171 3.192296 -3.963406
```

```
2017–05–09 1.728252 4.565088 -3.423654
```

```
2017–05–10 2.004169 4.144905 -1.678858
```

```
2017–05–11 1.798104 5.055611 -1.707504
```

```
2017–05–12 2.976322 5.838734 -0.877526
```

你可以在这里阅读关于这些数据结构[的更多细节。](http://pandas.pydata.org/pandas-docs/stable/dsintro.html)