# 一个自学成才的青少年如何构建一个在你的浏览器上运行的操作系统

> 原文：<https://www.freecodecamp.org/news/how-a-self-taught-teenager-built-an-operating-system-that-runs-in-your-browser-47da735ac919/>

亚利桑那州少年亚伦·亚当斯建造并维护了这个令人敬畏的个人项目。使用 [c9.io](https://c9.io/) 的在线开发环境完全在云中开发，aOS(AaronOS 的缩写)是一个令人印象深刻的工具，包含一大堆特性和定制机会。

仅列出其中的一些功能:

*   喜欢 OSX 风格的用户界面吗？检查。喜欢经典的 Windows XP 主题用户界面？检查。还是想自己设计？去吧！
*   请务必试用 NORAA 虚拟助理的语音识别功能
*   在 bash 风格的终端窗口中测试命令
*   尝试使用一些内置的“应用程序”，如文本编辑器、函数图示器和音乐可视化工具
*   为什么不使用 App Maker 编写自己的定制应用程序呢？

更令人印象深刻的是这位年轻程序员背后的故事，以及他如何维护这个正在进行的项目。

所以我联系了 Aaron，他友好地同意回答几个问题。你可以看下面他的回答。

我:你好，亚伦，感谢你同意回答几个关于 aOS 的问题。让我们先来听听更多关于你的事情，以及你是如何开始你的编程之旅的。有没有什么关键人物或事件激励了你？

亚伦:谢谢你对 aOS 感兴趣！关于我？我只是一个普通的亚利桑那高中毕业生。我目前在 AMC 剧院的一家分店工作，也在一家杂货店工作。实际上，我的第一次编程经历是命运的一次讽刺性转折。当我第一年报名参加高中课程时，我对摄影非常感兴趣(今天仍然如此)，所以我要求将电影制作作为我的课程之一。

显然，那堂课已经满员了，所以我被安排在 GenYes——一个专注于教育我们这一代人重要的计算机相关技能的班级。比如排除故障和修理电脑，使用常用程序，当然还有编程。如果我被电影制作班录取，我可能永远也找不到编程，更别说让它像现在这样包围我的生活了！我的 GenYes 老师真的帮了我大忙，我在高中的最后一年重新参加了这个班。正是这门课让我的编程之旅得以起步。

那真是命运的幸运转折！多说说 aOS 是怎么开始的？项目最初的想法或范围是什么？

这是个棘手的问题！我最初的编程经历是在制作几十个小项目中度过的；如计算器、串操纵器等。其中一个项目是“操作系统”，或者至少看起来有点像。你可以在这里看到这个项目。

当时，我非常自豪——但我心想，为什么要停留在一个简单的笑话应用程序上呢？如果我试着做一个有实际目的的合法程序呢？aOS 是我带着最初的渴望去的地方。注意 aOS 和第一个“操作系统”项目是两个完全不同的构建。在 aOS 的早期，我曾多次重新开始和放弃，通常的借口是“我已经无法理解了”。

我相信很多初级开发人员都有类似的经历。你是如何克服最初的疑虑的？

我解决这些早期疑虑的主要方法是，在所有这些不成功的尝试之后，我决定实际上完成我的 JavaScript 编程课程来学习更多的东西，这样我就可以回来再试一次。

我在下一次尝试中采取的方法是，我不会专注于“构建一个完整的操作系统”，而是专注于“创建一个桌面”，然后“创建一个窗口”，然后“让窗口移动”——每一项都是独立的、自包含的任务。这种焦点的改变意味着这个项目不再像是一个永远无法完成的巨大任务。相反，它现在感觉像是一堆(理应)更简单的任务，每次我完成一项，它都会激励我继续下一项。这种情况一直持续到今天——我很自豪地说 aOS 现在感觉就像一个“真正的”桌面。

你能给每个阅读这篇文章的人解释一下 aOS 到底是什么吗？它在多大程度上模拟了“真实世界”的操作系统？

好的，那么 aOS 实际上没有以任何方式与机器的硬件交互。aOS 得到的最接近机器的信息是读取电池电量，也许是读取网络状态。浏览器处理所有的底层内存管理，aOS 不能独立工作，比如说，安装在引导代码中或在本机代码中运行。从这个意义上说，aOS 更接近于桌面环境，而不是操作系统。

当然——作为 UI 和系统设计的一个练习，这是一个非凡的壮举。你从现有的项目中获得了什么灵感？

我从许多来源获得了灵感。回想我记忆中，真正用过的操作系统只有 Windows(在家里)和 Chrome OS(在学校)。在现存最古老的 aOS 版本中，有一些受 Windows 启发的人工制品。其一，记事本当然是以它的 Windows 对应物命名的。

文件和互联网应用在设计中从 Chrome 浏览器中获得了一些微妙的线索；大多数情况下，顶部的标签栏都贴在内容的上方。最近，来自其他来源的灵感可以很容易地在操作系统的不同地方找到。WindowBlur 效果很容易让人想起 Windows 的 Aero 外观。任务栏与 Windows 的任务栏非常相似。我包含了一个模拟的 bash 控制台，它显然是受 Linux 的启发。Linux 的另一个特性是能够用标题栏左侧的按钮折叠窗口。“设置”菜单很大程度上受到了 Windows 10 设置菜单的启发。

有几个不同的仪表板模式，这些模式的灵感来自 Windows 7、Android 和 Linux 的 XFCE·威斯克曼菜单。我敢肯定，你可以发现我从这些来源中获得灵感的许多其他功能！

总的来说，到目前为止，你最喜欢这个项目的哪些部分？你面临的最大挑战是什么？

项目中我最喜欢的部分？哦，天哪，又是这些难题！我真的不确定我是否能指出一个具体的时刻，但我记得让窗口移动和调整大小功能与窗口模糊效果一起正确工作是最好的“我做到了！”时刻。我要说的是，在最终完成和完善某样东西之前，辛苦工作一个多星期的那些时刻——是我在 aOS 开发中最喜欢的时刻。

至于开发中具有挑战性的部分，我可以立即想到两个:使用浏览器强制实施的安全限制，以及浏览器引起的性能问题。事实上，由于性能太差，我不得不多次重写操作系统的主要部分。

例如，当它首次亮相时，即使在更强大的机器上，WindowBlur 在帧率上也是非常可怕的。我被迫重做，甚至最近只是为了性能而稍微调低了一点。

至于安全性，确保每个人都在 https 中查看页面是非常困难的。如果没有 https，每次我试图访问麦克风(对于 NORAA 虚拟助手)或相机(对于相机应用程序)时，Chrome 都会要求得到许可提示。使用 https，网站更安全，Chrome 只向*询问一次*这一切，并记住每个用户的偏好。

还有，现在想来，也许我在 aOS 开发中面临的绝对最坏的问题是 Chrome 的缓存。Chrome 会缓存我的脚本和样式表，这使得更新几乎不可能被推送。我已经解决了这个特性，将毫秒级的 GET 请求放在脚本文件的 URL 参数中。这是一个很难解决的问题！

你是更广泛的开发者社区的一员吗？

直到最近，我一直独自从事这个项目。然而，我已经收到了一些来自公众的图标、图形和想法，我欢迎任何人的贡献——只要我能够自己审查和实施这些变化。

您的大部分源代码都是公开的，并且非常规，因为大部分逻辑都包含在一个 12，000 多行的文件中。这会影响您的工作流程吗？如果会，您是否计划在某个时候重构您的代码？

虽然非常大的单个文件看起来像是一个警告，但实际上我这样保存它是有原因的。当脚本文件被单独调用时——比如每个应用程序都有自己的脚本文件 Chrome 将异步加载每个文件，并在加载后立即运行，结果是它们几乎总是乱序运行！

在 aOS 中，系统应用程序以错误的顺序初始化，或者某些启动代码以错误的顺序运行，都会破坏系统。在一个大文件中，所有这些时间问题都可以避免，每个模块都以完美的顺序一个接一个地加载。从那以后，我采取了更多的步骤来使源代码更加模块化，但是现在，一个大文件仍然是我要走的路。

你使用 Cloud9 来开发和托管 AaronOS。你所有的开发工作都是在网上进行的吗，还是也在本地进行？您当前的开发设置是什么样的？

最初 AaronOS 是在 Codecademy 的 codebit 程序上开发的。这是在 V0.9 和更早的时候，codebit 版本非常有限，因为我只能使用三个文件——一个 HTML、一个 CSS 和一个 JavaScript。没有 PHP，或外部链接(除了图像)。

我所有的开发工作都是在线完成的，Cloud9 IDE 在连续性方面非常好——我可以在一台计算机上编写代码，突然电池没电了，然后在另一台计算机上使用与电池没电时完全相同的 IDE。文件滚动到同一个地方，终端会话持续，制表符持续，一切都持续。甚至光标还停留在原地！我几乎可以在任何电脑上登录，然后开始工作，这太神奇了。

我的主要硬件设置是一台 HP 350 G1 机器，运行集成显卡的 i3 处理器，以及最近的 16GB RAM。这也是我的主要游戏机，它在许多游戏中运行 60FPS 的能力让我感到惊讶。

我用 Windows 10 玩游戏，但我主要在 XFCE 桌面上运行 Linux Mint。我已经安装了 AeroGlass 和 Classic Shell，这使它看起来很像 Windows 7。就我个人而言，我不是 Windows 10 UI 的粉丝——一些小细节真的让我很困扰，比如命令提示符偶尔会以 Windows 98 为主题的窗口边框打开，或者在 Windows XP 兼容模式下运行程序的方式会让它们使用 Windows 7 基本窗口边框。下定决心吧，温都思！

你显然对一贯的 UX 有敏锐的眼光！你用什么框架或工具来构建 UI 和后端逻辑？你有最喜欢的工作语言吗？

我使用 aOS 的目标之一是不使用第三方 JavaScript 库。所有代码都是我自己写的——没有 jQuery、Angular、下划线等等。—这是 100%纯“香草”JavaScript。UI 完全用 HTML 和 CSS 呈现，所有客户端代码都是 JavaScript。服务器端代码是用 PHP 编写的。

我最喜欢的语言应该是 JavaScript，尽管 TI-BASIC 紧随其后。对于任何不知道的人来说，TI-BASIC 是 TI-8*计算器上使用的语言，对我来说意义重大，因为这是我在其他课上编程的唯一方式！另外，学校里的其他孩子很欣赏我为他们在计算器上安装的电子游戏。

NORAA 虚拟助手是一个非常酷的功能——它是如何实现的？

NORAA 是在一天晚上我重新看战争游戏时发明的，(一部用一台叫做约书亚的电脑制作的电影，它欺骗了所有人，让他们以为有一场全球热核战争)。NORAA 的灵感部分来自 Windows 的 Cortana，部分来自 JOSHUA *(编辑:Aaron，请不要启动 WW3…)* 。

约书亚是 NORAA 终端状外观的来源。我已经为 NORAA 编写了根据他或她对你的态度来调整他或她的反应的能力。可悲的是，除了几个测试命令之外，这个特性几乎没有实现。目前，NORAA 更专注于执行任务，而不是在互联网上查找东西。如果你想知道的话，诺拉是我自己的名字，倒着拼的！

就未来而言，你有什么计划和抱负？阿朗诺斯的下一步是什么？一般来说，基于云的系统和桌面又如何呢？

在这一点上，我对阿朗诺斯没有具体的计划；我的意思是，阿洛诺斯没有真正的“终结”点。就像游戏《《我的世界》》一样，它会不断更新和改进，直到我的身体无法继续工作，或者我的钱用完了……无论哪一个先出现！

也就是说，aOS 的下一个重要步骤是发布测试版。测试版尚未完成，仍在开发中，但它将以一些大的升级为标志，也许是通过引入一个扩展市场，在那里你可以下载其他用户制作的应用程序、脚本和样式表。只有时间能证明一切。

虽然很少有基于云的桌面可用，但我能想到的唯一两个仍在积极开发中的是我自己的 aOS 和另一个名为 [OS.js](https://www.os-js.org/) 的项目，这是一个令人惊叹的项目。

我希望 aOS、OS.js 和其他类似的项目能够证明，有了编程(和足够的空闲时间)，你几乎可以实现任何你想实现的事情。

Aaron，感谢你抽出时间回答一些问题！再次祝贺一个真正令人印象深刻的项目——我期待看到接下来会发生什么！

我的荣幸——感谢您给我这个谈论 aOS 的绝佳机会！当它出版的时候我期待着阅读它。