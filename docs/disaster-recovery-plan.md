# 如何为您的 IT 团队创建灾难恢复计划

> 原文：<https://www.freecodecamp.org/news/disaster-recovery-plan/>

你知道一个古老的笑话:有两种公司，那些受到 it 灾难打击的公司和那些还没有意识到自己受到 IT 灾难打击的公司。

但它们的共同点是，还会有更多的灾难降临。所以问问你自己，你是否准备好迎接下一个挑战。

这篇文章基于我的 [Pluralsight 课程，Linux 系统维护和故障排除](http://pluralsight.pxf.io/VMKQj)，旨在让你开始思考构建一个有效的协议需要什么。

## 你需要准备的东西

这一切都始于**业务连续性计划** (BCP)。这是一个正式的计划，旨在定义一个组织在紧急情况下用来确保生存的程序。

bcp 通常包括子计划，以确保员工和客户的即时安全，尽快恢复之前指定的关键操作，并最终恢复完全正常的操作。

此外，有效的 BCP 还将包括两个专门针对 IT 运营的子计划:事件管理协议和灾难恢复计划。

**灾难恢复** **计划** (DRP)旨在发生灾难时保护组织的 IT 基础设施。其主要目标是尽可能减少损失并尽快恢复功能。

我们称之为“计划”的原因是，如果没有认真的事先准备，它是不会起作用的。基础设施保护、威胁检测和纠正协议是该计划的关键部分。

**事件管理计划** (IMP)旨在应对针对 IT 基础设施的网络攻击的特定威胁。它的目标是最大限度地减少损失和消除威胁。

你可以很容易地看出，你的 DRP 和 IMP 之间会有一些重叠。但是，灾难恢复的重点是让您的基础架构恢复正常运行，而事件管理与 IT 安全领域的关系更加密切。

在这篇短文的其余部分，我们将了解创建事件管理和灾难恢复计划的内容，以及如何确保您的计划是合理的，并且在执行时应该能够真正发挥作用。

## 制定事故管理协议

由于事件管理将是您对问题的第一反应，我们将从那里开始。

出现问题的第一个迹象可能来自注意到系统有问题的用户。或者，如果您在配置基础设施方面做得特别好，它也可能以监控软件触发的自动警报的形式出现。

当收到警报时，技术人员或管理人员的工作就是决定如何处理以及由谁来处理。

升级可以通过直接电话或电子邮件、通过协作工具(如吉拉)提交的票证，或者使用专门构建的安全信息和事件管理(SIEM)工具进行。

不过，你在流程中构建的自动化越智能，它就可能越快、越有效。

无论谁最终承担最终责任，都将协调各方努力，明确诊断和解决问题。理想情况下，必要时，这种协调将包括管理员、开发人员和其他关键利益相关者，以确保您获得了解决问题所需的所有资源。

当一切结束时，一旦您确认问题已解决，您将希望通过评估哪里出了问题，哪里做得对，您的响应如何才能更好，以及您如何返工以降低事件重复发生的风险来结束事件。

但是所有这些与 IT 管理有什么关系呢？嗯，负责任的 IT 经理必须能够在其基础架构中构建弹性。

这意味着要花大量时间来微调他们的软件监控系统，这样他们就可以捕捉到真正的问题并向您发出警报，同时尽可能减少误报。

它可能还包括智能地自动化日志记录和入侵检测系统，并大致了解事情应该如何发展。

## 制定灾难恢复计划

灾难恢复规划要求您:

*   准确定义恢复的含义
*   确定实现恢复所需的资源
*   将这些观察转换成正式的计划格式
*   将计划传达给有朝一日必须执行的玩家

**恢复**是什么意思？当你可怜的、遭受重创的基础设施恢复到灾难发生前的状态。

通过建立符合您组织需求的**恢复时间目标** (RTO)和**恢复点目标** (RPO)，可以定义恢复到该点所需的条件。

**恢复时间目标**代表您的组织在 IT 服务中断后能够存活的最大分钟数、小时数或天数。因此，您的恢复计划需要将该硬性截止日期纳入其协议中。

当然，这意味着你需要让团队成员即使在深夜也能及时赶到办公室，以便有所作为。

但这也意味着，比方说，如果您的 RTO 是 6 个小时，但从备份中恢复关键数据仅处理传输就需要至少 8 个小时，那么您必须在签署计划之前重新考虑这些数字。

**恢复点目标**是您的组织在停机期间能够承受的事务数据丢失量。

举例来说，一个通常每分钟处理 25 笔交易的电子商务网站可能有能力向愤怒的客户道歉并退款 30 分钟，这些客户想知道为什么他们的信用卡被计费，但他们的电动火车组却没有被交付。然而，超过 30 分钟的退款可能会耗尽你的财务储备，以至于你不再可行。

在任何情况下，计算准确可靠的 RTO 和 RPO 都是您设置恢复计划运行限制的方式。或者，换句话说，你已经定义了恢复的含义。

那么**资源**呢？我指的是数据备份，以及必要时让应用程序恢复运行所需的物理设备。

要做到这一点，你必须决定一个基础设施备份系统。无论您选择增量还是差异、现场还是异地、单一还是多种介质类型，您都必须准确规划恢复过程，以及它是否能满足您的 RTO 和 RPO 限制。

当然，可能会发生无数非常糟糕的事情，使这些计划完全无用。如果您的本地服务器设备烧毁了怎么办？如果它因某种政治动乱或大范围的权力中断而丢失了呢？

即使你已经认真地在异地维护了最新的数据备份，如果你的硬件实际上已经不存在了，它们对你有什么好处呢？

想想所有这些可怕的事情，使用 AWS 和 Azure 这样的平台准备一个基于云的备份协议听起来很有吸引力。大型公共云拥有足够广泛地分布其基础架构的资源，因此几乎不可能出现整体宕机。

例如，您可以在镜像您的主要部署的公共云平台上维护可靠复制的数据存储。您还可以设计一个基础架构模板，它可以加载您的备份数据，然后按需启动，以便在发生停机时接管。因为没有什么东西是在真正需要的时候才开始运行的，所以可能需要几分钟的时间来提高速度。

热备用恢复设计可以在最少数量的虚拟服务器上保持数据全天候运行。在紧急情况下，你可以按下开关，平台的自动伸缩将启动你需要的所有实例。

您可以将缩放设置为当您的主系统发出警报时启动。公共云提供了无限的可能性，但它们都需要规划和准备。

一个可靠的灾难恢复计划必须在危机到来之前很久就得到有效的沟通。实际上，这意味着它将被写出来，打印出来，并分发给每一个执行计划的关键人物。

这并不是说它就此结束:这些玩家当然会真的读过这个东西，并且，在理想的情况下，参与到真实的模拟中，直到他们确信他们可以在压力下工作。

这本书里有什么？

*   列举所有可能出错并导致系统崩溃的东西
*   一份清单，准确列出您的服务器机房中运行的设备，以及更换这些设备所需的设备
*   访问和恢复备份数据所需的信息
*   负责计划各个方面的人员的最新联系人名单
*   构成恢复的任务和事件的确切顺序

太多细节了。但与创建一个现实世界的复苏计划所需的全部准备工作和普通的艰苦工作相比，这只是沧海一粟。

但是现在，从本模块中获得的关键只是记住所有这些。为什么？因为下次您坐下来配置监控包或管理框架时，您会考虑事件管理协议和灾难恢复计划，并考虑如何将它们包含在您的配置中。

**在我的【bootstrap-it.com】有更多的书籍、课程和文章形式的管理知识。**