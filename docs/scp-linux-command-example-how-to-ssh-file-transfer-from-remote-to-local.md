# SCP Linux 命令–如何将 SSH 文件从远程传输到本地

> 原文：<https://www.freecodecamp.org/news/scp-linux-command-example-how-to-ssh-file-transfer-from-remote-to-local/>

每当您使用计算机或任何具有存储容量的电子设备时，您可能需要以各种方式分发或共享信息和文件。

一些最常见的共享文件包括音频文件、图像、视频、pdf 或任何形式的 word 文档。

大多数情况下，共享的信息是私人的或机密的，这意味着它是针对特定的人或一群人的，因此保护它是必不可少的。

当谈到手机等设备时，我们有一些应用程序可以促进文件传输，如 xender、appshare，有时甚至可以使用蓝牙。现在，当涉及到计算机时，情况并没有什么不同，我们有软件，甚至有网站可以提供同样的便利。

当谈到在像 Linux 这样的操作系统中共享数据时，有多种命令可供选择来共享信息。但是今天我们将重点关注 ****SCP**** 命令。它让您安全轻松地共享文件和数据。

在今天的市场空白中，拥有 Linux 技能是非常必要的，如果你是一个系统管理员的话，更是如此。作为一名系统管理员，数据共享将是您的日常活动之一，您将需要共享的数据是安全的，通过使用 SCP 命令，您将能够实现这一点。

在我们开始之前，让我们先了解什么是 SCP，然后我们将学习一些可以用于文件传输的命令。

## 什么是 SCP 命令？

SCP 是安全复制协议的缩写。它是一个命令行实用程序，允许用户在两个位置之间(通常是在 unix 或 linux 系统之间)安全地复制文件和目录。

该协议确保文件的传输是加密的，以防止任何有可疑意图的人获取敏感信息。

用更简单的话来说，我们可以说 SCP 对于`cp` ( *copy* )命令来说是一个更安全的选择。

还需要注意的是，SCP 通过 SSH(安全外壳)连接使用加密，这可以确保传输的数据免受可疑攻击。

## SCP 语法

就像终端中使用的任何其他命令一样，SCP 也有一种格式，用于成功执行。通过理解语法，您可以更容易地写下命令:

```
scp [OPTIONS] [[user@]src_host:]file1 [[user@]dest_host:]file2 
```

*   它初始化命令并确保一个安全的外壳就位。
*   它们根据使用方式授予不同的权限。一些最常见的选项包括:
*   ****P****(Caps)——指定与远程主机建立连接的端口。
*   ****p**** (小写)-保存时间-加盖以便于修改和访问。
*   ****r**** -递归复制整个目录
*   ****q**** -安静地复制文件，不显示进度消息。也称为安静模式。
*   ****C**** -用于传输过程中的数据压缩。
    阅读 [scp 选项](https://linux.die.net/man/1/scp)了解更多关于选项的信息
*   `src_host` -文件所在的位置。根据文件的来源，源可以是客户端或服务器。
*   `dest_host` -文件将被复制到的位置。

因为我们处理的是文件传输，这无疑意味着必须有多台机器的参与才能使这个过程成为可能。我们能够在以下情况下使用 SCP:

*   在同一台机器上复制文件。
*   将文件从本地主机复制到远程主机，反之亦然。
*   在两个不同的远程服务器之间复制文件。

在这一点上，公平地说，在使用任何 SCP 命令之前，您需要做一些事情:

*   SSh 安装在客户机和服务器上。
*   对客户机和服务器的超级用户访问权限。

两件事都准备好了，你可以走了。让我们从查看命令的运行开始。

## 常见 SCP 命令

### 将文件从本地主机复制到远程服务器

复制文件时，能够将文件/数据从本地存储传输到远程服务器非常重要。使用 SCP 命令时，您需要指定一些事情来实现这一点。

您必须指定文件的路径作为源，还必须指定文件要复制到的远程主机路径。

让我们假设一个场景，我们有一个文件`test.txt`，我们需要将它复制到远程服务器，我们的命令如下所示:

```
scp test.txt userbravo@destination:/location2 
```

我们可以复制的文件数量不受限制。假设我们在桌面上名为 web 的文件夹中，其中有`.php`文件扩展名，我们需要将它复制到远程服务器主目录。我们的命令看起来像:

```
scp *.php userbravo@destination_host:/~/ 
```

*****。php**** -用。当前指定文件夹中的 php 扩展名。
****/~/**** -表示将它们复制到主目录中。

假设您想要复制一个名为 test.txt 的文件，并在远程服务器中使用不同的名称保存它，这一次使用了一个端口选项。该命令将是:

```
scp -P 8080 test.txt userbravo@destination_host:/user/home/test2.txt 
```

在本例中，我们将文件 test.txt 从本地计算机复制到远程计算机，在远程计算机中，该文件将使用端口 8080 保存为 test2.txt。

### 将文件从远程复制到本地

更好的理解方法是使用一个例子。假设您想从远程系统复制文件。要复制文件，您需要首先调用 SCP，然后调用远程用户名@IP 地址，文件路径。

如果您不指定路径，在这种情况下，默认路径将是用户的主目录，这将遵循本地存储文件的路径。

****语法****

```
scp <remote_username>@<IPorHost>:<PathToFile>   <LocalFileLocation> 
```

假设我想从地址为 *192.168.1.100* 的远程设备上复制一个名为 *linuxcheatsheet* 的文件。

linuxcheatsheet 文件存储在 kali 用户的主目录中，我将对这个用户进行身份验证。因此，在冒号后面，我不需要指定路径，因为这是默认路径，即主目录，我只需键入文件名(“linuxcheatsheet”)。然后，我通过键入一个点来指定当前目录作为存储文件的本地位置。

```
scp lary@192.168.1.100:linuxcheatsheet .
```

### 将文件从远程主机复制到另一台主机

在文件传输中使用 SCP 的好处在于，它不仅允许本地机器之间的连接，还允许你连接到远程服务器。

假设我们想要将一个名为 test.txt 的文件复制到另一个远程服务器，该命令如下所示:

```
scp user1@host1.com:/files/test.txt user2@host2.com:/files
```

该命令将从用户 1 的文件文件夹中复制 test.txt，并在用户 2 中创建它的副本，该副本运行在仍在文件文件夹中的*host2.com*上。

### 复制多个文件

复制多个文件时，您只需将文件名指定为源路径。比如说。

****语法****

```
scp file1 file2 ... user@<ip_address_of_user>: Destination 
```

假设我们想要复制文件 1、2、3 和 4。该命令如下所示:

```
scp file1.txt file2.txt file3.txt file4.txt user1@host1.com:/home/user1/Desktop
```

## 外卖点:

*   要能够复制文件，您必须对源文件具有读取权限，对目标系统具有写入权限。
*   SCP 命令依赖 SSH 进行安全数据传输，这意味着它需要密码来在远程系统上进行身份验证。
*   当复制具有相同名称和位置的文件时要小心，因为 SCP 会在没有警告你的情况下覆盖它们。
*   为了能够区分本地和远程位置，请使用完整的冒号 ****:**** 。

## 包裹

无论您是支持工程师、系统管理员，还是像我一样正在成长的使用 Linux 或想要学习它的开发人员——在某个时候，您很可能不得不转移文件。了解这些简单的 SCP 命令将会派上用场。

在本文中，我们已经介绍了一些您希望使用 SCP 的最常见的场景，希望您已经学到了一些新东西。

享受编码❤