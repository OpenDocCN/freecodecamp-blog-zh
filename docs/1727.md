# 如何将 Google APIs 与 Python Django 集成

> 原文：<https://www.freecodecamp.org/news/how-to-integrate-google-apis-with-python-django/>

谷歌有一堆不同的 API。弄清楚如何将它们合并到 Django 项目中可能很棘手。

我们刚刚在 freeCodeCamp.org YouTube 频道上发布了一门课程，将教你如何构建一个使用多种 Google APIs 的 Django 应用程序。

鲍比·斯特曼创立了这门课程。Bobby 是一名经验丰富的开发人员，在他的 YouTube 频道上创建了许多有用的课程。

本课程中包含的 API 有 Google Places API、Google Maps API、Google Directions API 等等。

以下是本课程涵盖的部分:

*   设置和启用 Google API
*   设置 Python 和 Django
*   后端开发，如模型，视图和网址
*   前端开发，如 HTML 和 JavaScript
*   测试我们的新应用

观看 freeCodeCamp.org YouTube 频道的全部课程(2 小时观看)。

[https://www.youtube.com/embed/_vCT42vDfgw?feature=oembed](https://www.youtube.com/embed/_vCT42vDfgw?feature=oembed)

## 副本

(自动生成)

从博比·斯特曼那里学习使用一个 Django 和六个不同的谷歌 API。

嘿，大家都是这里解码的鲍比。

在本课程中，我将带你浏览并展示如何使用六种不同的 Google API 来构建 Django 应用程序。

所以让我们从演练开始。

如果你看我的屏幕，你可以看到我已经在登录页面打开了应用程序。

因此，如果我们点击注册，因为我们目前没有一个用户帐户，有鲍比·斯坦门。

我们会有一个用户名，这肯定是一个电子邮件，鲍比在 demo.com。

密码，我就用弗雷德弗雷德一号。

确认密码，弗雷德，弗雷德一，我们也有一个显示密码切换，它将密码输入转换为文本输入。

所以你可以看到它们是匹配的。

如果我单击注册，当我单击注册时，我们将使用重新捕获第三版软件。

这是一个谷歌产品，为提交的表单打分。

分数越高，越有可能是一个真正的人提交了表格。

我们在屏幕右下角看到这个元素的事实表明软件正在工作。

所以这个注册应该得到一个消息，说谢谢你注册，然后将被重定向到用户帐户页面。

用户帐户，然后用户可以用地址更新他们的配置文件。

这就是我们使用 Google Places API 的地方。

所以它是有预见性的。

因此，当我输入时，谷歌会预测在设置中预先定义的国家地址，并给你一些符合搜索条件的不同地址。

所以我们选 123 吧。

它会显示一些不同的地址，比如维多利亚街 123 号，当我点击它时，它会预先填充一些隐藏的输入。

然后我可以选择更新。

您的个人资料已更新。

好的，这是 API 之一。

另一个在路上。

这个应用程序允许你输入一个起点，一个起点，一个路点，一个路点，两个路点和目的地。

当我们提交时，或者实际上，当我们在这里完成第四次输入时，它会以编程方式创建一个参数字符串，并将我们重定向到一个不同的 URL，它会呈现地图。

所以我们来补充几个地址。

所以我们会去一个，高街，萨顿真的，他们会有另一个高一高街，他们很容易。

所以这是我家附近的地方。

然后我们去一个，高街，地层利。

最后，我们将做一个市场。

很容易。

我们找到了。

当我点击这个按钮时，它会显示“对，你已经完成了所有四个航路点”。

如果你看顶部，这里创建了一个奇特的参数字符串，但是 URL 是 map。

所以它显示了起点和目的地的经纬度，从起点到目的地的时长，起点和目的地的距离，然后它会渲染出一张地图，很出彩。

如果我点击，点击这里，它会显示 HTML 中的一些元素。

它会告诉你从起点到终点的每一步。

这就是我构建的应用程序。

这就是我们在本课程中要经历的，我将经历每一个必要的步骤，从在 Google 启用 API，重新开始一个新项目，构建后端构建前端，以及全面测试应用程序。

所以事不宜迟，让我们直接进入第一部分。

嘿，大家都是 Bobby，来自 decode，在这一部分中，我们将设置 Google API 密钥。

这些 API 键将允许我们与六个 Google API 交互。

我们今天要看的第一个东西叫做 google recaptcha。

现在，这个软件可以阻止恶意软件与您的网站进行交互。

因此，本质上，它将痞子拒之门外，并允许真正的人提交表单。

现在你会在其他人的网站上遇到这种情况，你将完成一个表格，当提交该表格时，你会看到九张图片，并要求你选择任何可能包含公共汽车、飞机或摩托车的图片。

如果您选择了正确的图像，您就可以提交基于挑战的表单提交。

这是第二版，我们不会用第二版，今天，我们会用第三版。

现在这不是挑战的基础。

取而代之的是，谷歌根据某些标准对每个 spawn 提交的内容进行评分。

现在，分数越高，就越有可能是一个真实的、活生生的人，是某种形式的，而不是某种恶意软件。

这就是我们今天要设置的内容。

在那之后，我们将转到谷歌云，我们将设置另一个 API 键，允许我们通过启用五个 API 来设置地点、方向、距离矩阵、地理编码和地图 JavaScript。

因此，让我们直接进入它，并设置重新捕获。

如果你看我的屏幕，它在 google.com 打开，在这个页面上，你会找到你需要的所有信息，找到更多关于再捕获的信息。

但它有一些使用案例和历史，因为它已经发展了多年，当在这个网站上，确保你有一个谷歌帐户，你会需要一个，点击 V 三管理控制台。

您可以在这里看到，我有六个站点，我使用它已经有一段时间了，我的很多客户都喜欢使用 recreate。

但是不管你是否已经在你的机器上设置好了，你都需要遵循这个过程。

所以你需要点击这里的小加号按钮，创建一个新的站点。

所以让我们来创建你的网站。

我们称之为谷歌姜戈教程，我们将 nkuku reCAPTCHA 第三版。

同样，它说用分数验证请求。

这就是我们想要的版本 2 用挑战来验证请求。

因此，我们将单击版本 3。

然后您需要添加域。

所以我们在一个开发环境中做这件事。

所以它在我的本地机器上，我们将使用 Django。

因此，本例中的域是 localhost。

你不需要把港口的温泉，现在我有一个当地的职位。

然后单击接受。

并提交。

我们找到了。

因此，它创建了一个密钥和一个秘密密钥与 API 的。

如果你以前做过，你会知道，但如果你没有，我喜欢这样看 API 键。

API 密钥相当于用户名。

而 API secret key 就相当于密码，尽量保密就好，因为你不希望别人拿到你的密钥，虚构地打电话。

所以有复制站点密钥，我喜欢把它们放在一个记事本里，这样我以后就可以用它们了。

我这里有一个开着的。

所以我们捕捉下划线键等号，我们将把这个键粘贴回网站。

我们将复制密钥。

我们也会把它放在这里。

您可以在这里看到，我有另一个名为 Google equals 的工具，这是我们现在要设置的 API 密钥。

这就是我们设置重新捕获所需做的全部工作。

剩下的工作由 Python 代码完成，或者在本例中，由 Django web 框架完成，我们将在下一节中设置它。

所以我们现在继续。

我们将设置谷歌 API 键，允许我们使用地点方向距离矩阵地理编码和地图 JavaScript，你需要做的是访问 cloud.google.com 网站。

这是网站。

你需要一个谷歌账户。

你可以看到我有我的图标，我的标志，设置正在解码。

在谷歌上设置时，你需要点击控制台。

它会带你去你的控制台家。

然后你需要建立一个新的项目。

所以如果你只是坐着看我做了什么。

在这里，只需点击下拉列表。

然后你可以建立一个新的项目。

我们称之为谷歌 Django 教程。

单击创建。

然后当它完成后，你可以选择新的我刚刚在做它在做它的魔术。

只需要一秒钟。

好了，完成了。

现在，单击我们刚刚建立的项目。

这是新的谷歌 Django 教程主页。

您现在需要单击 API 和服务。

在那里，您可以选择单击“启用 API 和服务”。

但是首先，我们需要单击凭据，我们需要设置 API 键，单击单击 banjos。

这将是一张空白的白板，我们现在需要单击“Create credentials”退出。

这将允许我们选择不同的选项。

但是我们今天想要的是 API 键，点击 API 键。

好了，复制 API 键。

并把它保存在记事本上。

我们把它带回了网站。

关闭。

现在，我们还没有给它命名，我们可以通过点击这里的这个小笔编辑 API 键来命名。

在这里，您可以将 API 密钥限制到特定的 IP 地址。

更改名称，我们将这是谷歌姜戈。

教程键。

并保存。

等你看到这个教程的时候，这个教程已经死了，ie 也要从谷歌上移除了。

所以这里没有风险。

这是关键，我们已经设置了关键，现在我们需要启用 API。

如果我们进入控制面板，这里的这个选项，另外，在那里启用 API 服务。

因为地图是谷歌提供的最受欢迎的 API 服务，它就在顶部，点击查看全部 17 个有很多。

向下滚动是一大堆不同的 API。

我们需要看的第一个是位置 API。

我不会详细介绍它们各自的功能，但是在您自己的时间里，单击它们，它会为您提供它们具体功能的概述。

现在，在我们的项目中创建帐户时，places 将使用它来预填充地址。

所以你开始输入一个地址，它会预测你要找的地址。

你可以选择它，它会预先填入所有的地址、城镇、城市、县和邮政编码，等等。

你可以从中获得经度和纬度，这非常非常有用。

因此，让我们单击“启用”。

那需要一点时间。

既然已经完成并启用了，我们现在需要寻找方向 API。

因此，您可以返回概览页面，单击“enable API”并返回主控制面板。

但是因为我们现在已经启用了一个，所以它会给你一些可以使用的其他 API 的选项。

让我们看看方向 API。

单击启用这些下一个 API，方向、距离、地理编码和地图、JavaScript，这些是我们在计算两个地理点之间的不同路线和距离时要使用的 API，也就是经度和纬度。

这就是方向 API，我们现在需要距离矩阵。

我们将尽快实现这一点。

公平地说，有些是不言自明的。

下一个是谷歌地理编码。

你瞧，这让我们可以对某些点进行地理编码。

因此地理编码 API 将启用此功能。

最后，我们需要找到地图 JavaScript API，并启用它。

这将允许我们编写一些 JavaScript 来实际进行调用，因为我们不会从 Django 进行 API 调用，调用本身将在 JavaScript 中处理。

因此，让我们单击地图 JavaScript API。

启用。

我们找到了。

简单回顾一下，在这一部分，我们创建了两个 API 键。

其中之一是谷歌 recaptcha 第三版，这将使我们能够确保真正的人在我们的项目上提交表格，并阻止痞子提交这些表格。

然后，我们在 Google Cloud 上创建了另一个 API，并启用了 Google Places、Google directions、Google Distance Matrix、Google geocoding 和 Google Maps JavaScript API。

这将允许我们让我们的用户完成或开始键入他们的地址，它将预测他们住在哪里，他们可以选择一个地址。

他们还可以添加两个不同的点。

因此，在任何给定的国家的两个位置，我们的项目将计算这些点之间的路线和距离。

好了，这一段到此结束。

感谢观看。

这将开始在下一部分中建立项目。

谢谢你。

再见再见。

嘿，各位，我是解码部的鲍比。

在这一部分，我将向您展示开始构建这个 Google API 应用程序所需的一切。

因此，我们将使用一个名为 Django 的 Python web 框架，我们将学习如何启动一个新项目，如何创建一个应用程序，如何配置获取一些设置和静态文件，如 CSS、JavaScript 和图像，以及如何使用 URL comp。

如果你熟悉姜戈，你会知道这意味着什么。

然而，如果你是一个绝对的新手，我会快速向你展示一些关于 Python 和 Django 的知识，以及我们将使用的一个库，在我的例子中是虚拟 MV 包装 dash，因为我使用的是 Windows 机器，所以如果你看我的屏幕，我已经在他们的下载页面打开了 Python 网站。

如果你的机器上没有下载 Python，你需要这样做，我有一个视频的链接，现在在屏幕的顶部，它会告诉你安装 Python 和配置一个名为 Virtual envy wrapper 的库需要做什么。

这是这一页。

所以它在 pyp.org 的一个仓库里。

就像我说的，看看视频，走完所有这些步骤，在你的机器上安装 Python，在你的机器上安装虚拟的 V 包装器，你就可以开始了。

这里的第三个标签是姜戈 project.com 网站。

这就是 Django 网络框架。

这里说 Django 使得用更少的代码更快地构建 web 应用程序变得容易，这正是它所做的。

这也是大约五六年前 Django 吸引我的地方，我已经使用它很长时间了，很容易了解到它的文档非常棒。

他们在实际网站上有很好的教程，我们需要做的是点击 Django 入门，链接到这里，然后就可以了。

但这就是我们今天要开始的部分。

我们接下来要做的是，首先打开一个命令提示符。

如果您已经实际上设置了一个和 V 包装器，那么您可以开始使用某些命令。

所以我让你跟着那个视频。

因为如果你没有建立一个虚拟的 V 包装器，那么你就不能使用我今天将要使用的命令。

所以我马上要做的是，将 CD 放入我的开发目录。

我要做的是建立一个新的虚拟 E 和 v。

你可以用虚拟的方式来实现。

然后用一个空格，命名为 E 和 v。

所以我们称之为这个项目。

所以我们会去做 Django 谷歌 API 教程。

好的，点击回车。

这将超越机器上所有必要的配置。

它将建立一个虚拟的 E 和 v。

所以我要做的，我会很快展示给你们的是刚刚完成的。

因此，如果我单击我在这里的目录，我们进入我自己的目录。

如果我们要使用 Bobby，这是默认配置，将在您的用户目录中设置一个 E 和 V 文件。

所以你可以在这里看到我很羡慕，我刚刚设置了 Django Google API 教程。

如果我打开开放库站点包，这些就是我们 Python 需要工作所有站点包。

所以这些是直接从盒子里拿出来的。

所以当你建立一个虚拟的 E 和 V，这就是你得到的。

然后我们将安装 Django 和其他几个库，每次我们 pip 安装一个库时，它们都会被添加进来。

它被添加到我们的虚拟 E 和 v 中。

这就是我们刚刚做的，用虚拟 E 和 v 来添加。

回到我们的命令提示符。

现在我们要做的是 pip install Django for plus enter，所以我可能忽略了这个命令，但 pip 本质上是一个标准的包管理器，允许您安装和维护 Python 的包。

因此，我们使用 pip install 来安装公共存储库中的某些包，比如 p ypi。

我刚刚安装了姜戈。

如果我回到刚才给你们看的 envy 目录，你们可以看到这里有 Django 包，在 Django 中，它是开箱即用的，有一大堆不同的目录、模型、视图等等，这就是 Django 的基本工作方式。

所以我们将打电话，创建模型，创建视图和表单。

所有这些都与这里的目录和文件交互。

现在我们已经配置好了虚拟环境并安装了 Django，我们可以开始新的项目了。

所以你需要输入 Django dash admin，然后调用 start project 然后你需要给项目命名。

所以我们就这么称呼它。

和开发环境或者虚拟环境一样不好意思，Django 有没有 Google API 教程？好了，应该够了。

如果我再次打开我的目录，就会看到 Bobby development。

这里有 Django 的 Google API 教程，打开看看。

这是开箱即用的，我们有一个 manage.py 文件。

这里是主 comp 目录，启用设置 URL，有 ASCII 或 whiskey，还有一个 init、Dunder init 文件。

这非常非常有效，我们现在需要创建我们的第一个应用程序。

因此 Django 将允许我们在一个项目中运行多个应用程序。

因此，我们需要做的是打开我们的命令提示符备份，我们现在需要 CD 到做了赞高。

谷歌 API 教程。

现在我们已经有了项目，我们现在可以访问 manage.py 文件了。

这是主项目中的 manage.py 文件。

所以我们打电话给管理点 p y。

所以我们说 Python，管理 dot p y start app。

我们称这个为 main。

好极了。

我再次打开我的目录，我们现在有一个名为 main 的应用程序。

开箱后，它会附带一些文件。

所以您有一个空的迁移目录。

这是我们创建模型时使用的。

您将这些模型迁移到数据库，我们有一个管理文件一个 X 文件，我们有模型文件，这是您存放项目、测试和视图的所有模型的地方，我们将创建一个或两个其他文件，但这是开箱即用的。

我们现在要开始写一些代码了。

为此，我们需要一个文本编辑器，我使用 Sublime Text。

但是有那么多不同的文本编辑器，使用你最喜欢的，然后你就可以开始编码了。

所以我们要做的是，在我们刚刚创建的 Django Google API 教程目录中打开 Sublime 文本。

所以我们有它。

这是 Sublime 文本中的项目，您可以看到我们在这里有 manage.py 文件，我们有主项目目录，我们可以打开它，您可以查看这些文件。

然后我们有了这里的主应用程序，我们将把时间集中在 settings dot p y，你今天是 ELLs dot p y，这是 URL comp 文件。

因此，我们将打开设置点 p y，首先也是最重要的。

如果我向下滚动，你会看到一大堆直接来自 Django 的代码，这是非常非常标准的。

然而，我们确实需要修改一些代码。

这就是我们现在要做的。

因此，在 settings.py 文件的顶部，这里有从 path lib 导入所需的路径。

但是我们还需要另一种进口。

这是操作系统的导入操作系统。

这个库允许我们访问环境变量之类的东西，好的，我们再向下滚动一点。

如果我们在一个生产环境中或者为一个生产应用程序构建它，那么我会在这里用一个秘密密钥做一些事情，我会使用像 Django decoupled 这样的库从项目中删除敏感信息。

但是因为我们没有做任何类似的事情，而且这只是一个教程，所以我就让它保持原样。

如果您继续向下滚动，我们已经允许了更多用于生产的主机。

然后你已经安装了应用程序。

这些是开箱即用的已安装应用程序。

但是我们在这里创建了一个名为 may have you look in apps 的应用程序，它的名称是 main。

好的，这就是我们需要在 settings . p . y 中引用的内容。

因此，如果我们输入几次，只需添加一点点空白。

只需添加一个名为 main 的字符串，然后添加一个逗号，一个尾随逗号。

这就是向 Django 推销我们刚刚创建的应用程序实际上包含在项目中。

如果您再向下滚动一点，我们会看到中间件。

我们不会在这里玩这个。

但是有些库是我们或其他应用程序需要的。

他们确实需要你对中间件做一些改动。

路由 URL comp，不需要更改模板。

我们不会改变威士忌应用程序，不会改变，也不会改变数据库。

现在，如果我要为生产应用程序制作这个应用程序，我可能会使用 PostgreSQL 之类的数据库。

但是我们只是使用直接开箱即用的数据库，这没有什么坏处，所以，语言代码，它默认为 en us，我在英国，所以 en GB。

在底部，我们有一个变量叫做静态 URL。

现在，我们将创建这个应用程序，它会看起来很棒。

要做到这一点，我们需要使用文件，如级联样式表，或 CSS 和 Java 脚本或 j s 文件，以及图像，如标志和类似的东西。

所以我们需要在 settings . p . y 中配置静态文件。

我们是如何做到这一点的，我们添加了一个名为静态文件的变量。

这是一个列表。

在这里，我们调用刚刚导入的操作系统库。

路径，这在页面顶部也很重要。

然后我们加入了，我们加入了基本目录。

我们称之为静态。

对于静态文件，这是我们需要添加的唯一更改，静态 URL 保持不变，但我们还需要一个静态路由。

我们走吧。

这是操作系统的点路径，点连接点，然后是括号，这也是基于目录的。

但是这个是静态的。

CDN。

好的，这些是我们需要对静态文件的设置做的唯一改变。

你需要这些变量来让它工作，并把 CSS 和 JavaScript 文件提供给项目的前端，我不会做更多的深入探讨。

我们现在还需要三个变量。

第一个将被称为 Google API key。

让它作为一个空字符串，现在我们需要重新捕获。

酷，再一次夺回钥匙，空的，而且我们将会夺回酷，他的秘密钥匙秘密与秘密钥匙一起保存。

我们走吧。

我要做的是，打开我在上一节中做的笔记。

我们需要我们的看起来我没说秘钥。

但是我们会得到的。

我们现在就保存它。

这是 Google API 密钥。

我们找到了。

一会儿我要从 recreate 那里拿到密钥。

事实上，我们现在就开始吧。

捕捉。

我们做的其中一个网站是这里的 Google Django。

我相信我们将设置我们拥有的键。

好吧，我们复制密钥。

回到我们的项目中。

我们保存并重新获得密钥。

我们走吧。

这是设置点 p y 文件完成，我们不需要在那里做任何更多的配置。

下一个变化是在网址点 p y。

在这个文件中，我们需要做的是，我们需要有一个路径来实现它，包括我们需要的来自 django.com 的路径。

现在，当我引用 Django 目录时，我实际上是在 MV 文件中引用它们。

所以回到这里，lib 站点包。

还记得我们在设置虚拟环境时，如果我们现在进入 Django，在这里的项目中，Django 点 URL。

我们进入 Django，进入 URL。

我们在这里引用这些文件以及这些文件中的函数和类。

这正是我们正在做的。

这就是我们将它们导入项目的方式。

好吧。

所以从 django.com 导入设置。

因此，我们现在正在导入此文件中的所有内容。

然后从 Django，点内容，点 URL 点静态，导入，静态看起来是正确的。

好的，我们需要姜戈和管理员一起过来。

我已经直接拿到钱了。

但是我们确实需要在这里添加另一条路径。

这将是我们的主要应用程序的网址，我们还没有添加该文件，但我们现在会引用它。

path 也是。

我们需要做的是使用我们刚刚导入的 include。

它是主应用程序，在主应用程序中有一个名为 URLs 的文件。

然后我们将使用名称空间 equals，这将被称为 main。

太好了，它们是我们需要的 URL 模式。

对于静态文件，我们还需要另外一个设置。

我们要做的是，如果 settings 点 debug，我们引用 debug，它在 settings.py 的顶部，所以它默认为 true。

因此，在开发过程中，当 debug 为 true 时，当您的代码有问题时，或者在屏幕上出现错误时，这是非常方便的，但您没有这样做，您不会在生产中将 debug 设置为 true。

因此，如果它被设置为 true，我们需要将它添加到 URL 模式中。

你如何做到这一点是 URL 添加等于静态，这就是我们在这里得到的库。

然后我们希望设置点静态 URL。

然后我们想要文档路由。

等于设置点静态路由。

就是这样。

所以设置点静态 URL，这就是我们在 settings.py 文件中设置的。

静态 URL 和静态路由也是我们在这里设置的。

现在我们已经正确地设置了 dot p y 和 URLs comp 文件。

这应该是可行的。

在我们结束这一部分之前，还有最后一件事。

我们引用了一个不存在的 URL 文件。

因此，如果我们进入主文件，新文件，我们会称之为你是我们的点 p y，我们将创建 URL 转换所需的必要列表。

所以我们说从 Django 点 URL，从 Dart 导入路径，所以这将引用一个视图文件，在这里。

导入视图，所以我们将从视图中导入所有内容。

应用程序名称。

这就是我们在 URL comp，main 中称之为命名空间的应用程序。

然后我们希望你是 l 模式等于，这是一个空列表。

我们将在另一节对此进行补充。

好的，我们来回顾一下今天的内容。

我们建立了一个新的 Django 项目，创建了一个新的应用程序，调整了 settings.py 文件，在 settings 和 URL Comm 中配置了静态文件。

然后我们还在 URL conf 中添加了 URL 模式。

所以我们现在可以走了。

我们准备开始编写这个应用程序。

我们将在下一部分讨论这个问题。

感谢收看。

回头见。

再见。

大家在这里发布解码。

在这一节中，我们将继续上一节的内容，在上一节中，我们开始了一个新的 Django 项目。

在这一部分，我们将充实后端。

我的意思是，我们将创建一些模型，或者一个模型，实际上，你知道，我们使用一个配置文件模型，它扩展了内置的用户模型，直接来自 Django 的盒子。

我们这样做的原因是因为我们希望我们的用户能够注册和登录并创建您的个人资料。

这就是我们将如何使用 recreate API 和 Google Places API。

好的，我们也将创建一些形式，一些视图和 URL，以及一些视图的混合。

这些会议将从本质上帮助我们使我们的代码看起来更容易阅读。

这些混合物将是可回收的。

我们可以在其他应用程序中使用它们，这很好。

然后，我们还将创建模板目录，因此这将被视为后端。

在下一节中，我们将关注前端，它是关于 HTML 文件、CSS、层叠样式表和 JavaScript 的。

所以事不宜迟，让我们直入主题吧。

你可以在我的屏幕上看到，我在 Doc 的 dot Django calm dot com 上打开了四个选项卡。

正如我在上一节中所说的，Django 文档是首屈一指的。

我想快速浏览一下，因为我们在和模型打交道，我们在和信号、模型形式和视图打交道。

所以对于那些完全是 Django 新手的人来说，这将会很有帮助。

那么什么是模型呢？模型是关于数据的唯一确定的信息来源，它包含你所存储的数据的基本字段和行为。

通常，每个模型映射到一个数据库表。

所以模型转化为数据库表。

如我所说，在上一个视频中，我们将使用 SQL lite，它直接来自 Django，您可以升级到类似 PostgreSQL 的东西。

但我们不在这个应用里。

因此，当我们建立用户资料模型时，我们将使用称为模型字段的东西。

最重要的一点是，我们将使用 char 字段和 float 字段之类的东西。

但是我们使用的最重要的一个是一对一字段，它将用户配置文件链接到内置的用户模型，这是 Django 直接提供的。

我们将使用信号创建用户配置文件。

这就是模型，非常快速的俯视模型。

无论如何，当你有更多的时间信号时，好好读一读这些文档。

所以我们将创建一个 signals.py 文件。

这将在创建用户时处理创建用户配置文件的逻辑。

所以我们将使用 post save 并接收一个装饰器。

为了做到这一点。

当我们开始的时候，我会告诉你这意味着什么。

接下来，我们有模型表格。

所以我们正在创建模型形式。

因此，这将是一个直接链接到用户配置文件模型的模型表单。

我们还将创建另外两个表单，这些表单将继承 Django 的一些内置类表单，其中一个是用户创建表单。

另一个是鉴定表。

这些表单完美地处理了注册和登录的逻辑。

这意味着我们不需要处理所有的逻辑，我们可以调用 form 点保存。

这一切都是在后台完成的，非常棒。

Django 就是要用尽可能少的投入获得尽可能多的产出。

因此，如果我们能够不使用一些内置的模型、类、表单之类的东西，我们会的。

就像我说的，我们将使用用户创建表单来构建用户表单。

我们将使用身份验证表单来构建身份验证表单。

然后我们会看风景。

所以我们将创建基于类的视图和基于函数的视图，我发现一些在线教程只关注其中的一个。

当你第一次接触 Django 时，可能会很困惑，特别是如果你一直把注意力放在基于函数的视图上。

基于类的视图看起来有点奇怪。

所以我在本教程中两者都做了一点，只是为了帮助你在那里的新手。

所以让我们直入主题吧。

你可以看到这就是我们停下来的地方。

是啊。

好吧。

如果我们打开命令提示符，您可以看到我已经启动了虚拟环境，并且我位于正确的文件中。

现在，我们将使用 API。

如你所知，这是本教程的全部内容。

在 Django，有一个很棒的库叫做 requests，它可以通过 API 调用来帮助我们。

所以你需要做的就是使用 PIP 命令来安装它。

所以 pip 安装请求。

太好了。

这就是我之前给你们看的两个视频中的 E 和 V 文件。

现在我们需要做的是启动一个新的应用程序。

所以我们转到 Python manage.py start app，我们称之为 users。

太好了。

如果我现在在 Sublime Text 中查看，您现在应该会看到一个用户目录，这很棒。

它几乎是空白的，但是我们马上就会开始充实。

因此，当我们启动一个新的应用程序时，我们需要做的第一件事就是设置这个点，并在已安装的应用程序中注册该应用程序。

因此，用户培训 comm 逗号，还有一些其他变量，我们需要在设置点 p y，我忘了在最后一节。

所以我们现在就去做。

在这一节中，我将从我的另一个屏幕上复制大量代码，因为这将节省大量时间，这将使这一节更短，我希望能够让您的注意力保持更长一点时间。

因此，当我们使用注册、注销、注册、登录和注销逻辑时，我们将在设置中添加一些变量。

这是用户登录的地方。

所以我们还没有创建这个 URL。

但是我们会在这一部分，我们有一个登录重定向 URL，这是帐户，这将作为主页。

现在，将会有一个装潢师。

所以登录需要在视图上进行修饰。

因此，当有人访问主页或索引页面时，它会将他们重定向到这个登录页面。

但这适用于这个应用程序。

所以我一直呆在这里。

最后，我们有一个注销重定向。

因此，当有人注册时，它会重定向该用户进行登录。

这是我们在设置中需要的三个变量。

在我们继续讨论 URL comp 及其基本国家之前，还有最后一个变量。

所以我在他的项目中得到的 JavaScript 使用了一个国家代码。

并且在预测 Places API 的地址时使用该代码。

所以你可以把它改成法国的 fr 或者其他国家的代码。

但这只是意味着我们可以在设置中改变它，而不必在 JavaScript 中改变它。

因此，现在我们需要转到 URL comp 文件，并将用户添加到 URL 模式中。

所以我们会尽快完成。

只是把它抄下来，没有必要总是从头开始输入，或者尽管它在学习 Django 时确实有帮助。

但是我的打字很糟糕。

所以我倾向于乱丢这个，这些应用程序有错别字，这导致了一系列的问题。

这就是我们需要添加到保存的 URL comp 文件中的所有内容。

它正在设置，所以我们正在关闭它们。

现在我们需要做的是进入主 URL，他们会将它复制到一个新文件中，我们会将应用程序名称更改为 users。

我们将它保存为 URL 点 p y，因为我们在 URL comp，p y 中引用它。

我们找到了。

好了，现在我们可以开始了，我们可以开始建模了。

因此，我们没有在缅因州创建任何模型，缅因州将用于一些视图，如路线和地图。

用户将处理所有的身份验证逻辑。

所以我们会在这里添加模型。

所以如果我拿着我的代码，我会复制，我会把它直接转储到这里，然后带你们看一下我在做什么。

所以从 django.db 导入开箱即用的模型，然后我们就安装好了。

所以我们在导入用户，这是我一直在说的内置用户模型。

所以你会习惯这里的。

所以 Django dot contrib dot auth dot models import user，我通常在我的每个视图中都有它。

所以你习惯了写很多。

然后我们有用户配置文件，这是一个类和任何密码模型点模型。

在我的模型中，我通常有一个时间戳和一个更新，这允许我跟踪模型何时被创建。

所以我们在自动加法等于真中也使用了自动加法。

更新也是现在，所以每次创建配置文件，这将捕获日期和时间。

每次更新配置文件时，它还会创建它会使用更新时的新日期和时间来更新此字段，然后是什么用户这很重要，这是我刚才提到的一对一字段，您可以通过用户模型进行传递。

然后你还有 underlay equals models dot cascade，我把它移过来，你就可以读取所有内容。

这意味着如果用户被删除，那么这个用户配置文件也将被删除。

因此，数据库中没有不与实际用户关联的配置文件，您也可以在其中设置类似于 null 的内容。

因此，如果用户被删除，这将仍然在数据库中，但它将是 null。

接下来，一大堆字符域。

对于左，这些将被创建为类似于空白用户等于真的名词，因为用户一旦注册就会添加一个地址。

所以我们有一个地址的字符字段，最大长度 100，你必须有一个最大长度关键字，因为否则它就不能工作。

我们有镇县，邮政编码，国家经度和纬度。

当从前端提交表单时，它们都会被填充，我们很快就会看到这一点。

捕获分数，即重新捕获分数。

所以对我来说，当有人注册时，我们将使用 recreate API 对提交的内容进行评分，分数越高，就越有可能是一个真实的人，分数将作为浮点字段传递并保存到该字段。

你能得到的最高值是 1.0。

所以它默认为 0.0，因为 profile 是一个布尔型字段。

所以是简单的真假，默认为假。

因此，当用户注册时，当他们添加地址和经度和纬度时，他们没有个人资料。

这将被更改为 true。

最后，我们有一个不活跃的布尔。

我总是在我的模型中把它默认为真，但是如果你想关闭一个模型，你可以选择把它改为假。

最后，我们得到了一个 Dunder 字符串函数，pass reserve 从返回一个 F 字符串 self dot 用户。

好的，这就是模型。

就像我说的，这直接转化为数据库。

因此，当我们进行迁移和迁移时，这将成为一个数据库表。

这就是我们的模型。

我们现在需要创建一些表单。

所以如果我点击添加新文件，另存为，我们把这个表单叫做点 p y。

我们找到了。

所以我们有三个表单一个用户表单，一个 off 表单，和一个用户资料表单。

所以我们在这里很重要，让我让你们更容易看到。

我们正在导入模型表单，就像我说的，我们有几个内置的类表单，它们直接来自于用户创建表单和身份验证表单。

同样，我们导入内置的用户模型，然后从 Django 导入表单，最后是我们刚刚创建的模型的用户配置文件。

这就是我们在这个文件中所需要的，然后我们得到了第一个用户表单，这是继承用户创建表单。

好吧。

所以你需要做的是创建一些变量。

所以名字是表单，字符域。

所以作为一个 char 字段，最大长度为 30。

这正是内置用户模型中的字段。

事实上，我们从用户资料表单开始，这可能会更有意义。

所以这只是一个模型形式，但它们或多或少是完全一样的。

您可以在这里看到，这个地址与用户个人资料的地址字段直接相关。

同样，这是一个字符字段，与模型中相同，最大长度为 100，与模型中的最大长度相匹配。

因此，我们试图保持模型表单与模型本身中的表单完全相同，我们得到了 required true，因此必须填写该字段才能提交表单。

然后我们使用访问一个套接字小部件等于表单。

这将是一个隐藏的输入。

所以模型形式的小部件可以转化为 HTML 元素。

因此，这将创建一个隐藏的输入元素，它将通过 HTML 文件呈现。

所以你也可以有文本输入，你可以有密码输入，或者你可以有一系列不同的东西。

你也可以传递类，占位符之类的东西。

这就是我们如何改变表单在前端的外观。

因为来自 Django 的一个非常非常基本的表单看起来不会太好，除非你实际上添加一些零碎的东西，比如类和 id 和名称，然后添加一些 CSS。

这是用户资料表单，又名模型表单，我们有地址、城镇、县、邮政编码、国家、经度和纬度，它们将是实际上隐藏在 HTML 文件中的输入元素，然后我们有 class matter，我们将它链接到的模型是用户资料，然后我们有一个包含所有字段名的字段元组。

好了，这就是用户资料。

所以我从这里开始。

当我们看制服的时候，它会让我们觉得更有意义。

就像我说的，继承自用户创建表单。

因此，名字非常像用户配置文件表单，我们使用的字符字段最大长度为 30。

因为内置的用户模型中，名字字段的最大长度为 30。

同样，rich 需要 True，在这个小部件中是一个文本输入，我们传递的属性占位符是你的名字，我们对姓氏也做了同样的事情，只是我们改变了占位符，在这种情况下用户名实际上是一个电子邮件字段，所以当有人注册时，用户名是一个电子邮件，而不仅仅是一个普通的用户名。

然后我们有了密码一和密码二。

在这里，你可以看到我们实际上是在传递一个类和属性，因为我们可以在密码输入和文本输入之间切换。

好了，我们现在添加一个令牌字段。

所以这对于 reCAPTCHA 令牌来说，是一个隐藏的输入，但是当我们使用 reCAPTCHA 处理表单时，它会捕获令牌。

第三版，然后我们有元类模型，用户和字段，正如你所看到的，它们与上面的一样，然后我们有你的表单，你的表单稍微短一点，有用户名和密码，电子邮件字段，我们有一个文本输入和一个字符字段，有密码输入。

同样，通过继承身份验证表单，这意味着当我们调用表单点保存时，它在后台执行所有的逻辑，这太棒了。

所以这些都是表格，我们不需要再去摆弄它们了。

也就是说，这个项目到此为止。

我们不需要更多的表格了，把它打开。

我们真正需要做的下一件事是创建混音。

所以让我们开始吧。

我们会将它们添加到主目录的一个新文件中。

我们把它保存为混合点 p y。

同样，我将直接从我的另一个屏幕上带来它。

和粘贴。

好的，有一些很漂亮的，其中一个叫做方向，是一个函数，我们要用它来进行 API 调用。

所以这些是相当重要的。

所以我们将浏览这些，我们带来了一些来自 Django 的东西，其中一个是来自 EU 的一口井，这是来自 URL lib . pass，其中重要的 URL encode 这是针对 God 的一个重定向函数，我一会儿就去找它。

但是您可以看到我们正在导入请求，因为我们将进行 API 调用。

另外，Jason daytime 获得了格式、方向 API 的时间跨度以及 JSON 响应，因为我们正在制作 mixin。

对于 Ajax 来说。

所以这是表格错误。

功能。

现在，我在处理表单时使用这种默认设置。

所以如果我在那里重写了 form valid 方法，如果有错误，我们称之为 form errors。

本质上，它返回一个包含所有错误的字符串，您可以将这些错误传递到前端，这对于 Ajax 来说非常方便。

下一个是名为 reCAPTCHA 的函数。

验证。

而我们通过令牌，这是 API 调用来夺回。

因此令牌是从视图的前端传递的。

我们创建了一个叫做 results 的变量。

我们正在对这个 URL 进行 POST 请求。

好吧，所以这是 google.com reCAPTCHA，API 网站验证。

然后我们创建一个数据字典。

在字典中，我们将秘密作为关键字传递。

这是我们设置中的重新捕获私钥。

还有响应，我们传递一个令牌。

那就是 API 调用非常非常简单。

然后我们返回结果点 Jason。

所以我们只是看到了通知响应。

这就是我们在创建视图和几分钟时使用的。

这是一个伟大的功能。

它在代码中使用 URL。

但是如果你传递参数，和这个函数的 URL，本质上是返回一个字符串，这个字符串可以附加到一个 URL，这个字符串看起来就像颜色等于蓝色。

大小等于大，这个参数串可以有，你可以有一系列不同的参数。

但这只是意味着它可以附加到一个 URL，然后当重定向到该 URL 时，您可以使用 request dot get dot get 对这些参数做一些事情。

实际上，我们正在这个应用程序中使用它。

这是我们使用的一个很棒的小功能。

这是 mixin 的 AJAX，这是我们使用的默认混合方式，尽管我经常重写表单有效函数。

但是我写这个是为了 Ajax 调用，所以我们可以 AJAX 或者 five 表单提交。

这意味着在前端，HTML 不需要重新加载。

所以你提交表单，得到响应，然后做一些事情。

你可以用 JavaScript 修改一些细节。

所以我把它作为 Django 表单中的 Ajax fire 的一种方式。

我们有形式无效的方法，也有形式有效的方法。

他们都返回了 JSON 对我们将要使用的视图的响应。

最后，我们得到了方向函数，通过弧线和关键字参数。

那么这里有一大堆变量。

所以从关键词中，我们得到了 lat，一个长 a 和一大堆其他的经度和纬度。

所以 lat a 和 long a，就是我们的原点。

这就是我们从路点开始的地方。

b 是我们的终点，所以这是我们的目的地。

然后我们得到了 C 和 d。

这些是路点，现在我把它限制在两个路点。

所以总共，你有四个不同的目的地。

但是没有理由不能有更多，只是在这个应用程序中，我们有两个。

所以我们有了一个起点，两个路点和一个目的地。

这三个变量用 f 字符串，从这些变量创建字符串。

所以原点看起来像是 5，7.17，4.6。

是的，那就是原点的字符串。

好吧，目的地也一样。

但是对于 waypoint，你可以看到我们正在连接一个 bar，然后我们使用 requests dot get。

这是一个 get 请求。

我们把它保存在一个结果变量中。

所以我们向这个 URL 发出一个 get 请求。

然后我们传递一个参数字典。

我们经过起点、密码目的地和中途站。

最后，也是关键。

这就是我们在第一部分看到的 Google API 键。

好了，方向，这只是试图找到结果，并保存在一个新的变量。

如果方向的状态为“正常”,那么我们在这里使用这个逻辑。

然后我们会把所有这些都变成，所以它返回原点，所以原点实际上在 if 语句之外。

所以不管怎样它都会返回它们。

如果可以的话，我们在 Jason 文件中查找 roots 和 legs 关键字。

我们还不会经历这些。

但是在这其中的一个部分，我可能会向您展示 JSON 响应的样子。

然后我们，我们在这里规定一个距离，一个时长，一个路线列表。

然后我们循环通过所有的腿。

我们不断增加，增加，增加距离，同样的持续时间。

这就是我们要返回的语句，这里的持续时间，你可以看到，我们用格式 timespan 把持续时间重新格式化，变成我们可以做的事情。

好的，这就是所有的混合。

我们不需要更详细地查看它们，但是我们将在视图中使用它们。

因此，如果我们回到视图中的用户，如果我现在复制我的所有视图。

我们这里有一些视图，让我把它们最小化，这样看起来更容易一些。

就像我说的，我有一些基于阶级的观点。

我有一些基于函数的视图。

这些是基于类的视图。

这是从模板视图继承，你已经注册视图也是一个基于类的视图。

我们将表单视图与 AJAX mixin 结合使用。

与登录、注销相同，这只是基于功能的视图，个人资料视图也是如此。

所以这是正确的混合袋真的。

希望你能理解不同的逻辑。

我们从姜戈带来了一大堆零碎的东西。

因此，我们有渲染重定向，反向，我们正在使用登录所需的装饰。

因此，这阻止了未经认证的人在视图中看到某些东西，引入用户内置的用户模型。

然后我们使用登录，认证时注销，这些都很棒。

他们完成了用户认证的所有繁重工作。

我们引入了设置、设置、JSON 响应。

这些是内置的通用视图。

我们有表单视图，模板视图。

最后，因为我们在一个基于类的视图上使用了登录要求，我们需要引入方法装饰，我们引入了错误的名称，需要教程。

我们现在引入我们刚刚构建的 mix ins 和 forms。

好的，让我们从客户视图快速开始。

这是它将成为的家庭视图。

它继承了模板视图。

这是一个模板类视图，我们需要调用模板名或创建模板名变量，并明确规定我们要在哪里呈现这个视图。

这将是在用户帐户的 HTML，我们还没有创建 HTML 文件，但我们将在下一个视频。

然后，作为下一个片段，我们正在做的是使用方法装饰器覆盖 dispatch 方法，并传递所需的登录。

这一小块，这三行代码，将阻止任何未经验证的人看到这个视图。

如果它们还没有被认证，因为我们已经在 view settings.py 中得到这个。

所以我们有日志，登录重定向 URL，对不起，登录 URL，它将被读取，用户将被重定向到这个 URL。

因此，如果有人去帐户，他们没有登录，他们将被重定向到登录时，他们登录，这一工作，他们将被重定向回帐户。

好吧，这就是工作原理。

这就是账户视图。

然后我们得到了配置文件视图，这是基于函数的视图，我们正在做的是，我们正在创建一对变量，我们从请求中得到用户和用户配置文件。

表单是用户配置文件表单，我们的密码实例等于用户配置文件。

这里的这两个，我将删除，并在屏幕顶部添加，因此它们是全局的。

我们会成为首都。

这些是默认的消息和结果，因为我们用 Ajax 优化了表单。

所以这将是密码，如果有错误，将会显示在前端。

所以当我们使用 Ajax 提交表单时，我们得到了 f request.is。

ajax，然后我们做点别的。

这是一个 get 请求。

然后我们通过上下文，一个上下文字典。

我们有一个表单，这是一个用户资料表单。

然后我们添加几个关键词。

第一个是 Google API key，第二个是 settings 里面的 based country。

然后我们返回渲染配置文件 HTML 文件，我们通过上下文字典。

这就是在基于函数的视图中传递上下文的方式，在基于类的视图中略有不同，但我一会儿会谈到这一点。

但是如果是 Ajax，那么表单就是用户概要表单，数据等于来自请求的 post 数据。

实例是用户配置文件。

如果表单有效，则保存表单。

请记住，当我说我们要添加配置文件时，我们会将 Hasbro 配置文件字段切换为 true。

这就是我们正在做的。

因此，一旦我们添加了地址和经度纬度，我们然后保存已配置文件为真，我们再次保存对象，我们通过成功，消息是您的配置文件已更新。

如果 elsif 无效，我们调用刚才创建的表单错误函数。

然后我们创建一个数据字典 result equals result，message 关键字是 message，我们将它作为一个 JSON 响应传递回前端，通过数据 whistlestop 浏览配置文件视图，但这基本上就是我们根据帐户设置配置文件的方式。

然后我们有一个注册视图。

看，我们有 AJAX 混合，让我稍微解释一下，但是 Ajax 混合。

我们还得到了表单视图。

所以作为一个表单视图，你需要说明我们需要呈现的模板是什么，这是一个注册 HTML。

form 类是我们刚才构建的用户表单，一个成功的 URL 可以只是一个斜杠，我们使用 Ajax 提交表单。

根据我们从后端获得的响应，我们将决定是否重定向。

所以我们实际上不会使用成功 URL，但是您确实需要一个，因为我们使用的是窗体视图。

同样，我们不需要我已经在屏幕顶部看到的，那么我们得到的是重新捕获。

请记住，我说过我们正在查看基于密码上下文和功能的视图，就像这样。

是的，作为一个字典，在基于类的视图中，你需要调用获取上下文数据的方法。

一旦你调用了它，你就可以给上下文添加一个关键字并返回上下文。

因此，我们在上下文中添加了重新捕捉心理，这是设置中的关键。

然后我们覆盖表单有效性，AJAX mixin 中的表单有效性方法。

我们这样做是因为我们需要一些新的逻辑，因为我们正在处理再捕获。

所以我们称之为如果 self dot request 是 Ajax。

因此，如果这是一个 AJAX 调用，那么我们要做的就是从表单的干净数据中获取令牌。

这是我们在表单中的隐藏输入，然后我们调用在 mixins 中创建的重新捕获验证函数。

我们通过这个令牌。

因此，根据反应，如果它是一个成功的，然后我们签署了该用户。

好的，我们保存表单，记住，表单有用户创建表单，它完成了所有繁重的工作，就像我说的，所以我们只需要保存表单，它创建用户和用户配置文件，并发出信号，我们保存电子邮件。

因此，我们将用户名保存到电子邮件字段，因为我们使用电子邮件作为用户名，我们将配置文件保存到对象，然后，我们使用配置文件，我们将捕手分数保存到用户配置文件捕获分数字段，然后我们保存用户配置文件。

这就是我们的工作。

最后，我们调用 login。

好了，我们已经登录，您传递请求，我们传递对象，这是用户构建用户模型。

然后这就没必要了。

如果你使用像 all off 这样有多个后端的东西，那么你需要规定你使用的后端。

但是你可以把它放在那里，这并不重要。

结果就是成功。

和消息，感谢您的注册，我们创建了一个数据字典并通过 JSON 响应传递它。

好了，这就是注册视图。

登录视图，再次，Ajax 表单视图，表单视图，再次，我们做所有这些逻辑，就像我们上面做的，它只是略有不同，因为模板略有不同。

我们不需要传递任何上下文。

但是我们确实需要覆盖表单的有效性。

同样，与上面非常相似，只是我们有了用户名和密码。

我们需要做的是调用用户等于认证。

然后我们对用户进行身份验证，如果用户不是 none，我们就让他们登录。

好吧。

如果没有，我们就称之为表单错误。

所以我们不一定需要这个，因为我们使用的是身份验证表单。

但是因为我们也调用了窗体区域，所以我把它留在了那里，公平地说，它可能超出了需求，但是这是视图中的标志。

最后，我们得到了注册视图，这是一个基于功能的视图。

它所做的就是注销和上传，我们通过你的请求。

注销后，您会重定向到登录页面。

它们是我们的观点。

我正试图通过这些，但尽可能详细。

所以你实际上理解了我在这里所做的逻辑。

就像我说的，我刚刚在视图符号中指出，从技术上来说，它不一定需要看起来像你可以，你可以只使用 AJAX 表单 mixin，它会保存表单。

但是一个主要的原因是我们可以有这个成功的信息，因为如果你看这里的 mixin，没有任何信息是非常非常基本的。

好了，下一个网址。

目前我们什么都没有，但我们需要做的是复制并粘贴所有这些。

因此，我们正在导入刚刚创建的视图，应用程序名称是 users，在欧洲模式中，请记住，account 是 home。

所以这是一个基于类的视图。

所以需要调用 as view 方法。

因此，作为视图点帐户，帐户视图。作为视图，您不需要为个人资料这样做，因为这是一个基于功能的视图。

但是通常，我不知道我为什么这么做，但是我们会分析下划线视图，通常，在基于函数的视图中，我这样做，我认为这是正常的语法。

所以我们将回到视图中，这意味着它不会喜欢它。

所以回到 URL，我会保存的。

因此，配置文件视图不需要称为视图，因为它是一个基于功能的视图，名称是配置文件，注册，登录和注销。

这是两个，都是基于类的，这是基于函数的。

这就是你需要的语法。

好吧。

如果是基于类的视图，你可以调用 AZ 视图，这是基于函数的视图，你不需要这样做，它们是我们的 URL。

我们已经从 URL comp 中的这些 URL 中提取了，这一行。

好吧。

我刚刚注意到我忘记了一些基本的东西。

所以我们需要一个信号拷贝文件。

因此，新文件，保存为这将是信号点 p y。

我们这里需要的就是这些。

所以我们是重要的岗位，除了信号，他们用完了模型，我们需要一个装饰者。

我们还需要我们在模型中创建的用户配置文件。

所以接收者装饰者需要 post save 和发送者做任何事情。

因此，在这种情况下，发送者是用户。

所以我们要听的是来自用户模型的信号。

这个函数是 create profile，我们传递发送者，也就是用户，创建的用户实例和关键字参数，如果创建的话。

因此，如果创建了用户，我们就创建一个用户配置文件。

用户，因为这是一个一对一的字段等于实例，好的，这就是我们放入信号的内容。

但是，为了确保当我们启动本地服务器时，它确实会启动，我们需要进入应用程序。

聋的，现成的解析器本身。

我们给用户输入点信号。

这就是我们需要做的。

这两行代码将负责发出这个信号。

好吧。

现在我们需要专注于主应用程序。

所以，如果我进入这里，看看我们做的关于 face 的 URL，我们先做 URL。

所以 main 只负责两个 URL，其中一个是 root，这是你为你的方向添加不同地址的地方。

当你完成第四个方向时，它会选择所有四个重定向，你会重定向到这个 URL，它是 map。

好吧。

那我们就去看风景。

好的，我们只是在看渲染，重定向和反转，我们正在导入设置。

这是错误的。

我们走吧。

我们只需要方向。

还记得吗，这就是我们之前创造的？这就是我们要带进来的东西。

然后我们有一个基于函数的视图，两者都是基于函数的视图。

我们在这里创建一个上下文字典，并把它传递给根 HTML 文件。

非常非常基本的观点就是不要做太多。

大部分或者说大部分视图的繁重工作将使用 API 和 JavaScript 来完成，我们将在下一节中讨论。

那么，我们今天要看的最后一个视图是地图，这是我们渲染地图和路线方向的地方。

这是有趣的部分。

所以我们会传递一大堆参数。

如果你记得在我们的混合中，如果你记得在混合中，我们有这个重定向参数，它将负责创建一个参数字符串，该字符串将被传递到主视图，它将包含所有，所以它将包含诸如 lat，a long a lat，B Long Bay 等关键字。

我们知道，长 a 或两者都是起点，B 是目的地，C 和 D 是中途点，好吗？我们知道，因为这是我们创建方向的方式，函数也是混合的。

所以我们说，如果有一个 lat，a，B，看到了 D，那么做这个方向呼叫，好，否则。

因此，如果有人试图在没有这些参数字符串的情况下访问地图，它只会将他们重定向到主路径。

所以回到路线上说再来一遍。

好的，但是如果有很多 A、B、C 和 D，它会尝试从 mixin 呼叫方向。

它只是通过 A，B，你知道，等等。

好吧。

这就是我们在 mix ins 中所做的，如果你还记得的话，就是这样。

这些是关键字参数。

这就是我们从视图中看到的，很多，很多，B，B，C，C，D，D，好的。

这是 F，这是 l。

所以这个会重定向。

但是如果它不重定向，那么它将创建一个上下文字典。

这里发生了很多事情，我们要通过 API 键，基数 count count country，这都是我们要进行的 API 调用所需要的。

我们都会明白，当我们开始写 JavaScript 时，会经过所有的经度和纬度，等等。

此外，它通过起点，终点和方向，因为我们需要渲染到 HTML 文件，这是映射点 htm，l。

所以它们是所有的视图，它们是 URL，模型，等等等等。

这就让我们创建一个模板目录。

所以我们什么都没有。

有几种方法可以做到这一点。

现在，如果你正在创建可重复使用的应用程序，也就是那些你可以上传到 p IP 上的应用程序，其他人可以安装它们，那么你最好在实际的应用程序中使用模板。

所以都包含在一个里面。

但既然我们不这么做，你也没必要这么做。

所以你需要做的就是在主目录中添加一个目录，这是一个新的文件夹。

我们称之为模板。

我们所需要的就是为用户提供一个新的目录。

缅因州也需要一个。

因此，当我们引用 Maine slash map dot html 时，我们将在这里查找一个文件，如果我将它保存为 map dot html，此视图将以主格式 html 显示。

所以我们会继续寻找。

事情就是这样的。

唯一的问题是，这个项目没有准备好在那个目录中查找模板，我们需要进入 settings.py 并告诉它在哪里查找。

要做到这一点，你可以转到你要做的模板，你需要做的是，因为它在主目录中，你需要把模板。

就是这样。

好吧，我希望这是一个很好的平衡射击通过一切。

所以你可以又好又快地通过它，而不跳过一些基本的东西。

我们已经覆盖了很多领域，我们已经开始了一个新的用户应用程序，我们已经建立了一个模型，一些来自 URL 的模型表单和视图，你知道，我们已经重新配置了设置，URL comp，我们已经配置了模板，我们已经覆盖了很多领域，但这是就 Django 的后端而言，这是这个应用程序的完成。

没用的。

然而，因为我们没有任何东西，比如 CSS、HTML 或 JavaScript。

这就是我们在下一节要看的。

但实际上，我刚刚注意到的一件事是，在我们的 settings.py 文件中，我们引用了一个不存在于 static 中的目录。

这很容易解决。

新文件夹，我们称之为静态。

太好了。

这是我们的静态目录。

这就是它所指的。

好的，很好。

这部分到此结束。

我希望你喜欢它。

我很期待接下来的几个片段。

谢谢你。

再见。

各位，它可能来自这里的 decoded，在这一节中，我们将从上一节中我们停止的地方继续，在上一节中，我们充实了这个 Django 项目的后端。

在这一部分，我们将讨论前端。

所以我们将创建 HTML 文件、CSS、JavaScript、jQuery、Ajax 和 Google API。

所以这实际上是这个项目有趣的一点，因为这是各种各样的字符串串在一起的地方。

所以事不宜迟，让我们直入主题吧。

如果你看这里的屏幕，我打开了 Django 文档的模板标签。

现在，我在我的解码频道上制作了一个视频，深入探讨了标签模板标签和过滤器。

所以，如果你想了解它们是什么，那就一定要看一看，而不是我浏览这一页。

但是我们今天将使用许多模板标签。

所以我想，你可以读一读，看看表，然后再回来。

但这直接跳到了崇高的文本。

这是我们停止的项目。

在最后一部分，您可以看到我们创建了一个静态目录和一个模板目录。

这是上一节最后两三分钟的内容。

这就是我们所做的。

我们还有其他主要用户。

我们现在要做的是创建第一个 HTML 文件，它需要以模板为基础。

新文件，我们称之为另存为基点 html。

好吧，我不打算从头开始写这个，因为它会花很长时间，我没有设计这个应用程序是一种基本的，你知道，它看起来很实际的工作，你可以做到这一点。

所以发生了很多事情。

所以我要做的是，简单地复制，复制，粘贴。

我会告诉你我在做什么。

让我们把这个移过来一点。

首先，这里有一个模板标签，写着 load static。

这是一个允许我们访问静态文件的模板标签。

现在静态文件，如在设置点 P 中配置的，而 p y 都将在这个目录中，因为我们正在开发。

然而，如果我们在生产中，那么你会以稍微不同的方式建立静态文件，并且可能通过 s3 bucket 或类似的东西或 digitalocean spaces 将它们提供给项目。

所以这个 load static template 标签允许我们访问静态目录中的文件，我们在这里已经有了一些基本的 HTML，我不打算做深入的探讨。

但是这是主要的，所有这些链接，这些是我的字体。

所以我们使用 Korea prymatt 解码，然后我们得到一个引用 main dot CSS 的样式表，我们一会儿会讨论它。

本质上，这里的这部分称为 CDN。

这是烤面包机的。

所以我们将使用烤面包机警报来显示来自后端的消息。

如果你还记得，在视图中，我们得到了这条消息，默认有一个错误。

结果是错误。

嗯，这将显示一个红色的烤面包机信息。

如果你不知道它是什么，如果我回到我的浏览器，我这里有烤面包机的例子。

所以这是成功的。

右上方。

但我们可以有一个底部的权利，我相信已经得到了这个项目，显示烤面包在那里你去。

你可以在里面吃任何你喜欢的东西，你可以测试吐司，你可以测试。

好的，这就是我们在这个项目中使用的。

回到这个项目，回到基地。

这就是烤面包机需要的 CSS，我们总是把它放在头部，然后你有块，扩展头部，所以我们使用块模板标签。

好的，这允许我们在法律允许的范围内扩展 head 脚本，所以我在这里也做了一些笔记。

身体。

然后我们有了 nav，我们使用了一个 include 模板标签，我们甚至还没有创建它。

所以我现在很快地做一下。

这是一个新文件夹，我们称之为分部。

在 partials 中，我们需要一个名为 nav HTML 的新文件。

好的，现在从这里开始。

回基地去。

所以这个 include 模板标签，而不是所有的代码都放在 nav HTML 中，使用 include 插入 HTML 元素，然后我们就有了这个 div。

所以不用太担心这些。

这些类，我将创建一些 CSS，因为我已经用特定的方式对它们进行了命名，这样它们可以很好地呈现，并且在前端看起来很棒。

如果你还记得当我们浏览应用程序的演示时，它看起来非常好，对吗？因此，我们有包括偏旁标志，仇恨标志，HTML。

让我们来创造它。

我今天不能说，让我们快速地创建它。

新文件。

更多，保存为标志点 html。

我一会儿就把那个代码带过来。

总之，保存，然后我们有一个块。

所以这些积木允许我们扩展这个基础的某些部分。

在其他模板里，一秒钟就更有意义了。

而这叫做内容。

因此，我们有块，扩展头块内容，这里还有另一个，扩展页脚。

这些是我们的页脚脚本。

所以首先，我们使用一种叫做 jQuery 的东西。

我相信，这是一个最流行的 JavaScript 库，它允许我们访问诸如 Ajax 之类的东西，所以我们可以进行异步表单提交，例如，我们提交表单，然后我们得到响应，HTML 页面上根本不会重新加载任何东西。

这都是异步完成的。

这就是我们需要 jQuery 的原因。

但是你可以从 code.jquery.com 得到这个代码。

你会得到最新的版本。

然后我们有了烤面包机 JavaScript，这又是所有这些，你可以访问这个 CDN JS calm 并从那里获得最新版本，然后我们有一个扩展页脚的块，它允许我们将这部分 HTML 扩展到另一个文档中。

最后，我们引用主点 j s。

所以我们需要两个静态文件。

这是一个新文件，我们将它保存为主点 j，s，这将是一个 JavaScript 文件，我们将它命名为 main 不，我们不是。

新文件。

另存为这将是主点 CSS。

好了，我们有了主 CSS 和主 JavaScript，所以我们在基本 HTML 中引用它们。

因此，即使我们不支付任何费用，这些文件，我们也不会遇到任何错误。

然后我们用 HTML 封闭身体。

这是基本的 HTML，我们不需要在这个文件中做任何事情，我们现在需要做的就是创建扩展这些块的文档。

好的，我们要看的第一个是索引，在这个例子中，它是帐户，在用户中。

所以创建一个新文件。

当我们保存时，我们称之为计数，点 html，实际上，被保存是因为我们需要另一个名为 profile 的文件，保存为另一个名为 sign in as underscore 的文件，保存为另一个名为 sign out 的文件。

当我在做的时候，我也会做地图。

所以模板是获取地图的主要工具，并且会安全地发送路线，很好，这可能会关闭其中的一些，这里发生了太多的事情。

这是我的一个坏习惯。

我们走吧。

没错。

那么接下来我们要做的，就是查看账户。

好的，这是我们的主页。

所以我会复制。

我会把这个贴过去。

所以扩展了基点 html。

所以它扩展了这个，作为 Django 的另一个模板标签 load static。

好了，我们现在又访问了 static，我们没有添加不必要的东西，但它不会伤害任何人。

例如，如果我想在这里添加一个脚本，我们会添加它。

是的，所以用添加脚本，你可以在那里添加一些东西。

但我们不是，所以我们不会。

但这是块内容。

如果你愿意，这就是将要注入到这部分的内容。

好吧，屏蔽内容。

所以屏蔽内容，屏蔽内容，好吧。

所以我们只保存这个。

所以拿到了 h3 标签，如你所知，是 Django 的 Google API 课程。

这是用户帐号。

然后我们有一个 div，它是容器。

所以我们会在 CSS 中引用这些类，但我不会在 CSS 上花太多时间。

这更多的是关于 API 和 JavaScript。

所以我们很快就能做到。

然后我们有 h4 标签，所以用户帐户细节，然后我们有一个表，好的。

在那个表格中，我们有一个表格标题，它有一个标题，然后空白，对不起，一个字段，然后一个空白字段。

所以根本没有标题。

现在我们有一个表体，然后对于每一行，我们有用户名，请求点用户，点用户名。

所以 Django 使用了一种叫做上下文进程的东西，它总是将请求传递给 HTML，所以你总是可以访问请求。

因此，您可以随时访问请求点用户。

以及诸如用户点用户名之类的字段，您可以访问诸如在我们的例子中是请求点用户点用户配置文件点地址之类的内容，进行诸如 request.user.is authenticated 之类的查询。

所以上下文处理器比其他任何东西用得都多，这真的很方便。

下一排，我们有名字。

然后我们用一个过滤器。

所以这是一个模板过滤器，请求用户点名字，点头衔。

因此，这将把一个大写字母放在名字的前面，然后空格姓氏。

所以姓和名。

然后我们在这里做一个 if 语句。

所以一个如果。

因此，如果请求点用户点用户配置文件点有配置文件。

因此，如果他们添加了地址，显示这个，这是一个表行，详细信息，我们的地址，然后我会显示地址，镇县邮政编码。

因此，如果他们还没有注册，如果他们刚刚注册，那么它会向我们显示一个配置文件，它会有一个带有 href 和链接的 a 标签。

所以我们使用一个 URL 模板标签来标记用户的个人资料。

所以这只是一个超链接，他们可以点击它，它会带它到个人资料，所以他们可以选择那个地址。

因此，这就是我在用户配置文件模型中将 has profile 作为字段的原因。

就是这样。

这就是账户上发生的一切。

没别的了。

让我们来建立侧写。

这个 Gannett 扩展的基础叫做 load static。

现在我们已经得到了块内容。

同样，这是块，然后我们有扩展页脚。

如果我们记得在 base 中，我们在这里有这个扩展的页脚。

主 j 总是我们加载的最后一个 JavaScript，我就是这么做的。

这意味着任何高于这个的我都可以引用。

所以我可以明确地知道我用主点 j 写的任何 Ajax。

s，它会工作，因为 jQuery 是先加载的，好吧。

一个块扩展页脚。

这都是在我出生前装的。

所以我实际上可以引用扩展页脚块中声明的任何变量。

所以在侧面，我们有延伸的页脚。

然后我们有了一个剧本。

这是一个 JavaScript 脚本。

我们创造了两个变量。

一个变量是 Google API key。

如果你还记得的话，我们会通过的。

让我提醒你侧面图。

在上下文中，我们将 Google API 密钥和基本国家传递给上下文。

这就是我们在这里访问它的方式。

好吧。

所以我们将创建一个 JavaScript 变量。

所以我们可以在主 j 中访问它。

苏菲勒

我们称之为 Google API key。

是的，我们用的是安全过滤器。

这样就创建了一个 API 键字符串。

同样适用于基本国家，下一个脚本是一个名为 Google Places 的文件，点 j。

南

我们还没有得到那个。

所以我们现在就创建它。

所以是 Google Places。

另存为 API 点 j。

南

太好了。

回到侧写。

所以现在它引用了一个可以工作的文件。

进入容器，这是主要的零碎东西。

我们这里有一个 if 语句和一个 else，如果请求点用户点用户配置文件有配置文件，显示所有这些 else，添加地址，好吗？如果我们有这样的情况，如果我好的，只是想弄清楚我在这里做了什么。

这是输入谷歌地址，对吗？好吧。

这是 Google Places API 的主要输入。

这里的输入是用户开始输入地址的地方。

谷歌应用编程接口预测他们想要输入什么。

然后它返回地址，他们选择它，当他们选择它时，它在这里填充所有这些输入，我马上会向你们展示我在做什么，让我先把这个盖住。

因此，如果他们有个人资料，它会显示该个人资料。

好的，它会显示地址，然后会有一个更改地址。

然后它会添加一个地址。

所以如果它改变了地址，你可以把地址改成新的，你输入任何你选择的地址，它都会改变。

如果没有，您只需添加一个地址。

这是您在这里看到的主要输入，我们有名称 Google address，ID 是 ID Google address，我们将在 Google a Places API 中引用它们，仅供参考，然后我们得到一个表单。

然后就结束了，真的。

我们来看看这个表格。

所以这个想法是概要文件的形式，我们将使用 jQuery 创建一个 AJAX 调用。

这就是我们要引用的名字。

方法是 post，操作是针对斜杠配置文件的。

这就是我们要向其发出 AJAX 调用的 URL，如果我们在 URL 中查找，就是这里。

因此，作为纵断面的名称，这是分配给视图点纵断面图。

哦，好的，让我们看看表格。

因此，因为它是一个表单，我们需要使用另一个模板标签，这将添加一个带有 CSRF 令牌的隐藏输入。

因此，CSRF 令牌的意思是跨站点请求伪造令牌，它是当您提交表单时应用于表单的令牌。

它知道实际上是你在做，而不是从其他地方做。

我们接下来要做的是创建这些标签。

所以地址是隐藏的，对吗？所以这个类是隐藏的。

而且是隐藏的。

好吧。

我们这样做的原因是因为在主 j . s 的 JavaScript 中，我们写了一个函数来显示这些隐藏的元素，当我们选择一个地址时，这就是我们这样做的原因。

所以标签本身是隐藏的，类隐藏 L，并且是隐藏的。

并且形成点地址，如果你记得的话，那是一个隐藏输入。

所以我们要形成隐藏输入形式，不好意思，隐藏输入。

所以这些都是隐藏的。

因此，它们在这里将被呈现为隐藏输入，就像标签一样。

所以标签和输入被隐藏，然后你得到城镇，县，邮政编码，国家，经度，纬度，这些都不会显示，直到用户选择地址。

然后我们得到了一个 JavaScript 函数，它将取消隐藏所有这些元素，提交按钮被禁用。

因此，在选择地址之前，您不能提交表单。

我们向这个 Profile 按钮添加一个 ID，因为我们引用了它，并且当地址被选中时，我们以编程方式单击它。

好了，这就是 HTML 格式的简介。

接下来，让我们看看同性恋的标志，让我拿我的笔记。

然后签到。

抄过去。

粘贴扩展了基础，和我们加载静态一样，总是一样，然后我们得到了块内容。

好吧，这里没什么别的了。

但是我们有一个 h3 标签，然后我们必须在这里包含。

这也是一种形式。

是的，所以对 CSRF CSRF 令牌，身份证签到表，后签到。

好的，我有 ID，方法和动作，总是以属性的形式。

这样，当我们在 JavaScript 中调用时，就更容易理解发生了什么。

又是标签，对，所以我们要创建一个标签。

不同的是这不是隐藏在表单点用户名中，因为我们在表单视图中使用，你从表单对象访问表单，所以它是表单点用户名，并作为输入。

因此，如果您查看表单、用户名、密码、字段、用户名、密码，这就是我们如何在案例中引用 sign 中的数字，这就是为什么我们有表单点用户名、表单点密码，然后我们有标签。

这是显示密码。

如果你还记得表格中的内容，我们有一个类。

让我展示给你看。

班级密码。

好吧。

因此，我在签名中所做的是点击，这是一个小复选框。

所以 CSS 会使它看起来很漂亮，但本质上，是一个复选框。

所以如果不勾选，就是密码输入。

但是当他们点击它的时候，它就变成了选中状态。

它调用一个名为 show password 或 show p word 的函数。

现在，我将在主 JavaScript 文件中编写这个函数，它将密码输入转换为文本输入。

所以你可以看到密码，这在网站上是很标准的。

然后提交并登录一个按钮。

好的，慢慢来。

下一个，签名离开。

抱歉，报名吧。

我们知道，现在应该注册了。

我们走吧。

报名吧。

所以我们会复制粘贴。

就像我们在这出戏里一样。

所以扩展基本 HTML，我们加载静态的、免费的标准内容。

这一个，我们正在延长头部，我们一会儿再回来。

我们有了坦克，我们有了表格。

我们扩展了页脚。

如果你还记得在注册视图中，我们使用获取上下文数据的方法来处理联系人。

我们传入三个重新获得的站点密钥，也就是重新获得的公钥。

我们正在创建一个可变的重新捕获站点键，我们可以在尚未编写的 JavaScript 中引用它。

好吧。

这种形式相当标准，类似于我们刚刚做的 CSRF 令牌。

然后我们有名字，姓氏，用户名，密码，一个密码，两个不同。

我们这有 token。

如果你还记得我们在表单中作为隐藏输入添加的令牌，那就是我们如何处理 reCAPTCHA 令牌。

好的，这是一个隐藏的输入，当它被渲染时，你看不到它。

然后，我们有这个小复选框再次显示密码和注册提交按钮。

好的，这就是表格。

我们在顶部得到的是一个脚本。

所以这是来源是网址 https google.com reCAPTCHA。

api.js JavaScript。

这就是我们直接从谷歌获取的 JavaScript。

我们正穿过我们的 reCAPTCHA。

波西卡。

这就是为什么它知道是我们在召唤它去夺回。

因为当我们在第一部分中设置重新捕获时，我们设置了 psyche，我们将它链接到 API 键。

这就是 JavaScript 调用，我们放在 extend head 中的脚本。

所以本质上，这个脚本，在扩展头中就相当于它在，它会在那里，但是没有头。

想象一下，想象一下，好的，这就是我们要做的，把它加到范围头上。

所以这就是 JavaScript 只要内容快乐的日子。

这是注册页面。

所以现在我们来看主图。

实际上，让我们快速地看一下包裹。

复制部分指纹。

好的，这是标志。

所以本质上它只是一个 a 标签。

如果我保存它，那么如果你点击这个图标，你会进入一个用户的账户，这是主页，它在引用，我想这是你第一次在这个教程中看到，加载静态。

这就是你引用静态的方式。

当加载 static 时，可以使用 static template 标记。

如果你不加载它，它就不会工作。

我们正在寻找品牌。

所以在静态，新文件夹，品牌，并试图找到一个 GIF，这是一个死的标志 GIF，我们会在一秒钟内添加，这根本不会是一个问题。

然后我们会添加 Nef 得到了很多 if 语句。

没有什么太花哨的公平，它有一个如果语句如果否则。

因此，如果请求点用户通过了身份验证，那么如果他们登录了，他们现在就会看到这个。

如果不是，他们会看到这个导航。

所以这个看是不是这样当你第一次进入网站的时候，如果你没有登录，你就要加上如果登录的路径。

因此，如果网址是登录，那么这将登录将是活跃的。

好吧。

所以现在在边上会有紫色的光，如果没有，它会是空白的。

如果是注册，它将会发出紫色的光，如果不是空白，这就是这些 If 语句所做的，基本上是显示是否处于活动状态。

如果它们通过了身份验证，并且请求路径等于等于斜杠，也就是 home。

同样，如果配置文件和路线图不相同，则激活。

好的，它显示了不同的导航。

为了公平起见，让我们关闭它。

让我们关闭它。

让我们关闭注册，登录个人资料和帐户或保持基地开放。

我们会关闭它。

现在我们将绘制地图。

所以复制。

它将映射或粘贴更多的内容。

保存。

好了，map 扩展了基本的 HTML load static。

在这一个。

再说一遍，我们正在穿越重捕。

所以夺回网站的关键，好吧。

然后公平地说，我们可能不需要，这可能是宿醉，但我把它留在那里。

因为我们不会在地图中进行 reCAPTCHA 调用。

我们只是在做，注册吧。

好了，我们有了 h3 标签，还有一个容器。

这是怎么回事？我们有我要走了，你知道吗？先做 root 吧。

先看下流的。

好吧，这是对的。

是啊。

因此，route 是一个 URL，我们在其中添加了起点、中途点和目的地的经度和纬度。

实际上，地图显示的是最后一个时间点，让我快速看一下。

所以我刚刚粘贴了所有的内容，扩展了基本负载静态。

然后，我们再次夺回。

我们不需要那个。

我肯定我能去掉它。

但我不打算这么做，因为我还没有测试过。

我知道它在另一个项目中也起作用。

但严格来说我们不是在打夺回电话。

所以我，你知道我说的没必要。

好了，我们有了 h3 标签，然后我们有了输入。

所以这是一样的帐户，没有配置文件。

如果你还记得的话，我们这里有这个输入。

我们称之为 ID，谷歌地址在 roots 中的区别是我们有四个。

如果你看这里，我有 ID 谷歌地址，破折号 a，破折号 b。

所以记住，开始和结束。

不要问我为什么不去 ABCD。

这在当时似乎是合乎逻辑的，但回过头来看，我可能应该，应该去 a B，C 和 D，而不是去 A 和 B，也就是点 A，B 是目的地和一个航路点系统。

在白天，一个猜测，因为你可以做更多的路点。

所以应该是 C，D，E，F，G，但是，嘿，当我构建它的时候，逻辑就在那里了。

这些就是输入。

所以当你在这里输入的时候，它会预测地址，就像你输入 C 一样，它会预测地址，等等。

当你选择它们中的每一个时，它会将地理坐标(经度和纬度)添加到这些隐藏的输入中。

所以这个类是 geo ideas lat a long a，好的，然后它增加了一个值。

我将使用 JavaScript 来添加这个值。

是的，我们不需要那个。

reCAPTCHA 在屏幕的顶部，因为即使通过 reCAPTCHA 键，我也可以从地图上删除它。

我们，我们把它拿掉。

这没有意义，bns。

所以保存回 root。

这是扩展页脚。

我们这里有一个脚本，几个变量，Google API 密钥和基本国家。

此外，我们还会引用 Google Places、waypoints j s，因为我们必须这样做。

那就是再加一个。

拯救我们。

这是谷歌航点 API。

让我们看看可能是错的。

谷歌地点，航点，点。

如果我们删除它，我们就有了它，我们现在有了那个文件。

所以它引用了一个实际存在的文件。

好了，现在我们来看看最终的 HTML 文档，它是 map dot html。

所以如果我们进入这里，我刚才确实粘贴了这个。

无论如何，你可以看到我们有很多事情要做。

这是我们渲染谷歌地图的地方。

让我们先看看页脚。

所以我们通过如果你看地图，在上下文中，我们通过所有这一切，好，所以我们通过关键，基本国家长的数据，地图中的数据，我们得到所有这些。

我们正在创建，在这种情况下，我们正在创建一个字符串，我们总是使用相同的过滤器，否则，JavaScript 不喜欢它。

然后我们创建了很多变量，比 NBC D 长得多，起点，目的地和方向，我们需要在 Google Places API 和 Google Places，waypoints 中使用它们。

此外，谷歌地图 JavaScript，我们还没有创建。

所以新文件，保存为谷歌地图点 j s。

好的，我们需要谷歌地图上的所有信息，好的。

然后得到了另一个 h3 标签。

我们会专注于此。

首先，我们看容器中的表。

这就是地图容器。

这是地图路线。

所以我们会在这个 ID 图中被引用，对吗？因为 Google，我们刚刚创建的 Google j s 文件中的 Java 脚本，它们本质上是渲染地图和其他所有东西，所有的路线和东西都包含在这个称为地图路线的元素中，并将在 JavaScript 的地图预览中引用。

如果我们看到疯狂的事情，我有另一张桌子。

因此，我们必须开始的目的地，持续时间和距离，这是一种表的标题。

我们从方向，起点，方向，终点开始。

这就是我们调用时的结果。

如果你记得的话，我们这里有方向。

所以我们通过上下文传递方向。

这实际上是一本字典。

所以我们在词典中引用了关键词，比如起点、终点、持续时间和距离。

这就是这里所呈现的。

然后我们有方向，我们有 ID dir toggle，所以这是 JavaScript void，h ref。

然后我们打开了点击方向开关。

这就是你查看方向的方式，它不会显示组织中的方向，直到你切换它。

好的，这只是一个小小的链接。

然后我们有了另一张桌子。

所以我们有了表头方向，距离持续时间，这是它渲染整个路线的地方。

所以对于每一段，在方向点路线中，我们做一个 for 循环和一个计数器。

然后我们在这里对循环做这个。

使用 dist duration 文本，我们创建了可以在这里引用的变量。

它们在一英尺内的腿点步中，我们在腿点步中做一个 for 循环，创建三个变量，距离，持续时间，文本是这样说的，因为这是来自 Google 的原始 HTML。

这就是为什么我们需要保存，因为它实际上会在网站中正确地呈现 HTML。

仅此而已。

那是地图。

好了，接下来我们需要做的是，我们所有的 HTML 都完成了，我们现在需要添加一些 CSS。

这就行了，我不会在 CSS 上浪费你的时间，这个应用教程是向你展示 Google API 和 Django 的。

CSS 不是事后才想到的。

这非常非常重要。

这让它看起来棒极了。

但是你知道，我们可以花一个小时浏览 CSS，这并不重要。

但是你可以看到，我指的是身体。

我是说这个特殊文件的字体系列是 Korea prime，这是正确的。

地图根元素。

这就是我们刚刚看到的。

它在哪里？所以我们在每个 HTML 文件中引用不同的元素。

所以我们有了地图容器。

所以如果我搜索的话，可能会有一个。

我们开始正文 HTML 地图容器高度 100%。

之后，他们需要在顶部搜索花，但然后得到了现在的标志得到了一面。

这告诉你，这向你展示了符号级别的样子，然后我们有一些媒体屏幕。

所以这取决于屏幕有多大，它是如何呈现的。

这些是输入的样子。

因此，一个文本输入一封电子邮件，密码输入，我们有选择文本区域，这是它如何呈现这看起来，我们有宽度，100%，填充，12，等等。

好吧，所以我们不需要在这上面浪费时间，所以我们不会。

接下来就是主 JavaScript 了。

如果我进入 main，粘贴这个，就在底部，我们直接从 Django 得到代码。

这是一个 JavaScript 函数，用于从 cookie 中获取 CSRF 令牌，然后通过 AJAX 调用传递该令牌，这是一种确保提交表单时传递正确的 CSRF 令牌的方法。

好的，所以当你提交一个 Ajax 的时候，在你的 JavaScript 文件里有这个非常重要。

让我们直接到文件的顶部，打开一点，就像方向切换，如果你还记得，在“地图”中，我看到方向在某处切换嘿，伙计，我们在这里有一个小链接。

它说，点击这里基本上打开了路线。

这样你就可以在地图上看到路线。

你称之为方向切换。

它所做的就是打开一个移除隐藏的属性并添加一个新元素。

因此，我们不需要仔细阅读 JavaScript 本身。

但这就是正在发生的事情。

当你点击这个按钮时，toggle 调用这个 JavaScript 函数。

它在方向表中消失了，否则你就消失了。

所以你要么展示它，要么隐藏它，二者选其一。

拿出来。

这是烤面包机的。

所以我们叫舒拉。

每次我们调用 AJAX 的时候。

这取决于它是否成功。

或者如果有一个重定向，例如，我们通过所有这些关键字，所有这些关键字在这里。

如果有一个重定向的 URL，我们称这个烤面包机为 house，我们称这个烤面包机为。

所以现在做的是拿起标题。

因此，在这种情况下，它可能是成功的，该消息可能是感谢您登录。

它正在创造一个烤面包机。

所以如果你看看例子，再一次，是基于所有这些创造一个烤面包机。

因此，如果我们在进度条中添加一个关闭按钮，然后点击显示测试，会显示创建一个独特的烤面包机，这就是我在 JavaScript 中所做的。

好吗？这就是显示密码的函数。

好吗？这就是当你点击我打开注册时被调用的内容。

是他们走了所以秀 p 字。

好吧。

这是一个被调用的 JavaScript 函数。

它所做的是，如果类型是密码，将其更改为文本，如果不是改回密码，只是一个小切换。

好，我们创建一个名为 temp 按钮文本的变量。

这是提交按钮上的文本。

所以可能是注册登录。

所以它存储，或者这个将被用来存储一个按钮当前的名字。

然后你有一个自定义表单提交帖子。

所以当我们提交一个表单时，它会禁用按钮，添加一个微调器，并将当前文本保存到这个元素中。

当表单提交完成后，一切都结束了，我们称之为自定义表单，提交响应。

它所做的是，删除禁用的属性，并添加文本，这是以前的做法，所以这个想法是，当你提交一个表单时，它会添加一个微调器，说明正在加载，然后当表单提交时，它会返回注册。

这就是它所做的一切。

当我们调用 Ajax 时，我们只调用自定义表单提交 post 和自定义表单提交响应。

然后我们有表单控件。

所以我们使用严格的，但这是变量形式的控制，是等于函数。

这是我们在这里做的一个普通的 JavaScript 函数。

下面是我们启动表单控件的时候。

所以这是一个 jQuery 文档。

所以当 HTML 被渲染时，我们调用格式控件，并初始化它们。

所以这里的所有东西都会工作。

所以格式控制，我们有一些表格。

第一个是用户注册，我们已经在用户配置文件中注册，我们返回，我们在启动和功能中，我们启动这些表单。

所以它们中的每一个都是有效的。

所以我们将关注其中的一个。

对于我们创建的每个表单，我们都有一个。

好吧。

表单，我们看到的是用户表单，也就是注册表单，对吗？是啊。

我们打电话进来，所以我们要注册，我们要看表格。

所以报名表格。

好吧。

这就是我们所指的。

现在，这是我们试图从前端提交的内容，这是我们从前端提交一个表单，在后端处理它，然后根据需要更改页面。

我们没有重载，这是一个 AJAX 调用。

这是用户注册表单，表单，我们创建了一个可变表单，让我让它看起来更容易一些。

这里也是。

所以我们创建了一个变量形式。

所以我们使用了 Ajax 函数。

所以你的小美元符号，Id 注册表格。

所以这个表单是注册表单，在注册中，HTML，这是一个。

然后我们有表单点提交功能。

这就是我们提交表格的时候，这就是我们所做的，我们防止违约。

因此，如果我们单击 HTML 上的提交，在 HTML 表单上提交，它将执行其默认功能，即通过添加事件点将表单提交到后端，防止默认，它会阻止这种情况发生。

所以它完全阻止了这种情况的发生。

然后它会遍历这段代码。

好了，我们有了自定义表单，提交帖子，我们调用这个，记住，我们给按钮添加了一个小加载器。

然后我们有 google recaptcha。

准备好了。

所以我们已经在这个特定的 HTML 文档中加载了这个脚本。

所以我们现在可以访问 g 重捕获。

所以 g 重新获得点就绪功能。

那么我们要做的是 G 重新捕获点 execute。

所以我们通过这页底部的 reCAPTCHA psyche，好吗？动作是斜线，因为这是主页吧？这就是指数。

所以点然后函数。

这是一个记号，这是我们从 G，夺回 google recaptcha 得到的记号。

因此，document dot 通过 ID 获取元素，ID 标记 dot 值。

这是令牌等于令牌的值。

所以隐藏元素现在有了一个令牌值，然后我们把它提交给后端，所以变量 form data 等于 form，在这里是序列化的。

我们称之为序列化函数，然后我们调用一个，我们调用一个 AJAX。

好吧。

所以 URL 是表单属性动作。

表单属性上方是一个注册。

好吗？主要的，然后我们湿对不起，方法。

所以表单属性方法，我们得到了 post。

所以这是一个 post 呼叫。

帖子请求，抱歉。

然后是数据，我们传递的是序列化的表单数据。

我们有成功的方法和错误的方法。

所以如果出了什么问题，我们称之为定制响应。

所以表单提交响应。

因此，表单上的按钮将恢复正常，然后我们会显示一个警告，这是一个错误，有一个错误，请再试一次。

然后，我们创建一个控制台日志，仅在默认情况下显示，抱歉，调试为真。

好吧，如果它是假的，它不会显示任何东西。

但是如果有问题，这将显示一个错误。

然而，如果它是成功的，我们可以调用自定义表单，如果结果等于成功，因为我们，如果你还记得，在视图的逻辑中，我们覆盖了表单有效函数，如果我们显示注册视图，那么它是成功的。

如果夺回工作，然后回应成功。

如果没有，我们会打电话。

所以它有一个表单无效，我们会在混合中调用一个表单错误方法。

因此，如果它是成功的，我们重定向到主页。

如果不是，我们重定向 false。

我们基本什么都不做。

然后我们做的是我们调用显示警报，你真的看不到，对吗，我们显示警报，我们传递调用消息的结果，然后结果变成小写。

然后，我们通过重定向，因为我们重定向到主页。

好了，这就是 JavaScript 中的注册表单逻辑。

这就是我们在前端处理表单的方式，我们也是这样做的。

所以我之所以要讲这些和很多细节，是因为我们用的是再捕获，而这些其他的形式，并不是一个案例。

所以根本没有 gv 捕捉。

这只是基本的，我们得到了我们每天创建的表单，它将使用属性、动作方法和表单数据进行 AJAX 调用。

我们有控制台日志 Jason，我们不一定需要它。

那是为了测试。

这是登录功能，登录表单提交，然后我们得到了用户配置文件。

好的，当我们在 route 中以编程方式单击表单上的 submit 按钮时，就会调用这个函数。

抱歉，抱歉，这是侧写，我道歉。

所以这是一份工头档案和一份档案表格。

如果你看，按钮是禁用的。

如果不能，实际上就不能点击提交按钮。

所以我们所做的是，当我们从 Google 得到响应时，我们实际上是通过编程点击提交按钮。

所以我们将从谷歌上用 JavaScript 提交这个表格。

静态数据在哪里，可能是 Google Places API。

因此，当我们从 Google 得到结果时，我们将从表单按钮中删除 disabled 属性。

然后我们将以编程方式单击该按钮，就像我说的那样，所以这里没有什么不同，没有什么新奇的事情发生。

它们都非常非常相似。

但它们是三种形式，在主 js 中。

所以我们省省吧。

我们已经完成了 CSS，JavaScript，现在我们需要把时间集中在谷歌地图，谷歌地点和路标上。

好了，现在，我们需要做的是将 JavaScript 添加到谷歌地图中。

复制粘贴。

让我把它打开一点。

好的，就在这页的顶部，我们称之为 so is it get script，我们调用 maps dot Google API 的 comm，我们通过 Google API 键传递。

然后在末尾我们加上一个 S，图书馆等于地方。

所以这是你需要在谷歌地图上访问所有我们需要的东西的电话。

这就是将要用来渲染地图的 html 格式的地图。

这将是一张地图，上面有经过各路点的路线。

好吗？完成后，一旦你完成了脚本，在这里完成了这个功能，谷歌点地图点事件，添加 Dom 监听器，窗口加载，然后你启动地图。

好了，这只是 Google API 的一个标准 get 脚本调用，然后在它的 map 函数中消失了。

好吧。

所以我们有一个方向服务和方向显示的变量。

然后是一个非常多变的地图。

所以我们制作了一个新的谷歌地图。

我们在找地图路线。

这就是我在地图 HTML 中展示的元素。

所以它实际上是在寻找这个，这是地图将被渲染的地方。

好吧。

变焦是七。

我都不记得那是什么意思了。

然后我们把地图放在经纬度的中心。

这是起点。

这就是地图的中心。

然后方向显示，你设置地图，你设置变量地图。

然后你计算并显示路线。

这就是我们将在此处称为计算显示路径的函数中引用的方向服务和方向显示。

你有一些常数，所以这是 C 点和 d 点。

好吧，真的。

这就是我们如何创建航路点。

然后我们用这个函数计算路线。

所以我们通过方向，服务，方向来展示。

好的，这就是我们在这里所说的。

所以当我们计算显示路径时，这是我们调用的两个位，在这里。

他们直接从谷歌地图方向服务中得知。

所以我们让他们在这里通过，方向，服务点路线。

起源，就是起源。

它们会经过目的地和航路点，这些是我们经过的变量，如果你记得这里，好的，那么起点，目的地和航路点是这里的常数。

好吗？这就是谷歌渲染这张地图所需要的。

所以优化航路点等于真的。

出行方式是开车。

然后我们得到了函数响应状态。

因此，如果状态是好的，那么如果它工作，然后方向显示设置方向响应，否则，发出警报。

好吧。

这就是工作原理。

那就是谷歌地图 JavaScript。

所以我们需要看看 Google Places API。

我们会把它贴在那里。

我们把它打开一点点。

同样，我们正在执行另一个 get 脚本，同样的事情，没有区别。

唯一的区别是，我们使用的是 it 或 complete，而不是 it map，这只是一种不同的服务。

好了，我们让自动完成，所以我们在这里。

然后我们有一个自动完成功能。

所以自动完成等于，所以我们做了一个新的谷歌点地图点位置自动完成。

然后，我们在 HTML 中寻找一个元素，它是 Id Google address，如果我们在这里查看个人资料，ID Google address。

所以我们在寻找那个元素。

好吧。

类型，他的地址和组件限制。

这是我们经过基国的地方。

好吧。

这是 settings dot bass country，当前设置为 UK，但如果您设置了它，在 settings dot p y 中将它发送到不同的国家，那么它在技术上应该可以工作。

好吧。

所以我们有自动完成，添加监听器改变位置，所以每次你改变输入的地址，它会自动完成。

好吧，换了个地方。

所以如果你点击不同的地址，它会在这里运行这个逻辑。

好的，自动完成就是当你输入的时候，它会改变并预测地址。

但是如果你点击地址，它会运行这段代码。

你已经有了一个地点，所以这是一个完整的地理编码器，你在那里做一些地理编码。

这就是为什么我们启用了那个 API，地址。

同样，我们从刚刚选择的输入中获取值。

然后我们有地理编码器点地理码，通过地址。

如果状态是好的，那么如果地址是好的，那么我们从响应中得到经度和纬度。

我们将它们添加到 ID 为 ID 下划线纬度和经度的元素中。

好了，这两个输入现在已经被填充了。

然后我们通过这个逻辑得到街道地址、路线、邮政编码和其他一切。

我们把它们添加到相应的元素中，好的，所以我不需要一一列举。

但是通过对来自 Google 的响应进行 for 循环，我们可以得到街道号，路线，并保存到 ID 镇，县，国家，等等。

然后，我们将地址添加到，将值添加到 ID 地址，然后取消隐藏所有元素。

所以请记住，所有隐藏了元素类的东西都会被取消隐藏。

最后，我们淡入。

所以我道歉。

你找到所有隐藏的元素，忽略 CSRF CSRF 令牌，然后你淡入它们。

事情就是这样的。

我很抱歉。

然后你得到配置文件按钮，你删除属性禁用。

然后你要做的就是提交表格。

所以我们不是以编程方式提交表单，而是移除禁用的，然后用户就可以提交表单了。

事情就是这样的。

好吧，谷歌位置 API j。

s，就是这样。

然后如果我们快速复制这些航路点，我们就可以飞过去了。

快乐的日子，对吗？同样，Git 脚本的另一个不同之处在于，它实际上与 Google Places API 完全相同。

好吧，非常，非常，非常相似。

这只是略有不同，因为我们用这个 JavaScript 来处理四个不同的输入。

所以必须稍微操纵 JavaScript 才能工作。

因此，我没有在 Google Places API，s，j，s 中设置自动字段，而是设置了 A，B，C 和 D，因为我们只是将它们用于路径点。

同样，在 autocomplete 中，如果不需要的话，我不会向隐藏元素添加镇和县的地址，或者获取经度和纬度。

但是你会在这里看到，我们正在做的是，我们正在通过一个自动字段的 for 循环。

我们得到了一个 a，我们正在寻找 ID Google 地址，我们追加了字段，这样它就变成了，如果是 a，它就变成了目的地，抱歉，是起点，如果是 B 就是第一个航点，如果是 C 就是第二个航点，如果是 D 就是目的地。

这就是我必须放在这里的逻辑，以便在四个不同的自动完成字段上使用 Google API。

这就是它的自动完成功能。

然后我们就可以换地方了。

同样，这与 Google Places API 是一样的，只是我必须调整逻辑，以便根据或字段中的字段识别正确的输入元素。

好的，我们正穿过 A，B，C 或 d。

我们在找谷歌地址，艾迪。

好吧。

这就是我正在做的，对 Google Places API j s 没有，没有什么不同，没有什么大的改变，但是我们调用 calc route，就在这里。

这就是我们要调用的函数。

这就是我们用来创建 URL 查询的内容。

好吧。

所以我们正在做一个编码你是我的组件，所以我们，我们正在做的是，当我们选择这四个路点时，我们最终会创建一个 URL 参数，并将其附加到 URL。

然后我们这实际上是相当关键的。

然后我们做的是调用窗口点定位，赋值，然后我们重定向用户到根 URL，对不起，是地图 URL，然后我们追加查询。

所以这个查询会是这样的，boop boop，lat a，会有问题，我会以一个问号开始，它会是 lat，a 等于 57.4。

而且持续这么久，我希望这说得通。

木等于四是 5.666312，随便。

然后它会被一根横杆连接起来。

然后你再做一个，一个，一个。

所以参数字符串最终会变得非常麻烦。

但是它将被附加到 URL，然后用户被分配到带有参数字符串的新 URL。

然后在地图上。

视图，让我们回顾一下主视图，我们在哪里主视图，你可以看到，我们实际上正在尝试选择参数字符串。

因此，如果在 request . get . get 中发现了 lat a，那么我们可以对它做些什么。

这就是我们在航路点中尝试做的事情。

同样，这段代码会放在 GitHub 中，这样你就可以好好看看了。

确保你知道你对它很熟悉。

但我希望我现在经历的足够深刻，让你明白它而不至于太深，但我实际上已经失去了你。

所以我将在这里结束这一节。

在下一部分，我们将测试该应用程序，确保它能够完美运行。

本教程到此结束。

感谢收看，我们下一节再见。

谢谢你。

再见。

大家大概都是从这里解码的吧。

在这一部分，也是最后一部分，我将对应用程序进行一些调试和一般测试，以确保它按计划运行。

所以这是直接跳进来的。

如果你看一下屏幕，我已经打开了我的命令提示符，启动了我的虚拟环境，并且我在正确的目录中。

因此，在这一点上，如果你按照 Django Doc 上的教程，你应该已经在项目开始时就发出了一些命令，但是我还没有这样做。

实际上，我没有这么做是有原因的。

所以我喜欢做的是全力投入一个项目，然后开始迁移，而不是一开始就做。

真的只是个人喜好。

所以我们需要做的是在这里发出一些命令。

所以首先，我们需要进行迁移。

所以 Python managed.py make migrations 这将会生成一些迁移 piwi 文件和模型迁移的缓存以及其他一些东西，如果可以的话。

帮助我们是一个句号我池所以从人类友好的进口格式 timespan 没有模型名称人类友好所以是，让我看看快。

我有一种有趣的感觉，我们需要安装的是它只是所谓的人类友好。

所以，让我们去 pip 安装人类友好的辉煌作出迁移。

好了，成功了，接下来我们要做的就是迁移。

所以如果我们现在打开 Sublime Text，你会看到我们这里有一些额外的文件。

所以我们有 db.sq，light。

这就是数据库。

所以在用户中，当我有一个 PI 缓存时，在迁移中，我们应该有一个 guy，所以你有 initial。

因此，如果我们要对模型进行更改，然后再次运行迁移，基本上，我们只需创建一个新文件。

它会列出你所做的所有改变。

所有的修改，所有的创造和更新等等。

Main 不会有它将有 poi 缓存，但迁移将是空白的，因为我们没有任何模型。

好吧。

这些是我们完成的迁移，你会看到它像这样。

因此，我们有非用户模型的依赖性，我们有，你知道，这是一对一的领域。

然后是 ID、时间戳日期字段、dadda、dadda、dadda，好的，这就是我们通过迁移完成的工作。

如果我们现在运行服务器，比如说 Python manage.py run server，希望我们能够在浏览器上看到项目的样子。

所以让我们按住 Ctrl 键，打开一个隐藏屏幕。

只是为了让它平稳一点。

如果我们去，本地主机与端口 1000。

太好了，我正希望是这样。

所以你可以看到它不见了。

然后在问号处签名。

好的，账户页面会将我们重定向到登录页面。

好吧。

所以我们没有账户。

所以我们会报名。

我们走吧。

因此对象没有属性重新获取公钥。

那么我们在这里做了什么？如果我们回到“设置”,“权限”,我们称之为“公钥”。

我们来看看我的另一个项目，看看我是怎么称呼它的。

这个，太弱了，我们走吧。

这个不是秘钥，我们需要称它为私钥。

好了，这将重置现在正在运行的服务器。

如果我们返回，这就是你在屏幕上看到的，因为我们已经将 debug 设置为 true。

如果设置为 false，您将看不到它。

我们找到了。

没错。

那是我们所有的工作。

这是注册页面。

好吧，让我们去鲍比·斯特曼，用户名，鲍比在做 coding.com 密码，这家伙。

p 字。

我们走吧。

密码 123455，点击显示密码，就会显示出来，好的。

12345.

它显示的原因是因为我在密码字段和文本字段之间切换。

好吧。

这就是点击注册，你可以在这里看到，我们在屏幕底部有这个 reCAPTCHA 元素，这表明它实际上在工作。

所以让我们点击注册。

我太普通了。

所以你需要有一个好的密码。

所以我们走吧。

我们走吧。

弗雷德。

弗雷德一个。

不能假设那会很好我们走。

感谢您的报名。

因此，出现错误并显示消息的事实表明，表单错误实际上在 mixin 中工作，这太棒了。

现在我们登录了，我们现在在帐户页面，也就是主页，对吗？如果我们没有登录，它会将我们重定向到登录页面。

所以用户名解码用户名是鲍比·斯特曼。

让我们创建一个配置文件。

因此，这是重述，而不是重新捕获。

这是 Google Places，JavaScript。

毒蛇 123 号。

好吧，这不管用。

好吧，这不是工作检查，控制台。

未能加载资源。

服务器响应的状态为 404。

所以 Google Places 找不到点 j s。

好吧，有意思。

静态的谷歌地图因为它没有谷歌地图。

没错，我们是在引用，让我们看看模板。

我们将查看个人资料，我们在这里寻找什么？谷歌放置 JavaScript。

所以这是我的一个错误。

好吧。

所以这都是调试的一部分。

因此，如果我们刷新页面，因为该文件已被更改，名称已被更改。

因此，如果我们现在去 123，这个网页不能正确加载地图，你拥有这个网站吗？有意思。

那你就继续快速调试吧。

好吧，我知道是什么了，因为我没有在 API 上启用计费。

你必须这样做才能成功。

所以继续在你的 API 键上这样做。

所以如果我现在去，123，你去那里。

然后我们会点击白金汉宫。

然后，我们将取消隐藏所有这些隐藏的元素，并单击“更新”。

您的个人资料已更新。

太棒了。

现在应该是这样了。

太棒了。

所以用侧写。

如果我们点击，您可以更改地址。

创建或更新也是如此，这很好。

然后我们就扎根了。

这是四个，这是起始地址，航路点。

一、二号到达目的地。

让我们看看这是否有效。

所以我要说好吧，我知道那个地址。

我要选一个。

樱桃园。

我们走吧。

我会再做一次。

好吧，一个高街·斯特雷顿。

我们走吧。

不，不是那个。

一条大街。

给他压力，或者点击那个。

最后，我们将真正采用一个市场。

英国。

现在我已经完成了所有四个航点。

你能看到这个吗？所以我们有地图问号，然后我们有 lat a，还有 long a，B，long B，C 创建了参数字符串，这就是视图中使用的内容。

好吧，我们去缅因州看看。

我们走吧。

所以它从参数字符串中选取了所有这些。

好吧。

所以我们知道了起点，终点，持续时间，距离方向，这就对了。

公平地说，如果你要走那条小路，那就是我所期望的距离。

这是地图。

莎顿很早就把他们分成了不同的阶层。

太棒了。

如果我们点击这个，会有用吗？快乐的日子，这就是方向。

让我们再检查一下签出的作品。

我们走吧。

所以也请登录这个网站。

就像博比做的那样，coding.com 是不是弗雷德，弗雷德一号，我想我们用检查显示密码。

签到。

您现在已经登录。

一切都在月亮上计划着。

所以我们有它。

这是你的 Django 应用程序，它使用两个 Google API 键和六个不同的 Google API，其中一个是 recreate。

其他的都是一大堆地图 API。

所以我们可以预测地址。

我们可以使用地图，我们可以使用路标。

太棒了。

看起来也很不错。

所以你可以在我的 GitHub 上找到这段代码，GitHub 库链接会在描述里。

感谢您的观看，我们将在下一节教程中再见。

谢谢你。

拜拜。

