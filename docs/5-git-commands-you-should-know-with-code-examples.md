# 您应该知道的 5 个 Git 命令，以及代码示例

> 原文：<https://www.freecodecamp.org/news/5-git-commands-you-should-know-with-code-examples/>

我使用 Git 已经有几年了，我仍然发现自己在谷歌上搜索如何完成一些基本任务。因此，这篇文章是我试图通过写作来学习如何做这些事情。即使我还是会忘记，至少我会有一个参考，在那里我可以很容易地找到这些命令——你也会的。

在我们继续学习这些东西之前，我的一位同事曾经说过的一句话让我记忆犹新。他告诉我，使用 Git 一切皆有可能，Git 不会丢失任何东西。

我不知道他的声明的前一部分是否完全正确，但每次我尝试用 Git 做一些事情时，我都会记住这一点。我相信我会找到一个命令来帮助我做我需要做的事情。我只需要用谷歌搜索正确的词。如果您是 Git 新手，我希望您也相信这一点。

在本文中，我们将学习如何做到以下几点:

1.  添加远程存储库
2.  更改远程存储库
3.  删除分支
4.  将文件从一个分支合并到另一个分支
5.  本地和远程撤消提交

虽然这篇文章是为具有 Git 基础知识的人准备的，但我会尽可能地解释术语。

## 1.添加远程存储库

远程存储库是存储在互联网或其他地方的项目版本。添加远程存储库是告诉 Git 您的代码存储在哪里的一种方式。

我们可以使用存储库的 URL 来做到这一点。这可能是您的存储库的 URL，另一个用户的分支，甚至是一个完全不同的服务器。

当您克隆一个存储库时，Git 隐式地将该存储库添加为您的`origin` remote。要添加新的 Git 存储库，可以使用以下命令:

```
git remote add <shortname> <url>
```

其中`shortname`是唯一的远程名称，`url`是您想要添加的存储库的 url。

例如，如果我想添加一个简称为`upstream`的存储库，我可以这样做:

```
git remote add upstream https://github.com/sarahchima/personal-website.git
```

请记住，您的`shortname`可以是任何东西，它必须是唯一的，不同于您已经拥有的远程存储库的名称。为了你的理智，它也应该是你容易记住的东西。

若要查看已添加的远程 URL 列表，请运行以下命令:

```
git remote -v
```

您将看到您添加的远程名称和 URL 的列表。

但是如果你想改变这些远程网址呢？让我们转到下一个 Git 命令。

## 2.更改远程存储库

您可能希望更改远程 URL 有几个原因。例如，我最近不得不为一个项目从使用`https`URL 转移到使用`SSH`URL。

为此，您可以使用以下命令:

```
git remote set-url <an-existing-remote-name> <url>
```

要使此命令生效，远程名称必须是现有的远程名称。这意味着如果您之前没有添加该远程名称，它将不起作用。

使用上面的例子，如果我想改变远程 URL，我会这样做:

```
git remote set-url upstream git@github.com:sarahchima/personal-website.git
```

记得运行`git remote -v`来验证您的更改是否有效。

关于远程存储库已经说得够多了。让我们换个话题。

## 3.在本地和远程删除分支

分支是不同于主工作项目的存储库版本。如果您不熟悉这个过程，您可能希望阅读 Git 分支以及如何添加分支。

### 如何删除本地分支机构

要在本地删除分支，请确保您不在要删除的分支上。因此，您必须签出到不同的分支，并使用以下命令:

```
git branch -d <name-of-branch>
```

因此，如果我想删除一个名为`fix/homepage-changes`的分支，我将执行以下操作:

```
git branch -d fix/homepage-changes
```

您可以在终端上运行`git branch`来确认该分支已经被成功删除。

有时，您可能需要删除已经推送到远程存储库的分支。你怎么能这样做？

### 如何删除远程分支

要远程删除分支，可以使用以下命令:

```
git push <remote-name> --delete <name-of-branch>
```

其中`remote-name`是要从中删除分支的远程存储库的名称。

如果我想从`origin`中删除分支`fix/homepage-changes`，我会这样做:

```
git push origin --delete fix/homepage-changes
```

现在将远程删除该分支。

## 4.将文件从一个分支合并到另一个分支

有时，您可能希望将一个分支中特定文件的内容合并到另一个分支中。例如，您想要将项目的`master`分支中的文件`index.html`的内容合并到`development`分支中。你怎么能这样做？

首先，签出到正确的分支(您想要合并文件的分支)，如果您还没有这样做的话。在我们的例子中，它是`development`分支。

```
git checkout development
```

然后使用 checkout - patch 命令合并文件。

```
git checkout --patch master index.html
```

如果您想用`master`分支上的文件完全覆盖`development`分支上的`index.html`文件，您可以省略`--patch`标志。

```
git checkout master index.html
```

此外，如果`index.html`文件不存在于`development`分支上，则省略`--patch`标志。

## 5.撤消提交

有些时候，您不正确地提交了您的更改，而您想要撤消这次提交。有时，您甚至可能将更改推送到一个远程分支。如何撤销或删除该提交？让我们从撤销本地提交开始。

### 如何撤消本地提交

本地撤销提交的一种方法是使用`git reset`。例如，如果您想要撤消上次提交，可以运行以下命令:

```
git reset --soft HEAD~1
```

`--soft`标志保留您对提交的文件所做的更改，只有提交被恢复。但是，如果您不想保留对文件所做的更改，您可以使用`--hard`标志，如下所示:

```
git reset --hard HEAD~1
```

请注意，只有当您确定不需要更改时，才应该使用`--hard`标志。

另外，注意`HEAD~1`指向最后一次提交。如果您想在此之前撤销一个提交，您可以使用`git reflog`来获得所有之前提交的日志。然后使用`git reset`命令和提交散列(在历史记录的每一行开始时得到的数字)。例如，如果我的提交散列是`9157b6910`，我将这样做

```
git reset --soft 9157b6910 
```

### 如何撤消远程提交

有时候，您希望撤销已经推送到远程存储库的提交。您可以使用`git revert`在本地撤销它，并将这个更改推送到远程分支。

首先，使用 git reflog 获取提交散列。

```
git reflog
```

然后还原它。假设我的提交散列是 9157b6910，我将执行以下操作:

```
git revert 9157b6910 
```

最后，将此更改推送到远程分支。

## 摘要

在本文中，我们讨论了在 Git 中执行以下操作的命令:

1.  添加远程存储库
2.  更改远程存储库
3.  删除分支
4.  将文件从一个分支合并到另一个分支
5.  本地和远程撤消提交

也许有一天，我会写更多你可以用 Git 做的事情。

我希望你喜欢这篇文章。感谢阅读。

**想在我发表新文章时得到通知吗？[点击这里](https://mailchi.mp/69ea601a3f64/join-sarahs-mailing-list)。**