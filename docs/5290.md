# 如何为您和您的团队选择最佳的代码约定

> 原文：<https://www.freecodecamp.org/news/how-to-choose-the-best-code-conventions-for-you-and-your-team-992cc2cc7b83/>

作者:奥弗·威格曼

# **如何为你和你的团队选择最好的代码约定**

#### **结束永无休止的争论**

![1n2grhWszDdGlSdNlQCg75q4JI6fUIk9Uu6t](img/b2f8fcb7eab156d9abf1800ef8a02ec0.png)

Photo by [John Jackson](https://unsplash.com/@johnjac?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

*--“听着，那些私有变量应该去追公共变量！”*
*——“没门！公有变量先于私有！”*
*——“我们去问问 Deb，让她来决定”*
*——“等等，为什么这些常数不是驼峰式的？”*

？‍♂ ?‍♀

如果你以前也参与过这种讨论，请举手。好吧，不要真的提出来，但我觉得你们中的一些人可能已经经历过一次或两次这种情况。

作为一名过去十年的开发人员，我发现自己参与了很多关于代码约定的讨论，有些人可能会说太多了。这些讨论虽然有用，但有时会恶化成没完没了的哲学漫谈。然后他们开始转向从缩进到文件夹结构的话题。

这可能会很痛苦。

那么，你如何真正决定什么是最好的约定，更好的是，最好的约定存在吗？我会把它放在这里，这样你就可以一劳永逸地停止那些哲学漫谈了。

### 那么，为什么我们甚至需要公约呢？

为了确定什么是最好的约定以及它们是否存在，我们首先需要理解*为什么*我们需要约定。

原因不止这些，但我会把重点放在最重要的一个:**可读性**。

如果我决定只写大写字母会怎么样？像这样，这可能看起来很奇怪。你会立刻注意到它，你的大脑开始处理不同的东西。

以这个简单的例子为例，考虑变量命名或缩进。如果每次你回到代码，它都是不同的写法，就好像你是从第一个地方开始。但是当用约定编码时，你的代码更容易理解，因此可读性更好，即使它是几个月前写的。

当在一个开发团队中工作时，这变得更加重要，在这个团队中，每个人都按照自己喜欢的约定编写自己的代码。理解和审查彼此的代码所花费的时间将会……嗯……你明白了。

为了与其他开发人员高效、高质量地合作，你必须有一个共同的约定。

> "程序必须是为人们阅读而写的，并且只是附带地为机器执行而写的."—哈尔·阿伯尔森

### 如何选择最佳的代码约定

无论你刚刚开始编码，或者你是一个很棒的开发团队的一员，或者如果你刚刚成为一个 CTO，你如何选择你的代码惯例？

以下是我选择最佳代码约定的指南:

1.  **从你欣赏的开发团队中获得灵感:**没有什么能打败经验，一些最大最聪明的公司发布了他们的编码指南。比如 Airbnb 发布了他们的 [javascript](https://github.com/airbnb/javascript) 和 [ruby](https://github.com/airbnb/ruby) 风格指南，Google 发布了他们自己的 [Java](https://google.github.io/styleguide/javaguide.html) 和 [Python](https://google.github.io/styleguide/pyguide.html) 风格指南。不管你喜不喜欢这些公司，如果你总结他们每个开发人员的经验，加起来就是亿万年。尝试将这些公司的风格指南应用到你自己的团队中。
2.  **从你的同伴那里获得知识:**我们很幸运能够成为这样一个充满活力的社区的一员。事实上，今天作为开发人员的最大优势之一就是我们的社区。无论是在 [Slack](http://slack.com) 、 [Spectrum](https://spectrum.chat/) 、 [Discord](https://discordapp.com/) 还是任何 collab 平台上，你总能找到知识渊博的群体发布一个关于代码约定的问题，并立即从世界各地的开发人员那里获得答案。
3.  **忽略代码样本。是的，别理他们。我不时会发现从 [Stackoverflow](https://stackoverflow.com/) 上的答案复制/粘贴的代码，或者类似的东西。人们有时会忘记，他们刚刚复制的代码样本可能是作为对某个技术问题的回答，或者作为某个库的解释而编写的。在大多数情况下，作者不是有意的，也没有时间去处理代码约定。**

这些技巧应该可以帮助您开始，并且可以为您的开发团队引入代码约定打下基础。

现在来谈谈哲学。

### “最佳”惯例存在吗？

那要看‘最好’是什么意思。如果 Airbnb 或 Google 使用某种惯例，或者如果 10 个不同的 CTO 告诉你他们的惯例是最好的——这是否意味着它是对你最好的惯例？

此外，习俗是会变的。随着时间的推移而变化的东西能被称为“最好的”吗？

当我作为唯一的前端开发人员开始在 [Lemonade](https://www.lemonade.com/) 工作时，我发现很难读懂之前的开发人员写的代码。对他来说这可能是最好的大会，但对我来说不是。所以我用我的惯例重写了每一段代码。随着时间的推移，越来越多的开发人员加入了团队，我们的约定也随之发展。

每个开发人员都来自不同的背景，有不同的标准和惯例。为了形式化我们的约定，我们使用 Airbnb 的 javascript 风格指南作为起点。我们回顾了指南中的约定，更改或删除了我们不同意的约定，并采用了我们喜欢的约定。我们甚至采纳了开发者从他们自己的经验中带来的约定，并将它们整合到我们的主约定中。

评估每个约定并决定我们是否应该采用它的过程，不仅提高了我们代码的可读性，也提高了我们的团队合作。(在以后的帖子中会有更多的介绍！)

这里有一个严酷的事实:**最佳惯例没有统一的定义，因为它们根本就不存在。**

![TMEHrum5-VFAoJBR5yPJgrZpevkRgXRtCvc3](img/216c56db358365d632ab637df79f4141.png)

与你在学校学到的相反，每个问题并不总是有一个正确的答案。这种情况下，可以有很多。

开发人员有不同的方法来实现不同甚至相同的东西。我们中的一些人喜欢所有的类成员名字都以' m_ '开头。有些人喜欢使用两个空格缩进，有些人喜欢制表符，有些人可能会说在类名中使用单词`Utils`是错误的。哎呀，这是一个无休止的讨论，但所有这些偏好都有很好的理由。

归根结底，这一切都取决于哪种约定可以提高代码的可读性。哪一个能让你的团队更好地沟通，更快地前进，更有效率。

记住，代码约定仅仅是建议。是的，一旦你决定使用一个约定，你就应该坚持到底。但是请记住:它们不是刻在石头上的，是可以改变的。允许自己尝试不同的约定，直到找到最适合自己和团队的约定。

那么最好的代码约定是什么呢？简单-你的！