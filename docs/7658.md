# Elixir:一种宏观的编程语言

> 原文：<https://www.freecodecamp.org/news/elixir-a-big-picture-programming-language-755dcef2fa6a/>

按城市基础

# Elixir:一种宏观的编程语言

#### 灵药让程序员更好地工作，它让他们的工作更好

大约一年前，我决定寻求在 CityBase 全职担任首席工程师的机会。自从我在 2014 年开始使用编程语言以来，我的目标一直是使用、成长和从 Elixir 学习更多东西。

CityBase 吸引我还有其他原因。我一直很好奇如何让复杂的系统更好地工作。有了政府的技术，我们面临的挑战是让一些最复杂的系统更有效地为大规模的人们服务，产生巨大的影响。

在我看来，这些目标——培育长生不老药和为大规模影响编码——是一样的。我真的相信，今天，可靠性、并发性和容错是大多数应用程序应该建立的基本素质。基于一系列经过战斗验证的应用和概念，Elixir 可以在这方面提供帮助。

![UtGCPFkJSMeNlcix48URAs-F-7-YIhJyx8mf](img/10b3ae91a8869315f1da288ef8cb85c9.png)

(Photo: [Kevin](https://unsplash.com/photos/w7ZyuGYNpRQ?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText), [Unsplash](https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText))

### 词根经过检验的新语言

Elixir 是 2011 年创造的新语言。它是根据 Erlang 的原理构建的，Erlang 是 1986 年为电信行业开发的系统。Erlang 是你的手机不会因为维护而暂时关机的原因。它负责硬件的灵活性和可伸缩性，因此您可以更换电话并让您的帐户工作不变，并在不影响性能的情况下添加新的电话线。

尽管 Elixir 相对较新，但它依赖于 Erlang 成熟的虚拟机(VM)，称为 BEAM，以及它的高可用性、适应性和可伸缩性原则。这些特性在政府技术应用中非常重要，在这种应用中，技术提供的基本服务必须对每个人都可用。

### 程序员的编程语言

像我这样的工程师很高兴能与 Elixir 一起工作，因为它能帮助我们更好地工作。要使用 Elixir 进行编码，开发人员需要与整体业务目标保持一致，并在编码时考虑到未来的灵活性。

它包括一些工具，这些工具鼓励程序员围绕可能出错的地方进行计划，并关注尽可能接近最终用户的理想结果。

拥有理解期望的宏观结果的程序员可以改变游戏规则。

如果你让某人编写执行特定功能的代码，他们会编写代码。但是，如果你让他们编写代码来获得某种体验或解决某个问题，他们可能会想到一个你从未考虑过的解决方案——并预见到你不知道存在的问题。

长生不老药鼓励这种大局观。Elixir 和 Erlang 的一个共同特点是它们是整体编程语言。您可以轻松地使用 Elixir 只开发一个服务，但它是为开发包含许多服务的大型系统而优化的。

### 一种容错的语言

就像死亡和税收一样，生活中另一个确定的事情是事情会出错。

Elixir 对两种主要类型的编程错误具有固有的容错能力。

#### **错误类型 1**

最罕见的问题通常是在生产中发现的，从定义上来说更难测试。例如，第三方服务或系统资源(如数据库)之间的连接性(当服务停止或花费的时间超过预期时)。

为了对这些问题具有容错能力，您的系统必须通过使用至少两台服务器始终对客户可用。这是为了解决硬件问题、网络问题或其他存在于程序之外的错误。

Elixir 运行在 Erlang 的 BEAM VM 上，它被配置为服务器操作系统之上的迷你操作系统。虚拟机负责服务器和节点之间的通信。当一个节点关闭时，另一个节点会得到通知，系统会做出响应。

#### **错误类型 2**

与数据相关的问题更容易测试，并且可以在本地重现。例如，如果执行任何数学计算的函数接收的是字符串而不是数字，则该函数将失败。

为了使程序具有容错能力，您的系统必须能够在由逻辑错误、错误输入数据和其他内部故障引起的错误期间“自我修复”。

由于 Elixir 是一种编译语言，代码中的任何错误都会阻止应用程序启动。这确保了正在运行的应用程序至少有一个有效的开始状态。

为了顺利完成这项工作，Erlang VM 使用了一种叫做监督原则的东西，它是这样的:

*   过程的结构是基于这样一种思想，即在一个给定的程序中既有“工作者”模块又有“管理者”模块。
*   工人进行计算，主管监督工人。
*   如果出现问题，管理程序可以将工作线程重新启动到初始有效状态。

当一个模块可以在一个隔离的进程中运行时，监督原则与进程隔离相关联。这确保了一个模块中的错误不会影响应用程序的其他部分，并且您也可以独立地重新启动该模块。

### 一种模块化、可扩展的语言

Elixir 是一种模块化语言，这意味着您可以修改自包含的部分，而不用担心影响其他不相关的部分。微服务并发运行。这些基于代码的操作都在您创建的更大的程序中扮演角色，但是任务是分布式的，因此它们并不相互依赖。这强化了快速失败的好处——你除掉一个有问题的玩家，游戏仍然继续。

随着代码库的增长，这也变得至关重要:在非模块化系统中，当一个部分影响其他部分时，或者它可能影响其他哪些部分，这并不总是清楚的。这意味着即使是最小的变更也需要您测试所有的东西，以确保变更不会破坏任何东西。这导致了令人生畏的工作量，这意味着项目进展缓慢，需要很多人。

这也意味着培训新开发人员既困难又耗时，因为他们必须熟悉复杂的代码遗产，以便有效地扩展它。

有了 Elixir，**开发人员关注未来，并确保他们为新的或不断发展的目标**而编码，而不是将以前的愿景融入过于复杂的代码中。

除了模块化之外，Elixir 还具有高度的可伸缩性。该语言使您能够开始构建只运行一台或两台服务器的应用程序，并根据需要添加更多的服务器。这些服务器共同作为分布式系统中集群的一部分，以实现高可用性和可伸缩性。

在该集群中，服务器使用基于 Erlang 的协议进行通信，而不是必须实现或使用任何应用程序协议(如 HTTP ),并选择数据序列化/反序列化选项(如 JSON 或协议缓冲区)。这意味着您不需要实现任何东西来在不同服务器/节点中的服务之间传递数据。就通信逻辑的复杂性而言，这是巨大的。

### 一种没有定位的语言

显然，我是长生不老药的粉丝。从经验证的基础架构到可扩展性，它有很多优势。但也许这种语言最酷的一点是它是行业不可知的。它已经被一系列公司采用，用于各种目的:WhatsApp、Bleacher Report、网飞、Pinterest、Postmates 和一些。gov 网站都用 Elixir 或者 Erlang。

这是一个有利因素，原因有几个:首先，这意味着随着公司认识到它可以提供的好处，这种语言可能会继续流行。反过来，这意味着开发人员将继续学习它，这意味着不太可能缺少知道 Elixir 的开发人员。各种规模的公司都应该能够找到各种水平的开发人员来使用 Elixir。

考虑到这种语言在改善用户体验、最大限度地减少停机时间以及让开发团队的生活变得更加轻松方面所具有的力量，这些都是每个人都应该欢呼的指标——尤其是我们这些从事工程和编程领域的人。

对于我们这些政府技术人员来说，灵丹妙药尤其有前途，因为它体现了让政府更好地为所有人服务所必需的韧性和长期关注。

• • •

由 CityBase 的首席软件工程师 Pedro 担任