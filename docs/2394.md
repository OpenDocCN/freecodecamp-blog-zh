# 如何通过六个简单的步骤保护现有的 WordPress 站点

> 原文：<https://www.freecodecamp.org/news/secure-wordpress-site-six-steps/>

如果你现在想建立一个灵活的网站，很有可能你会使用内容管理系统(CMS)。到目前为止，WordPress 是最受欢迎的。

根据最近的统计，WordPress 为互联网上 40%的网站提供支持。这意味着，如果你是一名网络程序员，你可能会在工作过程中的某个时候遇到 WordPress。

但是因为 WordPress 的应用如此广泛，任何使用它的程序员都必须非常小心地加固它以抵御外部攻击。这些攻击还在继续增加。仅在去年的一次事件中，一个月内就有近 100 万个网站受到攻击。

问题是，没有两个 WordPress 站点是以相同的方式构建的，这意味着有无数的潜在漏洞需要警惕。当你把第三方插件加入其中，就不可能建立一个完美的网站防御。

但是你可以做一些事情来加强 WordPress 网站抵御攻击的能力，除了最复杂的威胁之外，其他的都可以阻止。这里有六个安全步骤，适用于你工作的每一个 WordPress 网站。

## 第一步:更新 WordPress 到最新版本

由于 WordPress 是一款软件，所以当发现漏洞时，保持更新以修补漏洞是至关重要的。但是数量惊人的开发商和网站所有者忽略了这一点。

最近的数据表明，多达 70%的已知 WordPress 安装版本[仍然使用存在已知漏洞的版本](https://www.wpwhitesecurity.com/statistics-70-percent-wordpress-installations-vulnerable/)。

尽管你会认为这些信息会在互联网上拉响警报，但问题依然存在。其中一部分原因是因为企业不愿意支付专业帮助来完成这项工作。其中一部分原因是因为某些网站依赖于旧的插件，而这些插件无法与新版本的 WordPress 兼容。

但是任何在这样的网站上工作的开发者都是在自找麻烦。所以，当你遇到过时的 WordPress 安装时，你最好坚持更新网站。

如果你花时间与网站所有者分享一些威胁统计数据，他们最终会明白的。只是要确保在做任何改变之前做一个完整的网站备份。

如果出了问题，页面崩溃或者插件失败，你会制造一个比你解决的更大的问题。据 [WSI 数字网](https://www.wsidigitalweb.co.uk/)报道，这是许多开发者都会遇到的问题，它会造成现实世界的伤害。他们说，

> “我们不得不在 WordPress 升级失败后进行清理，因为网站崩溃导致页面失效。当这种情况发生时，这些页面可能会很快从搜索索引中消失，因此快速回滚这些更改至关重要。”

## 第二步:删除不用的插件，更新剩下的

就像核心 WordPress 安装一样，插件也会遭受开发者不时修补的漏洞。WordPress 异乎寻常地依赖插件来提供各种功能。

例如，当我最近在一家当地管道公司的网站上工作时，我惊讶地发现哪些插件正在使用，因为这个网站相对简单。

但是最小化潜在攻击面的最好方法是，在费心寻找可用的更新之前，首先移除任何冗余或废弃的站点插件。这将简化正在进行的维护任务，并减少潜在的漏洞。

只有这样做了，你才应该检查剩余插件的更新状态。

在应用了可用的更新后，不要认为一切都很好。查看是否有剩余的插件有一段时间没有更新了，并尝试找出原因。

如果你发现一个插件开发者已经消失或停止了一个插件，寻找一个积极维护的替代品。一个插件没有任何开发活动的时间越长，它成为安全问题的几率就越大。

## 第三步:最小化用户权限和安全登录

即使你正在开发的 WordPress 站点没有已知的漏洞，那也不意味着它是安全的。这是因为[暴力凭证攻击](https://www.malcare.com/blog/wordpress-brute-force/)是黑客获得对 WordPress 网站的未授权访问的最常见方式。防止这些损害的最好方法是检查用户权限和密码策略。

首先，尝试缩小拥有管理员级别访问权限的帐户数量。对于小企业来说，将几乎所有人都指定为管理员并不罕见，但这是一个巨大的风险。

因此，检查每个帐户，并从内置访问组中分配尽可能低的权限级别:

*   超级管理员–WordPress 超级用户。尝试将这些限制在最多两个。
*   **管理员**–这是最高的普通用户权限。同样，尽量将这些保持在最低限度。
*   **编辑器**——供需要控制和修改所有已发布文章的用户使用。
*   **作者**–只能以自己的名义发布和修改内容的用户。
*   **投稿人—**可以添加，但不能以自己的名义发表文章。
*   **订户–**除了他们的用户资料外，不能更改站点。

如果您遇到任何不再需要访问的用户，请删除他们。然后，使用[谷歌认证插件](https://wordpress.org/plugins/google-authenticator/)或另一个双因素认证系统来保护剩余的账户。

## 第四步:禁用不可信文件夹中的 PHP 执行

到目前为止，前面的所有步骤都围绕着防止常见的低级攻击。

但是你也应该担心 WordPress 网站面临的一些更复杂的威胁。其中许多涉及攻击者寻找方法在没有获得帐户访问权的情况下在网站上执行代码。

这在 WordPress 中很常见，因为它管理默认文件夹权限的方式。

例如，如果你安装一个插件来管理用户上传的媒体，比如图片和视频，它需要一个对外界可写的上传文件夹。如果攻击者能够访问该文件夹，他们可能会尝试上传恶意脚本，并使用它来改变或接管整个站点。

好消息是，您可以在必要的文件夹中使用简单的访问控制文件来防止这种情况。

你需要做的是在每个名为. htaccess 的可写文件夹中创建一个新文件，它是一个文本文件，告诉 web 服务器在给定的目录中允许或不允许什么。其中包括以下内容:

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase
RewriteRule ^index\.php$ - [L] RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L] </IfModule>
# END WordPress
<FilesMatch "\.(php|php\.)$">
Order Allow,Deny
Deny from all
</FilesMatch>
```

这个。htaccess 文件将允许用户上传你想要的各种文件，但将阻止任何人上传任何可写目录中的可执行代码。

您可以在任何想要保护的面向用户的文件夹中执行此操作。但是要小心不要过度使用这些限制。WordPress 的大部分都涉及到 PHP 的执行，如果你把其中一个放在错误的地方，你可以禁用整个网站。

## 第五步:禁用 PHP 错误显示

获得目录的写和执行权限只是攻击者试图在 WordPress 网站上运行恶意代码的方式之一。他们可能还会寻找网站中运行 PHP 的部分(几乎是你没有锁定的任何地方),并在那里找到弱点。但是你可以让他们的工作更加困难。

为此，您应该关闭 PHP 错误显示，这样当他们试图故意破坏站点页面时就看不到任何结果。如果网站给他们提示什么有用，什么没用，它可以提供一个路线图来找到利用现有网站页面的方法。

好消息是在 WordPress 中禁用 PHP 错误报告很简单。您所要做的就是编辑站点的 wp-config.php 文件，该文件位于根目录中，包含站点的基本配置信息。

只需将下面一行添加到文件中:

```
define( 'WP_DEBUG', false);
```

这将禁用整个站点的 PHP 调试。当你做这个改变的时候，只需要做一个记录，以防将来网站遇到麻烦，需要授权调试。

## 第六步-禁用主题和插件编辑

即使你做了以上所有的事情，你也不能确定没有人会带着伤害的意图进入 WordPress 站点。所以，你应该设置最后一组路障。

这不会阻止任何严重的攻击者制造混乱，但它可能会为网站的运营商赢得足够的时间来注意到问题并采取行动纠正它。

你应该做的是禁用内置的 WordPress 主题和插件编辑功能，让那些已经进入管理界面的人更难修改网站的基本代码。

同样，您可以通过修改位于根目录下的站点 wp-config.php 文件来实现这一点。在你看到“就这样，停止编辑！”的地方添加下面一行。“快乐出版”:

```
define( 'DISALLOW_FILE_EDIT', true );
```

这将在管理界面中隐藏主题和插件编辑器，并阻止任何简单的方法来修改站点文件。要撤销这一更改，攻击者需要对 web 主机进行 FTP 或文件级访问，这至少会降低他们的速度。

最后一点，尽管你可能在其他地方看到建议，指导你使用代码片段插件来做这些改变，但是不要这样做。如果您这样做了，攻击者可以使用相同的插件来撤销您的更改，从一开始就否定了进行更改的安全价值。

## 不完善的保护仍然值得一试

这里的底线是 WordPress 总是会成为自身成功的牺牲品。有太多的网站依赖于它，这使得它成为攻击者的一个大而诱人的目标。

虽然这六项措施不能阻止每一种可能的威胁，但它们可以很好地防御大多数普通的攻击。

您还可以(也应该)尝试通过将默认的表前缀更改为模糊的名称来保护您的站点数据库。但是由于这有点超出了现有网站的范围，作为一种安全措施，我在这里省略了它。

如果你想尝试一下，这里有一个[极好的操作指南](https://www.wpbeginner.com/wp-tutorials/how-to-change-the-wordpress-database-prefix-to-improve-security/)。否则，你应该感到满意的是，你已经尽了自己的一份力量，让世界范围内运营的无数 WordPress 网站中的一个变得更安全一点。

由 stock.adobe.com IB 摄影公司拍摄的特色照片。