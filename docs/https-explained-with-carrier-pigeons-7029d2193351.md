# HTTPS 用信鸽解释道

> 原文：<https://www.freecodecamp.org/news/https-explained-with-carrier-pigeons-7029d2193351/>

安德里亚·赞恩

# HTTPS 用信鸽解释道

![TB0RMgQcqOXAIkFOmYNKPiDenkz0WhmdrxXb](img/ade9833374007c58eab283df64cea4af.png)

[韩语翻译](https://www.vobour.com/%EB%B9%84%EB%91%98%EA%B8%B0%EB%A1%9C-%EC%84%A4%EB%AA%85%ED%95%98%EB%8A%94-https-https-explained-with-car)
[葡萄牙语翻译](https://medium.com/inpaas/explicando-https-com-pombos-correio-68270a5b0c28)
[西班牙语翻译](https://www.transparentcdn.com/https-explicado-palomas-mensajeras/)
[蒙古语翻译](https://medium.com/unimediasolutions/https-ыг-шууданч-тагтаагаар-адилтган-тайлбарлах-нь-f094d38a7dc5)
[波斯语翻译](https://virgool.io/@raminpay/https-explained-hkxu4qmijmfc)
[越南语翻译](https://blogchanhday.com/p/nhat-ky-anh-bo-cau-dua-thu-va-https/)

密码学可能是一门很难理解的学科。里面全是数学证明。但是除非你真的在开发加密系统，否则这种复杂性对于理解高层发生的事情是不必要的。

如果你打开这篇文章希望创造下一个 HTTPS 协议，我很抱歉地说，鸽子是不够的。否则，煮点咖啡，好好享受这篇文章吧。

### 爱丽丝，鲍勃和…鸽子？

你在互联网上做的任何活动(阅读这篇文章，在亚马逊上买东西，上传猫图片)都可以归结为向服务器发送和从服务器接收信息。

这可能有点抽象，所以让我们想象这些信息是由信鸽传递的。我知道这可能看起来很武断，但是相信我，HTTPS 的工作方式是一样的，尽管要快得多。

此外，我们将谈论爱丽丝、鲍勃和马洛里，而不是谈论服务器、客户机和黑客。如果这不是你第一次试图理解加密概念，你会认出这些名字，因为它们在技术文献中被广泛使用。

### 第一次天真的交流

如果爱丽丝想给鲍勃发信息，她就把信息附在信鸽的腿上，然后发给鲍勃。鲍勃收到了这条信息，读了它，一切都很好。

但是如果马洛里在飞行中截获了爱丽丝的鸽子并改变了信息呢？Bob 不可能知道 Alice 发送的消息在传输过程中被修改了。

这就是 **HTTP** 的工作方式。很可怕吧？我不会通过 HTTP 发送我的银行凭证，你也不应该。

### 秘密代码

如果爱丽丝和鲍勃非常狡猾。他们同意用密码来写他们的信息。他们会将字母表中的每个字母移动 3 个位置。例如 D → A，E → B，F → C。纯文本消息“秘密消息”将是“pbzobq jbppxdb”。

现在，如果马洛里拦截了鸽子，她将无法把信息转换成有意义的东西，也无法理解它说的是什么，因为她不知道代码。但是 Bob 可以简单地反过来应用代码，并在 A → D，B → E，C → F 处解密消息。密文“pbzobq jbppxdb”将被解密回“秘密消息”。

成功！

这被称为**对称密钥加密**，因为如果你知道如何加密信息，你也知道如何解密它。

我上面描述的代码就是俗称的**凯撒密码**。在现实生活中，我们使用更花哨、更复杂的代码，但主要思想是一样的。

### 我们如何决定密钥？

如果除了发送方和接收方之外没有人知道使用了什么密钥，对称密钥加密是非常安全的。在凯撒密码中，**键是我们移动每个字母的偏移量**。在我们的示例中，我们使用了偏移量 3，但也可以使用 4 或 12。

问题是，如果 Alice 和 Bob 在开始用鸽子发送消息之前没有见面，他们就没有办法安全地建立密钥。如果他们在信息本身中发送密钥，马洛里将截取信息并发现密钥。这将允许 Mallory 在 Alice 和 Bob 开始加密他们的消息之前和之后，如她所愿地阅读或改变消息。

这是一个典型的**中间人攻击**的例子，避免这种情况的唯一方法是一起改变加密系统。

### 搬运箱子的鸽子

所以爱丽丝和鲍勃想出了一个更好的系统。当 Bob 想要给 Alice 发送消息时，她将遵循以下步骤:

*   鲍勃给爱丽丝送去一只鸽子，没有任何消息。
*   爱丽丝让鸽子拿着一个箱子回来，箱子上的锁是开着的，但钥匙在她手里。
*   鲍勃把信息放进盒子里，关上锁，把盒子送给爱丽丝。
*   爱丽丝收到盒子，用钥匙打开盒子，读了信。

这样马洛里就不能通过拦截鸽子来改变信息，因为她没有钥匙。当 Alice 想要给 Bob 发送消息时，遵循相同的过程。

爱丽丝和鲍勃刚刚使用了通常所说的**非对称密钥加密法**。这叫不对称，因为即使你能加密一条消息(锁住盒子)你也无法解密它(打开一个封闭的盒子)。
在技术术语中，盒子被称为**公钥**，打开盒子的钥匙被称为**私钥**。

### 我如何信任这个盒子？

如果你留心的话，你可能已经注意到我们还有一个问题。当鲍勃收到那个打开的盒子时，他怎么能确定它来自爱丽丝，马洛里没有拦截鸽子并用她有钥匙的盒子换了盒子？

Alice 决定她将在盒子上签名，这样当 Bob 收到盒子时，他检查签名并知道是 Alice 发送了盒子。

你们中的一些人可能会想，鲍勃首先是如何识别爱丽丝的签名的？好问题。爱丽丝和鲍勃也有这个问题，所以他们决定，代替爱丽丝在盒子上签名，泰德将在盒子上签名。

泰德是谁？泰德是一个非常著名的，众所周知的和值得信赖的家伙。泰德给每个人签名，每个人都相信他只会给合法的人签名。

泰德只有在确定要求签名的人是爱丽丝时，才会在爱丽丝框上签名。所以 Mallory 不能得到 Ted 代表她签名的 Alice 盒子，因为 Bob 会知道这个盒子是一个骗局，因为 Ted 只在验证了人们的身份之后才为他们签名。

用技术术语来说，Ted 通常被称为一个**认证机构**,你阅读本文所用的浏览器附带了各种认证机构的签名。

所以当你第一次连接到一个网站时，你信任它的盒子，因为你信任 Ted，Ted 告诉你盒子是合法的。

### 箱子很重

爱丽丝和鲍勃现在有了一个可靠的通信系统，但他们意识到，携带盒子的鸽子比只携带信息的鸽子要慢。

他们决定只使用盒子方法(非对称加密)来选择一个密钥，使用对称加密对消息进行加密(还记得凯撒密码吗？).

这样他们可以两全其美。非对称密码的可靠性和对称密码的效率。

在现实世界中没有慢鸽子，但是使用非对称加密比使用对称加密要慢，所以我们只用它来交换加密密钥。

现在你知道 HTTPS 是如何工作的了，你的咖啡也应该准备好了。去喝吧，你活该？