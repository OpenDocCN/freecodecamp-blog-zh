# 如何编写易于描述的代码

> 原文：<https://www.freecodecamp.org/news/writing-describable-code/>

当代码无法用语言描述时，大多数人不得不做一些心理映射来把它转换成语言。这浪费了精神能量，并且你冒着映射错误的风险。不同的人会映射到不同的词，导致讨论代码时的混乱。

这通常是错误沟通/误解产生的错误的肥沃滋生地，出于同样的原因，修复这些错误经常会引入新的错误。最终，它变成了没有人真正理解或愿意接触的代码。

## 不可描述代码的示例

很容易认为代码已经是一种书面语言。如果看起来简单，应该是读起来容易，说起来容易，听起来也容易。然而，情况并非总是如此。

下面是判断一年是否是闰年的常用方法。

```
(divisibleBy(4) and not divisibleBy(100)) or divisibleBy(400) 
```

这不是过于复杂的代码。它调用一个函数 3 次，有 3 个操作符(and、or、not)，有两层嵌套。

然而，如果你花一点时间尝试用文字描述这个算法，我想你会发现这是一场斗争。

也许“一年被 4 整除不被 100 整除，或者被 400 整除就是闰年”？

问题是代码有括号，但是单词没有。所以它们不能充分描述条件，以及“或能被 400 整除”是否适用于“能被 4 整除”或“不能被 400 整除”。你可以试着挥挥手，做做手势来解决这个问题，或者改变陈述之间的停顿时间，但是希望很明显有很多潜在的错误。

## 重构可描述的代码

相反，我们可以从用文字描述病情开始，然后使文字尽可能清晰和简洁。我们可以从这个开始:

“400 年是个特例。如果一年能被 400 整除，那么它就是闰年。100 年也是特例。如果一年能被 100 整除，那么它就不是闰年，除非它也能被 400 整除，400 年的特例优先。如果没有特殊情况，那么能被 4 整除的年份就是闰年。”

这很清楚，但并不简洁，所以我们可能想把它缩小一点:

“如果一年能被 400 整除，那么这一年就是闰年。否则，如果它能被 100 整除，那就是正常年份，否则，如果它能被 4 整除，那就是闰年。”

如果我们将这些单词转换成代码，我们可能会得到如下结果:

```
 if divisbleBy(400):
		return LeapYear
	elif divisbleBy(100)
		return NormalYear
	elif divisbleBy(4):
		return LeapYear
	else:
		return NormalYear 
```

## 结论

几乎所有程序员每天都会遇到难以理解的代码。我们可以通过编写易于用语言描述的代码来帮助自己和同事。

最棒的是，这样做实际上比用其他方式编写代码更容易，因为没有思维映射/浪费的脑力。唯一的“窍门”是用文字描述算法，然后编写代码来匹配文字。

在许多组织中，算法已经用文字描述，作为验收测试或用户故事的一部分，这将进一步提高生产率。