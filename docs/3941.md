# Git 重置命令

> 原文：<https://www.freecodecamp.org/news/the-git-reset-command/>

## **去重置**

`git reset`命令允许您将当前磁头复位到指定状态。您可以重置特定文件以及整个分支的状态。

### **重置一个或一组文件**

以下命令允许您有选择地选择内容块，并对其进行还原或取消转移。

```
git reset (--patch | -p) [tree-ish] [--] [paths]
```

### **卸载文件**

如果您使用`git add`将一个文件移动到暂存区域，但不再希望它成为提交的一部分，您可以使用`git reset`来取消该文件的暂存:

```
git reset HEAD FILE-TO-UNSTAGE
```

您所做的更改仍将存在于文件中，此命令只是将该文件从临时区域中删除。

### **将分支重置为先前提交**

下面的命令将当前分支的头重置为给定的`COMMIT`，并更新索引。它基本上是倒回你的分支的状态，然后你所做的所有提交都会覆盖在重置点之后的所有内容。如果省略`MODE`，默认为`--mixed`:

```
git reset MODE COMMIT
```

`MODE`的选项有:

*   `--soft`:不重置索引文件或工作树，但将 HEAD 重置为`commit`。将所有文件更改为“要提交的更改”
*   `--mixed`:重置索引，但不重置工作树，并报告未更新的内容
*   `--hard`:重置索引和工作树。自`commit`以来对工作树中被跟踪文件的任何更改都将被丢弃
*   `--merge`:重置索引，更新工作树中`commit`与 HEAD 不同的文件，但保留索引与工作树不同的文件
*   `--keep`:重置索引条目，更新工作树中与`commit`和 HEAD 不同的文件。如果`commit`和 HEAD 之间不同的文件有本地更改，重置被中止