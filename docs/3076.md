# HTTP 401 错误与 HTTP 403 错误-状态代码响应解释

> 原文：<https://www.freecodecamp.org/news/http-401-error-vs-http-403-error-status-code-responses-explained/>

我们之前已经详细介绍过 [403(禁止)HTTP 错误](https://www.freecodecamp.org/news/http-error-403-forbidden-what-it-means-and-how-to-fix-it/)代码，但是它也有一个几乎相同的兄弟。

那么 401(未授权)和 403(禁止)状态码到底有什么区别呢？它们的意思肯定是一样的吧？让我们仔细看看！

## RFC 标准

定义 401(未授权)的最新 RFC 标准是 [RFC 7235](https://tools.ietf.org/html/rfc7235#section-3.1)

> 401(未授权)状态代码表示请求尚未应用，因为它缺少目标资源的有效身份验证凭据...用户代理可以用新的或替换的授权头字段重复该请求。

而 403(禁止)是最近在 [RFC 7231](https://tools.ietf.org/html/rfc7231#section-6.5.3) 中定义的

> 403(禁止)状态代码表示服务器理解该请求，但拒绝授权...如果在请求中提供了身份验证凭据，服务器会认为这些凭据不足以授予访问权限。

## 常见原因

正如上一篇文章中提到的，当用户已经登录，但他们没有足够的权限访问所请求的资源时，就会出现 403 错误。例如，普通用户可能试图加载“管理”路线。

另一方面，您遇到 401 错误最明显的时候是您根本没有登录，或者提供了不正确的密码。

这是这一对错误的两个最常见的原因。

## 不太常见的原因

不过，在某些情况下，事情并不那么简单。

403 由于限制并不完全依赖于登录用户的凭据，因此可能会出现错误。

例如，服务器可能锁定了特定资源，只允许来自预定义范围的 IP 地址的访问，或者可能利用地理封锁。后者有可能被 VPN 绕过。

401 即使用户输入正确的凭据，也可能发生错误。这种情况很少见，可能只有在开发自己的认证后端时才会遇到。但是如果授权头格式不正确，它将返回 401。

例如，您可能希望在请求头中包含一个 JWT (JSON Web Token ),它要求格式为`Authorization: Bearer eyJhbGci......yJV_adQssw5c`。如果您忘记了 JWT 前面的单词“Bearer ”,您将会遇到 401 错误。

我自己在用 Postman 测试开发中的 API 时也遇到过这个问题，忘记了 auth 头的正确语法！

## 好了

我希望这能澄清围绕这些非常相似的错误的任何困惑。

如果你觉得这很有帮助，或者希望挑战或扩展这里提出的任何东西，请随时在 Twitter [@JacksonBates 上联系我。](https://twitter.com/JacksonBates)