# Linux:如何用 useradd 添加用户和创建用户

> 原文：<https://www.freecodecamp.org/news/linux-how-to-add-users-and-create-users-with-useradd/>

如果不止一个人在家使用您的 Linux 机器，或者您正在管理一个为多个用户提供访问的服务器，那么`useradd`命令对于创建用户是必不可少的。

此外，您作为开发人员使用的许多服务可能需要自己的用户帐户才能运行。因此，即使你是自己机器上的独立开发者，当你安装 MySQL 或类似的东西时，你可能会发现自己需要用到这些命令。

您可以通过查看该实用程序的手册页来全面了解您可以使用的各种选项:`man useradd`

但是如果这是压倒性的，这里有一些创建用户时可能使用的常用选项的分类。

## 创建用户

该命令的简单格式是`useradd [options] USERNAME`。

例如`useradd test`(作为根用户，如果您没有以根用户身份登录，则前缀为`sudo`)。

这将创建一个名为 test 的用户，但这是一个有限的操作，不会创建其他有用的东西，如他们的主目录或密码！

## 添加密码

然后使用`passwd`命令:`passwd test`为测试用户添加一个密码。这将提示您输入用户密码。

*有一个选项可以通过`useradd`上的`-p`选项添加加密密码，但出于安全考虑，不建议这样做。*

注意,`-p`选项不允许您输入明文密码，它希望您首先加密它。这是故意刁难，因为你应该**而不是**去做！只需使用`passwd`命令。

## 其他常见选项

### 主目录

要使用默认主目录创建用户，请使用以下选项:

`useradd -m test`

这个用户现在有一个/home/test 目录。

要更改主目录，您可以传递一个额外的选项来修改它，例如:

`useradd -m -d /alternate test`

### 壳

默认情况下，您创建的用户可能会有默认的登录 shell bin/bash 或 bin/sh，这将在`/etc/default/useradd`中定义。

您可以使用`-s`选项覆盖该默认值:

`useradd -s usr/bin/zsh test`

## 把所有的放在一起

要构建完整的命令，您需要将选项一个接一个地放入——顺序无关紧要——并以您希望创建的用户名结束。

因此，创建一个具有主目录和定制 shell 的用户将如下所示:

`useradd -m -s /usr/bin/zsh user`

然后为用户添加一个密码:`passwd user`

## 阅读精美的手册

现在您已经看到了这个工具可以做什么的基本知识，希望手册页更容易导航。

将向你展示如何在账户上添加到期日、分配组等等。