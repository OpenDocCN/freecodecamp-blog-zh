# 如何提交拉式请求

> 原文：<https://www.freecodecamp.org/news/how-to-submit-a-pull-request-529efe82eea5/>

假设你在`develop`分支上写了一些代码。您已经完成了您正在进行的工作，并且您想要将它合并到`master`分支中。

但是你不知道你写的代码是否足够好。在您将代码合并到主分支之前，您希望有人审查您的代码。

您可以通过拉取请求来实现这一点。

### 什么是拉取请求？

拉请求是“请求 Git 拉”的简称。

这可能很难理解，所以我们要用一个类比来解释它。

想象一下，你有一箱香蕉要装上船。装载香蕉的唯一方法是:

1.  你让人扔一根绳子下来
2.  你把绳子绑在板条箱上
3.  他们拉起板条箱

当他们拉起箱子时，他们会想检查你的香蕉是否好。如果他们发现一根烂香蕉，他们可能会要求你把那根烂香蕉换成一根好的。

他们也可能认为你所有的香蕉都很烂，并决定扔掉它们。(但让我们希望这不会发生，好吗？)

在这个类比中，一箱香蕉是来自开发分支的代码。船是主枝。水手是来检查你的代码对主分支来说是否足够好。

这就是拉请求:在合并到另一个分支之前，你让某人检查你的代码。

我们使用的类比和实际的拉动请求之间的唯一区别是:你不会让别人帮你扔绳子下来。你自己带绳子，在港口把它绑在你的香蕉上，然后把它扔到船上。水手唯一需要做的事情就是检查香蕉。

这就是我们所说的提交拉取请求的含义。

提交拉取请求有两种方式。如何操作取决于您是否拥有对存储库的写访问权限。

在我们提交一个拉请求之前，我们需要做一些修改，所以我们有一些东西要合并。在这种情况下，我们将向代码添加一个标题:

```
<!-- The code we're using to submit the pull request --> <h2>I'm a heading</h2>
```

您需要将这段代码提交到开发分支中。然后，您需要将它推送到 git 遥控器。

它将出现在我在下图中突出显示的部分。

![0*dpIaMx00--Gq9hde](img/609d770d09f08ec5d41e9a0ef9e8a4c6.png)

如果你看到这条信息，那太好了。点击它。你会省去几个步骤。

如果没有看到，可以点击 Github repo 顶部的 pull request 选项卡。

![0*Pkg8pBcBj8GZEGZv](img/b70e24b2f0538a170704221e7dddad83.png)

然后，单击绿色按钮“新的拉取请求”。

![0*s-7kajV7028oZyMS](img/87f643c62f56a1e51bc8e9248da327ec.png)

你会看到一个写着“比较变化”的页面。

![0*JLiYZw4G99Cz2gLC](img/ebc553ac17bedd915d5345b22222243e.png)

要创建拉取请求，您需要将基本分支和比较分支设置为以下内容:

*   `base`:您要合并到的分支
*   `compare`:要合并的分支

在我们的例子中，我们希望合并到 master，所以我们将设置`base`为`master`。我们正在从`develop`合并，所以我们将把`compare`设置为`develop`。

一旦你选择了你的分支，Github 会显示已经提交的列表。在这里，您需要做的是单击“创建拉式请求”按钮。

![0*usMPzWvpQ4CGwAAU](img/1e5e79e133042e0edbebcacbff8f0bdb.png)

Github 会显示一个页面，上面写着“打开一个拉取请求”。

注意:如果你看到我前面提到的“你的分支已经在 X 分钟前被更新”消息，这就是你要到达的页面。

![0*DZklVY-15f7sbKTb](img/55893ad5c958dfb8145402cb9a4d6ea0.png)

您写的标题将是人们在“拉取请求”选项卡中看到的标题。我们将把它设置为“向索引添加标题”。

对于评论，这将是人们点击拉取请求时看到的第一条消息。在这种情况下，我们会说“我添加了一个标题。让我知道它好不好？”

![0*oKIqsx17DQlebWXL](img/857f419b906724d0a221bbf26403d4a6.png)

添加标题和消息后，您可以单击页面底部的“创建拉式请求”按钮。

现在，如果您单击顶部的“pull request”选项卡，您将看到我们刚刚提交的一个未完成的“pull request”。

![0*G26L9dxWOZMIHYcd](img/0a6ee43b9e78df4f8bcbeee255ee1955.png)

如果您对存储库有写权限，这就是创建拉请求的方式。

如果您没有对存储库的写访问权限，您将不得不创建一个 Fork。让我们暂停一下，谈谈什么是叉子。

### 叉子是什么？

Fork 不是您正在使用的 git 客户机。别糊涂了！

Git 中的 fork 表示基于另一个库的库。

到目前为止，您已经学习了分支，并且您知道可以从另一个分支创建一个分支。(例如，从`master`创建一个`develop`分支)。

同样，一个存储库可以从另一个存储库创建。从另一个存储库创建的存储库称为 fork。

分叉存储库包含主存储库的所有内容(在分叉时)。它包括所有标签和分支。

您拥有分叉的存储库(它赋予您写权限)。这个分叉的存储库仍然会被跟踪到主存储库。您将通过这个被跟踪的链接发出一个拉请求。

让我们看看它在实践中是如何工作的。

注意:您不能派生自己的存储库。我要做的是用一个虚拟账户向你展示它是如何工作的。从现在开始，请注意这两个帐户名:

1.  主账户:`zellwk`
2.  虚拟账户:`zellwk2`。

(我应该创造一个完全不同的名字…但是我认为你可以很好地理解)。

要派生一个存储库，您可以点击存储库右上角的 fork 按钮。

![0*PqfVRNirQBswK02X](img/091fcfe5695165350b4ecb1d48388644.png)

一旦分叉完成，您将看到一个看起来(几乎)与您分叉的存储库一模一样的存储库。但是有一点不同——如果您查看项目的标题，您可以看到该项目是从另一个存储库中派生出来的。

您拥有对这个分叉存储库的写访问权限。

![0*3qg_cY-Xu_I34rJt](img/c53fc751ab437cf949376812fa73568b.png)

当我们从一个分叉的存储库中提交一个 pull 请求时，我们会这样做:

1.  创建新分支
2.  在新分支中编写代码
3.  从新分支发送拉请求

但是在本课中，我不打算创建新的分支，因为我必须在我的 Git 客户机上设置虚拟帐户(这是一个繁琐的过程)。

因此，对于这一课，我们将直接写入`develop`分支。然后，我们将从`develop`分支提交一个拉请求。

在本例中，我在`index.html`文件中添加了一个包含以下 HTML 的列表:

```
<ul>  <li>Item 1</li>   <li>Item 2</li>   <li>Item 3</li>
```

注意:在这个例子中，我没有打开 ul 标签。我们将在下一课中查看这个拉取请求时发现这个错误。

此更改的提交消息是:`Add list`。

现在，如果您返回到分叉的存储库，您应该能够看到一个名为“new pull request”的按钮。此按钮位于让您切换分支的按钮旁边。

![0*zdEIiex6u5Fg4Ztc](img/a41e1464a66358155ac9e1e2780e55fb.png)

点击这个新的拉取请求按钮来创建一个拉取请求。

Github 会把你带到一个页面，上面写着“打开一个新的拉取请求”。这个页面看起来像你在上面看到的“打开一个新的拉取请求”页面。

不同的是你需要设置四样东西:

1.  底叉
2.  基础分支
3.  头叉
4.  比较分支

![0*rlg55BYiA5zjPEOB](img/1102fd9a3fa507dfbcdf44523c35c962.png)

从上面的例子中，我们知道了两件事:

1.  `base`分支是您想要合并到的分支
2.  `compare`分支是您想要合并的分支

这意味着我们应该设置以下内容:

1.  基叉:`zellwk/project`
2.  基地分支:`master`
3.  头叉:`zellwk2/project`
4.  比较分支:`develop`

接下来您需要做的是编写拉取请求标题，编写注释，然后单击 New Pull Request 按钮。

![0*FM4gRYAr7KFDM-Q8](img/f7884fc6fef7b10536cc98c32ddf90ae.png)

并且您已经从一个分叉的存储库中提交了一个拉请求。

![0*igd7AvgrfoCwEDlA](img/6cd2372457622649bb11f5d5d4dc8f07.png)

### 包扎

当您提交一个“拉”请求时，在将它们合并到一个分支之前，您要求某人检查您的更改。

创建拉取请求有两种方法。如何操作取决于您是否拥有对存储库的写访问权限。

如果您有写权限，您可以从存储库的页面创建拉请求。

如果您没有写权限，您需要将存储库分支到您自己的页面。然后，从分叉的存储库中创建一个拉请求。

感谢阅读。这篇文章对你有什么帮助吗？如果你有，[我希望你能考虑分享它](http://twitter.com/share?text=How%20to%20submit%20a%20pull%20request%20by%20@zellwk%20?%20&url=https://zellwk.com/blog/submit-pull-request/&hashtags=)。你可能会帮助别人。谢谢大家！

本文原载于 [*我的博客*](https://zellwk.com/blog/submit-pull-request) *。*
如果你想要更多的文章来帮助你成为一个更好的前端开发者，注册我的[简讯](https://zellwk.com/)。