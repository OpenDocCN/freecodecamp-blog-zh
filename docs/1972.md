# 如何保护你的安卓应用——每个安卓开发者都应该知道的四个安全最佳实践

> 原文：<https://www.freecodecamp.org/news/how-to-secure-your-android-app/>

如果你最近一直在关注新闻，你可能已经注意到一个令人担忧的技术趋势。网络安全攻击的频率和严重性正在激增。

我们已经看到了涉及网络安全管理软件产品管理平台的大规模黑客攻击的新闻。那次攻击可能已经损害了超过 18，000 名网络安全管理软件产品用户的系统。

然后，我们发现微软无处不在的 Exchange 电子邮件服务器中的零日缺陷导致受影响的系统被黑客攻击的速度比专家计算的速度还要快。

对于普通的软件开发人员(比如我)，这简直是太可怕了。毕竟，如果像这些价值数十亿美元的大公司都不能避免灾难性的黑客攻击，我的代码还有什么机会保持安全呢？

事实证明，在这方面有好消息也有坏消息。

好消息是，我们最近看到的大规模攻击的类型就是大规模的。换句话说，能够实施这类攻击的组织(或民族国家)并不太关心我所从事的小型软件项目。

但是坏消息是:有很多小规模的黑客非常乐意让你作为开发者的生活变得悲惨。如果你允许，他们会做的。

但是你可以做点什么。你可以把尽可能多的设置路障作为你的使命。通过覆盖对软件最可能的攻击角度，您可以增加潜在攻击者绕过您的代码并寻找更容易的目标的几率。

现在，我已经写了大量关于各种软件安全主题的文章。但是因为我现在正在开发一个 Android 应用程序，并且因为 Android 是黑客最喜欢的目标，所以我决定分享四个最重要的 Android 应用程序安全原则，你可以将它们包含在你的平台应用程序中。我把它们作为我安全工作的重点，你也应该这样做。

## 1.保护应用程序的传输层

当攻击者瞄准一个 Android 应用程序时，首先要做的事情之一就是看看他们是否可以拦截它和你的服务器后端之间传递的任何数据。

通过窃听这些通信，他们可以了解你的应用程序的很多信息。如果你真的很不幸，他们甚至可以使用这些数据来找出如何模仿你的应用程序，并获得对服务器端数据的不适当访问。

因此，保护 Android 应用的第一步很简单:通过使用强加密来保护其数据传输层。

你可以通过使用像 [SSL](https://www.freecodecamp.org/news/openssl-command-cheatsheet-b441be1e8c4a/) 和 [TLS](https://www.freecodecamp.org/news/what-is-tls-transport-layer-security-encryption-explained-in-plain-english/) 这样的协议来做到这一点，这些协议很容易添加到你的代码中，并且很难被破解。一旦你有了解决方案，花时间做一些[威胁建模](https://www.freecodecamp.org/news/threat-modeling-goran-aviani/)来决定你是否已经做了足够的工作来保护你的应用程序的流量。

如果您正在处理特别敏感的数据，您甚至可能想要更进一步，在您的应用程序中构建一个 VPN 类型的解决方案。如果你以前从未在 Android 应用中实现过 VPN，你可以在 Android 开发者指南中阅读添加 VPN 的基础知识。

如果你走这条路，你甚至可以向你的客户(或者最终用户，如果你正在构建一些公共的东西)宣传这个特性。如今，Android VPN 应用如此普遍，以至于只要提到这个功能，就会让用户知道你对他们数据的安全性是认真的——这总是一个不错的公关加分。

## 2.让身份认证刀枪不入

![app-authorization-bulletproof-2fa](img/7b157cd56d811c7b255c4dec8a933380.png)

*Image: thodonal / Adobe Stock*

除了你的应用程序的数据流，下一个最常见的要消除的攻击媒介是其认证方法中的任何弱点。

这样做的问题在于你的用户。我的意思是，你需要让你的应用程序的认证过程尽可能地安全，而不要让它变得过于繁琐，以至于你的用户会反对(如果每次有客户问我 2FA 是否真的有必要时，我都会得到一美元，我现在应该退休了)。

不管你要回答这个问题多少次，2FA 是必要的，也是值得实施的。

除此之外，您还需要注意如何处理像密钥交换这样的事情。至少，您应该使用 AES 加密来保证这些交易的安全。

最后但同样重要的是，你应该确保[使用基于令牌的安全性](https://auth0.com/learn/token-based-authentication-made-easy/)来验证从你的应用程序到其后端的合法请求。这使得这种请求变得非常困难，即使攻击者找到了查看实时数据流的方法，他们也无法使用这些信息来发起攻击。

## 3.防范代码注入

你应该担心的下一件事是你的应用面向公众的部分。因为大多数应用程序都是交互式的，它们将为用户提供以某种形式输入数据的能力。这可以通过像表单这样的文本输入域，或者通过直接上传数据来交换像文档和图片这样的东西。

每当你添加一个用户输入特性时，你应该尽力确保没有人能利用它们来反对你。

解决这个问题的第一个方法是使用适当的输入验证。如果您的应用程序需要字段中的特定文本，请确保它不会接受任何其他内容。你可以通过添加一个[预建的文本验证模块](https://www.simplifiedcoding.net/android-form-validation-tutorial/)或者通过[构建你自己的](https://www.freecodecamp.org/news/form-validation-with-html5-and-javascript/)来做到这一点(如果你有时间和兴趣的话)。

如果你计划让用户上传图片或其他特定文件，你必须让应用程序能够扫描上传的文件，以确保它是它所声称的。

同样，使用任何数量的预构建模块都是可能的。我倾向于使用 [JMimeMagic](https://github.com/arimus/jmimemagic) ,因为它可以处理各种 MIME 类型，但是您可以使用在您的项目环境中最有效的任何解决方案。

## 4.最小化和保护客户端存储

最后但并非最不重要的一点是，您应该努力使用最小的本地数据足迹来构建您的应用程序，这对于完成工作是可行的。

这是因为您存储在客户端设备上的任何数据都在您的控制之外，因此容易受到外部威胁。

如果用户的设备受到任何攻击，导致对存储在其上的数据的访问，您可能会无意中给攻击者提供一个路线图，从您的应用程序中窃取信息。

现在，不存储客户端数据几乎是不可能的——尤其是如果你需要你的应用程序离线时保留部分或全部功能。因此，至少要确保您存储的所有客户端数据始终保持加密状态。

此外，尝试消除任何数据的存储，如果攻击者得到这些数据，可能会造成问题。比如联系人列表、信息长度或任何种类的使用历史都会浮现在脑海中。

除了存储之外，您还需要测试您的应用程序，看看它是否不容易受到可能暴露关键数据的内存泄漏的影响。

要做到这一点，您应该熟悉像 [OWASP Zed 攻击代理(ZAP)](https://www.zaproxy.org/) 这样的工具。这将有助于您在攻击者利用应用程序内存使用漏洞攻击您之前找到这些漏洞。

掌握它可能有点复杂，但是有大量好的文档和极好的用户社区可以帮助你。

## 锁得紧紧的

我希望我可以告诉你，使用这四个原则构建的任何应用程序都不会受到任何威胁。但是攻击者每天每分钟都在努力寻找新的漏洞，除非你也把反击它们作为你的工作，否则你不太可能找到完美的解决方案。

但是，通过涵盖这些主要的攻击媒介，你至少会让他们的工作足够努力，以至于不值得尝试(除非你的应用程序包含一些有巨大价值的东西)。

最终，这是任何人作为开发人员对你的全部要求，除非他们愿意付给你丰厚的报酬来防范每一个可能的威胁——嘿，那不是很好吗？

*专题图片:亚瑟·谢夫佐夫/ Adobe Stock*