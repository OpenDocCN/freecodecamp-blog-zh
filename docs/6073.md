# 工业实力自然语言处理

> 原文：<https://www.freecodecamp.org/news/industrial-strength-natural-language-processing-de2588b6b1ed/>

作者:卡维塔·加内桑

# 工业实力自然语言处理

![2F6XhGY9UWpjc4BVuLfrMQRjq8Ev9XpYg-qG](img/bbaa2c177f91e7a3c597425b5917f56d.png)

我职业生涯的大部分时间是作为一名研究生研究员，现在是该行业的一名数据科学家。我逐渐意识到的一件事是，学术研究论文和工作场所中提出的绝大多数解决方案都不适合发布——它们无法扩展！

我说的规模是指:

*   处理**真实世界**用例
*   处理**大量**数据
*   生产环境中**部署**的简易性。

这些方法中的一些要么工作在非常狭窄的用例上，要么很难及时地产生结果。

通常情况下，问题在于所使用的方法，尽管当事情出错时，我们往往会将问题渲染为“无法解决”。记住，几乎总是会有**多种方法来解决自然语言处理(NLP)或数据科学问题。优化您的选择将增加您将模型部署到生产中的成功机会。**

**在过去的十年里，我交付了为真实用户服务的解决方案。从这次经历中，我现在遵循一套最佳实践，每次开始一个新的 NLP 项目时，它都能最大化我的成功机会。**

**在这篇文章中，我将与你分享其中的一些。我相信这些原则，我希望这些原则对你也有用。**

### **1.请亲亲！**

**![1XNrUYvRw3Ilooemmmyz3J17pu0p41S9vgCS](img/6b80e0e23004d0146d5b585c982d59ed.png)**

**[接吻(保持简单，傻逼)](https://en.wikipedia.org/wiki/KISS_principle)。在解决 NLP 问题时，这似乎是常识。**

**但是我不能说这些:选择易于理解和维护的技术和管道。避免复杂的，只有你理解，有时只是部分理解。**

**在许多 NLP 应用程序中，您通常会注意到以下两点:**

1.  **深度预处理层，或**
2.  **复杂的神经网络架构很难掌握，更不用说反复训练、维护和改进了。**

**问自己的第一个问题是，是否需要预处理的所有层？**

**你真的需要词性标注、组块、实体解析、词汇化等等吗？如果剥去几层呢？这对您的模型的性能有什么影响？**

**通过访问大量数据，您通常可以让数据中的证据来指导您的模型。**

**想到 [Word2Vec](https://en.wikipedia.org/wiki/Word2vec) 。Word2Vec 的成功在于它的简单。你使用大量的数据来提取意义——使用数据本身。层次？什么层？**

**当涉及到深度学习时，明智地使用它。并不是所有的问题都受益于深度学习。对于确实存在的问题，使用易于理解和改进的架构。**

**例如，对于一个编程语言分类任务，我只是使用了一个两层人工神经网络，并在训练速度和准确性方面实现了大获全胜。**

**此外，添加新的编程语言是非常无缝的，只要您有数据输入到模型中。**

**我可以通过直接从研究论文中使用一个非常复杂的 RNN 架构来使模型变得复杂，从而获得一些社会流通。但我最终从简单开始，只是为了看看这会让我走多远，现在我可以说，为什么需要增加更多的复杂性呢？**

### **2.当有疑问时，使用久经考验的方法**

**![gLMrdH1IGQKjRssKwsV9p6ymkC53mi4-wfsZ](img/a14790152134244b9b11bfa8e3c96b07.png)

Things can’t go awfully wrong with time-tested approaches** 

**对于每一个 NLP/文本挖掘问题，您有很多选择。完成同样的任务总会有不止一种方法。**

**例如，在查找相似的文档时，您可以使用简单的单词袋方法，并使用得到的 [tf-idf](https://en.wikipedia.org/wiki/Tf%E2%80%93idf) 向量来计算文档的相似性。**

**或者，您可以通过生成每个文档的嵌入并使用文档嵌入计算相似性来做一些更好的事情。**

**你应该使用哪一个？这实际上取决于几个因素:**

1.  **这些方法中哪一种在实践中有更高的成功几率？(提示:我们看到 tf-idf 一直被用于信息检索，而且速度超级快。嵌入选项如何比较？)**
2.  **这些我更了解哪一个？记住，你对某件事了解得越多，你就越有机会调整它，让它按照你期望的方式工作。**
3.  **我有必要的工具/数据来实现这些吗？**

**这些问题中的一些可以很容易地通过一些文献搜索来回答。**

**但你也可以联系专家，比如大学教授或其他研究过类似问题的数据科学家，给你一个建议。偶尔，我会和同领域的同行讨论我的想法，以确保我在一头扎进去之前，对问题和潜在解决方案的思考是正确的。**

**随着你获得越来越多的项目，直觉因素开始发挥作用。你会对什么可行，什么不可行有非常强烈的感觉。**

### **3.非常了解你的终点**

**![ynwV1R1197WSvTb0oVgHmPVLhnbaXw9Pm6hE](img/bb936afcb1adcf697ce68b160cd4f56d.png)**

**我在 GitHub 的[主题上的工作最初是出于推荐存储库的目的。这些主题永远不会向用户公开。它们仅用于内部计算回购相似性。](https://githubengineering.com/topics/)**

**在开发过程中，人们变得非常兴奋，并建议这些应该直接向用户公开。我的第一反应是“见鬼，不！”。但是人们想知道，为什么不呢？**

**很简单，这不是这些主题的预期用途。你只在内部使用的东西的噪音容忍度比你在外部向用户展示的建议要高得多。**

**所以在主题的情况下，我实际上花了额外的三个月来改进工作，以便它实际上可以暴露给用户。**

**这一点我说得再多也不为过，但是你需要知道你的最终目标是什么，这样你才能真正努力提供一个解决问题的方案。**

**你试图实现的最终目标的模糊性可能导致要么**完全重做**，要么**几个月的额外工作**调整你的模型以做正确的事情。**

### **4.注意你的数据质量**

**![Q4nrwNbxBOKz1RtKmQETssIbuG01JinLbOzj](img/53ee4a80b83fd94c52bd34ba713cb8fd.png)**

> **当谈到机器学习和 NLP 时，“垃圾进，垃圾出”在任何意义上都是正确的。**

**如果你试图预测情感类别(正面对负面)，并且你的正面例子包含大量负面评论，反之亦然，你的分类器将会被混淆。**

**想象一下，如果我告诉你`1+2=3`，下一次我告诉你`1+2=4`，下一次我再告诉你`1+2=3`。呃，你不会这么困惑吗？这是同样的类比。**

**此外，如果你有 90%的正面例子和 10%的负面例子，你认为你的分类器在负面评论上表现如何？它可能会说每个评论都是积极的评论。**

**类别不平衡和数据缺乏多样性可能是一个真正的问题。你的训练数据越多样化，它就越能概括。**

**这在我的一个关于[临床文本分割](http://kavita-ganesan.com/wp-content/uploads/2017/10/stat-segment.pdf)的研究项目中非常明显。当我们在训练例子中强制多样化时，结果明显改善了。**

**虽然过度处理数据可能是不必要的，但处理不足也可能是有害的。**

**我们以推文为例。推文是高度嘈杂的。你可能有像`looooooove`这样的不在词汇表中的单词和像`lgtm`这样的缩写。**

**要理解这些，你可能需要先把它们恢复到正常的形式。否则，这将陷入垃圾入垃圾出的陷阱，尤其是在处理相当小的数据集时。**

### **5.不要完全相信你的量化结果。**

**![9WL1Q3Pbo6EWDT3S67TVGyCixTXB0wzplLQH](img/9066f8f9b3df3620716b57267a58bb2c.png)

Doubt your quantitative results** 

**数字有时会说谎。**

**例如，在文本摘要项目中，您的机器学习摘要和人类管理的摘要之间的重叠可能是 100%。**

**然而，当您实际观察机器和人的总结时，您可能会发现一些惊人的东西。**

****人类说** : *“这是一个很好的坏总结的例子”*。
**机器说** : *“例子太棒了这是总结一个不好的 a”***

**你的重叠分数仍然是 100%。明白我的意思了吗？光有量化评价是不够的！**

**你需要**目视检查你的结果**——还有很多。试着直观地理解你所看到的问题。这是一个很好的方式来获得更多关于如何调整你的算法或者完全抛弃它的想法**

**在总结的例子中，问题很明显:单词的排列需要大量的工作！**

### **6.考虑成本和可伸缩性。**

**![rMebIkecS0sr9JV5PbWUU2vl39WEI4uW194o](img/73aca2ec04a3ece9f3400ac7a8a7dd22.png)**

**您是否考虑过在生产环境中部署您的模型需要什么？**

*   **您的数据依赖关系是什么？**
*   **你的模型运行需要多长时间？**
*   **预测或产生结果的时间如何？**
*   **此外，当您扩展到要处理的实际数据点数量时，您的方法的内存和计算需求是什么？**

**所有这些都直接影响到您是否能够使用您提议的方法，其次，您是否能够处理生产负载。**

**如果您的模型是 GPU 绑定的，请确保您能够负担得起为这样的模型提供服务的成本。**

**越早考虑成本和可伸缩性，成功部署模型的机会就越大。**

**在我的项目中，我总是安排时间来训练、分类和处理不同的负载，以估计我正在开发的解决方案在生产环境中的表现。**

### **长话短说…**

**你开发的原型不一定是一次性的。如果您提前计划，它可能是一些真正强大的生产级解决方案的开始。**

**考虑你的终点，以及你的方法的输出将如何被消费和使用。不要让你的解决方案过于复杂。如果你[亲吻](https://en.wikipedia.org/wiki/KISS_principle)并选择一种适合问题的技术，而不是强迫你的问题适应你选择的技术，你就不会出错！**

**我从应用的角度写关于文本挖掘、自然语言处理和机器学习的文章。[关注我的博客](http://kavita-ganesan.com/subscribe/#.XGs_lpNKigQ)继续学习。**

*****本文原载于【kavita-ganesan.com】T2*****