# 如何恰当地进行代码评审

> 原文：<https://www.freecodecamp.org/news/how-to-properly-give-a-code-review-c2fcc49e345f/>

你正坐在办公桌前，想着自己的事情，这时你的一位同事走过来，问你是否可以给他们一份代码审查报告。不想显得粗鲁(并且记住他们不久前给了你这个恩惠)，你同意走到他们的办公桌前，检查他们正在做什么。

此时，您不知道您的同事一直在做什么。它可能是一个简单的 bug 修复，一个小的特性或者一个大的重构。不管任务的大小和规模如何，当你进行代码评审时，你都应该做好准备。想知道怎么做，请阅读下面的内容。

#### 基础知识:什么是代码评审？

根据[维基百科](https://en.wikipedia.org/wiki/Code_review)的说法，一次代码审查是:

> 一种软件质量保证活动，在这种活动中，一个或几个人主要通过查看和阅读程序的部分源代码来检查程序，他们在程序实现后或中断实现时这样做。至少有一个人不是代码的作者。

简单来说，这意味着要提高贵公司产品的质量，需要不同的人对代码进行评估。

到目前为止，我假设我没有给你对代码审查的理解增加任何新的东西。但平心而论，仍有许多模糊之处:

*   代码评审应该如何开始？
*   如何判断代码审查是好是坏？
*   代码审查应该持续多长时间？

这些只是一些我确信你会问的问题的例子。虽然每个问题都没有简单的答案，但是有一些指导方针可以帮助你。

![nCL-jGPPlOdY1JaYcT4PXYDTN56J1mPHEDN5](img/74e6acadb30905b745a664dd116cdd16.png)

Photo by [Toa Heftiba](https://unsplash.com/@heftiba?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

#### 准备是关键

在您进入代码审查本身之前，请问这两个问题:

1.  你知道你的同事在做什么吗？
2.  你熟悉他们一直从事的代码领域吗？

如果你对这两个问题的答案都是否定的，那么你需要做一些功课。这是为了让您尽可能有准备地参加代码评审。

弥合差距的一种方法是查看与该功能相关的票证/问题。在那里，您应该找到足够的信息，让您了解开发人员任务背后的范围和推理。此外，如果这是你工作场所的惯例，你可以查看罚单上的备注。您希望查看是否对票证进行了任何与初衷不符的更改。如果所有这些都失败了，在你开始代码审查之前，让你的团队成员解释他们一直在做什么以及为什么。

我总是倾向于做的是，即使我很清楚任务是关于什么的，也要求开发人员用他们自己的话解释任务的范围。这样，我就可以最小化在任务中没有意识到某些事情的风险。当开发人员重申他们一直在做的事情时，他们可以更好地向自己解释他们做了什么。

![Z52U2ZJOF56lA-XRETqnNYA3MwSU4LgKSQV3](img/c1a32b5b014ea3327c9d61b33c69cdb0.png)

Photo by [kyle smith](https://unsplash.com/@roller1?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

#### 听，然后问

每一次对话都是双向的:一边说，另一边听。同样的逻辑也适用于代码审查。尽量不要打断其他开发人员，以免打乱他们头脑中已经准备好的流程。记笔记或写下对你来说重要的事情，以提醒自己轮到你时该问什么。

代码审查可能会变得漫长而乏味，保持专注并提出关键问题是很重要的。如果有不明白的地方，请开发商详细说明。不完全了解代码库的每一部分并不丢人。

通过提问，不仅 ***你*** 对代码越来越熟悉，而且开发者还不得不向其他人解释他们做了什么。在这样做的时候，开发人员可能会发现一个他们没有想到的场景。或者您可能会看到某个可能导致 bug 的流。

我知道你们中的一些人可能会说，**“但是如果我的经验比其他开发人员少/多，我该如何提问呢？不会很没礼貌吗？”**

答案是**没有**。

当没有要求时，就没有学习。代码审查的全部意义不仅仅是对其他开发人员所做的事情进行批准。你在那里检查代码的逻辑，但也部分负责代码的整体结构。

![ayTOonqiasKzPynMEhepqu4Xx0wxSkuEanTI](img/d269370f1e6bc669fadac5f40d2ee096.png)

Photo by [Thao Le Hoang](https://unsplash.com/@h4x0r3?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

#### 感同身受但诚实

开发人员为他们的工作感到自豪。像大多数人一样，他们不喜欢听别人告诉他们做错了什么。尽管如此，作为评审者，让别人听到你的声音是很重要的。

就像每个人会有不同口味的冰淇淋一样，每个开发人员对如何编写和维护代码都有不同的看法。尽管如此，每个开发人员都必须遵循一些共同的真理。所以为了保持冷静，一定要用建设性的方式表达你的观点。这样的话，没有人会被冒犯。

当然，你会有不同意见。在某些情况下，强调需要重写的代码的缺点是很重要的。如果你陷入了死胡同，试着和另一个开发人员或团队领导提出来。别忘了，在另一边，还有另一个有自己观点的开发者。

#### 要记住的好事情

虽然上面讨论的主题形成了代码评审的三足鼎立(如果你愿意的话)，但是还有其他的事情需要注意:

*   如果相关，询问是否添加了单元测试，如果是，检查它们
*   文档是代码评审的一部分(如果没有，讨论添加它的意义)
*   在代码审查开始之前，询问开发人员他们认为需要多长时间(这将有助于你相应地计划你的一天)
*   如果在代码审查之后有许多变更，确保安排另一个变更，这样下一次迭代就不会被忽略
*   要有礼貌，试着赞美其他开发人员所做的事情

没有两个代码审查是相同的，并且与大多数活动相似，熟能生巧。相信你的直觉，相信你的同事。其他一切都会水到渠成。