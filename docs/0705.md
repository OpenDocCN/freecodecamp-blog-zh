# 如何测试 React 应用程序

> 原文：<https://www.freecodecamp.org/news/how-to-test-react-applications/>

React 是最流行的前端 JavaScript 框架之一。如果你想确保你的 React 应用程序按预期工作，编写全面的测试是很重要的。

我们刚刚在 freeCodeCamp.org YouTube 频道上发布了一门 React 测试课程，将教你如何构建、部署和测试 React 应用。

Nikolay Advolodkin 创建了这个课程。Nikolay Advolodkin 是一名经验丰富的 IT 专业人员、测试自动化专家，也是一名受欢迎的测试讲师，拥有终极 QA。

在本课程中，您将学习如何使用 React 测试库，编写端到端的可视化测试，以及开发全面的测试策略。您还将学习如何使用 Happo.io、Cypress 和 Jest 等测试工具。

首先，您将学习如何创建一个基本的 React 应用程序并部署到 Microsoft Azure。接下来，您将学习如何创建一个经过全面测试的生日提醒应用程序。最后，您将学习如何构建和测试作品集网站。

观看 freeCodeCamp.org YouTube 频道的全部课程(2 小时观看)。

[https://www.youtube.com/embed/8vfQ6SWBZ-U?feature=oembed](https://www.youtube.com/embed/8vfQ6SWBZ-U?feature=oembed)

## 副本

(自动生成)

在这个由三部分组成的课程中，您将学习如何编码、部署和测试三个 react 应用程序。

Nikolay 是 ultimate QA 的创始人，也是一位很受欢迎的软件测试讲师。

考虑留下您在本课程中学到的任何 react 测试技巧的评论，我们将通过使用 create react app 创建一个非常简单的 react 应用程序来开始第一个教程。

接下来，我们将使用 React 测试库来编写一些单元测试。

之后，我们将学习如何编写端到端的可视化测试。

最后，我们将把该应用程序部署到 Microsoft Azure。

在教程的第二部分，我们将学习如何用一些静态数据创建一个漂亮的生日提醒应用程序。

这将非常简单，但我们将建立在我们在第一个教程中学到的技能。

接下来，我们将考虑这个 web 应用程序的综合测试策略。

最后，我们将编写这些测试，并针对我们的生日提醒 webapp 运行它们。

在第三个也是最后一个教程中，这是我最喜欢的一个。

我认为你真的会喜欢它，你会建立一个美丽的开发组合网站，你可以用来炫耀你的开发技能。

我们将为这个 web 应用程序编写许多不同的组件。

但是本教程主要是围绕测试策略，你会学到很多非常酷的工具，比如 POJO、Cypress 和 jest 如何进行组件测试和单元测试。

我叫 Nikhil Avalon skin，是一名高级解决方案架构师，我在终极问答 YouTube 频道上创建教程。

这是开发人员学习如何测试，测试人员学习如何开发的地方。

所以你还在等什么，让我们直接进入教程。

好的，让我们开始创建我们的 React 应用程序，你可以看到我在一个名为 react web up 的文件夹中，我们只有一个许可证和一个自述文件。

因此，让我们继续做一个 NPM 在需要建立这个目录。

现在我们已经添加了包 dot JSON。

如果你还没有安装，一定要安装 create react app，这是一个从脸书创建 react 应用程序的简单方法。

一旦安装了 create react app，您就可以使用 create react app 来创建一个新的 react 应用程序。

所以让我们开始吧。

我们称这个应用为我的应用。

太棒了。

完成下载和安装后，您可以看到 create react app 为我们提供的一系列命令，这些命令告诉我们可以做的事情是将 CD 下载到我的应用程序。

然后在我的应用程序中，如果我们打开它，您会看到现在有一个“我的应用程序”文件夹，它有自己的节点模块，这里有一堆代码，我们稍后将探讨这些代码。

让我们开始启动我们的应用程序，看看会是什么样子。

这是我们在 localhost 3000 上运行的奇妙的小应用程序的开始。

这里的日志也指出了这一点。

因此，create react app 的真正奇妙之处不仅在于它为我们构建了一个随时可以运行和修改的应用程序。

它甚至附带了一个我们可以执行的测试。

如果我们看一下 package dot JSON，我们可以看到，如果我们运行一个 NPM 测试命令，它将运行一些测试。

因此，我们可以在这里打开一个新选项卡，进行 NPM 测试。

这里将执行一个单元测试，我们有一个 app.test.js。

这个测试实际上是使用 React 测试库。

但是，您可以在这里看到，我们有一个测试，它将呈现学习反应链接。

在这里，我们使用一个名为 render 的方法，我们正在渲染我们的应用程序组件，接下来您可以看到，我们正在使用屏幕通过文本获取一个名为 Learn react 的元素。

最后，我们希望链接元素出现在文档中。

这只是一个期望，文档中会有 React 测试库断言。

这太棒了，因为现在我们有一个已经准备好的单元测试。

不管我们的应用程序是否启动，它都可以运行。

因此，如果我关闭我们的应用程序，然后回到这里重新运行测试，它们仍将继续工作，因为它们不需要服务器，我们实际上将继续推进到 CI 中。

因此，开始 GitHub 操作最简单的方法是到 GitHub repo 中的 actions 选项卡，确保您已经创建了一个。

然后你可以过来说，一个新的工作流程。

GitHub actions 会为你提供一些建议的工作流程，然后它会注意到我们显然没有使用 J S。

然后它会向我们推荐一个潜在的工作流程。

这个看起来棒极了。

让我们点击它，它已经附带了一系列为我们配置的步骤。

在这里创建莫亚文件的另一个好处是，你还可以使用一个小的 IDE，例如，你可以看到，如果我们不做一些事情，比如说我们做了这样的事情，UI 会自动突出显示任何可能出错的地方。

所以它说我们在这里错过了一次运行。

然后我们可以运行，然后现在它说值不能为空，这就是你提供值的地方。

这就是我们 CI 渠道的样子。

让我们一步一步地看一下，顺便说一下，您可以看到它是在一个 dot GitHub slash workflows 文件夹中自动创建的，然后您可以为您的文件命名，我称之为我们的 CI、pipeline CI，当然，您可以随意命名。

然后在最上面，我设置了三个环境变量。

这些环境变量是 screener API key sauce、username 和 sauce access key，它们来自作为 GitHub actions 一部分的 Secrets 变量，然后来自这里称为 screener API key、sauce、username 和 sauce access key 的键，因此这里的值被检索并存储在左侧的环境变量中。

那么这些价值观从何而来？让我向你展示它在 GitHub 操作中非常直观，你来到设置。

向下滚动到“secrets ”,您可以看到我在这里创建了三个密钥，它们具有相应的值，这些值将在这里设置。

好吧。

接下来，我们希望每当我们对主分支(main branch)执行 push 请求和 pull 请求时，这个 CI 都会运行。

接下来，在这里，我们定义我们想要执行的作业，我们说我们将在 Ubuntu 最新版上运行，有多种不同类型的虚拟机可供您执行。

我将在节点版本 14 上运行，当然，如果您愿意，也可以在其他节点版本上执行，然后我们将使用这些步骤。

这些步骤中有许多是以前为我们提供的。

我还做了一些修改，以帮助您更快地开始使用 CI 渠道。

所以我们要做的第一件事就是安装依赖项。

这里，我们正在做的正是我们在应用程序的命令行中所做的。

因此，我们应该先安装我的应用程序，然后进行 npm 安装。

然而，我只是使用了一个 NPM CI，它实际上在 GitHub 操作中更快，因为它最终缓存了我们的依赖关系。

因此，这是 CI 中建议采取的措施。

接下来，我们将构建应用程序，对，这只是播种到我的应用程序，并在 NPM 运行构建，以确保我们有一个生产版本。

因为每当我们做一个 npm 从这里开始。

我们的应用程序出现在 localhost 3000 中。

我们看一下我们的 React 开发人员工具，我们可以看到它是红色的，它显示该页面正在使用 React 的开发版本，显然我们不想在今年的生产中使用它。

我们想使用生产版本。

这就是你如何使用 NPM run build。

接下来，我们将执行组件测试。

在我们的应用程序构建完成后，我们只需导航到该目录并运行测试，就像您之前看到的一样。

最后，我们通过执行 npm start 来启动我们的应用程序，实际上是启动服务器，然后我们执行 wait on 命令，等待应用程序启动 60 秒后出错。

随着测试的扩展，我们也将扩展这一渠道。

所以一旦它准备好了，我推荐你使用 UI 的唯一原因就是帮助你使用智能感知。

但最终，最好的方法是进入我的应用程序，然后确保我们将添加一个 GitHub repo 来完成 GitHub slash 工作流。

哎呀。

然后我们将在这里添加一个新文件。

如果你喜欢这个教程，并想支持这个频道，一定要点击视频的大拇指按钮。

如果你想在新教程发布时得到通知，点击订阅按钮。

我们就叫它 CI dot 泰米尔语吧。

它看起来就像我在这里展示的一样，我实际上将两个 CI 命名为 2，这样我们就可以看到，让我们退出测试，执行 a 和 push。

一旦我们进行推送，就应该开始执行我们的 CI 渠道。

让我们来看看那个。

我们会看到我开了这家新的分店。

因此，让我们继续对这个分支机构进行公关。

我在这里犯了一个错误，我应该把 GitHub 工作流放在根目录下，而不是在我的应用程序里面。

你会看到，我把它移到了正确的位置，又推了一次。

现在，我们有了一个 CI 管道，它开始执行，这是一个名为 CI 的名称，与我们在莫亚文件中给它的名称完全相同。

九秒钟后它确实失败了。

所以，让我们来看看到底发生了什么。

所以错误说我们只能用包锁 JSON，或者 NPM，虾蟹 JSON 安装包。

所以让我们继续解决这个问题。

为了做到这一点，我们需要做的是来到我的应用程序，做一个 npm 安装。

这将创建一个包锁点 JSON。

然后让我们继续添加它。

我们可以看我们的犯罪嫌疑人重播。

在这里，您可以看到我们在 14 秒前刚刚提交，这里有一个小黄圈，表示我们的 CI 渠道正在运行。

让我们来看看细节。

太好了，我们的 CI 渠道不仅能够构建和启动我们的应用程序，还能够针对它运行一些组件测试。

因此，如果我们看一下我们在测试旅程中的位置，你可以从这张表中看到，在我们的应用程序经过全面测试之前，我们实际上还有很长的路要走。

这是一个非常小的应用程序，我们甚至没有对它进行任何功能性的修改。

到目前为止，在没有手工测试的情况下，我们对这个应用程序的唯一了解是，在应用程序的 DOM 中确实存在一个带有正确文本的 URL。

我们已经通过一个组件测试验证了这一点，它来自我们的应用 create react 应用。

我们在 jest 中使用了 React 测试库。

如何实际知道网址是否正确，对不对？它可能有正确的标签，但没有去正确的位置。

所以让我们继续写另一个测试。

我们要做的第一件事是，确保我们在这里运行我们的测试套件，然后我们可以添加一个类似这样的测试，我们在这里说，我们在哪里测试一个 URL 是正确的渲染我们的组件，然后像以前一样获取我们的链接元素。

然而，现在我们将验证链接元素的 href 将包含最终的 qa.com，因为那是我们希望我们的 URL 导航到的地方。

当我们点击“保存”时，请注意右下角的窗口。

它将执行这个文件中的所有测试。

在这里，第一个通过了，有道理，但是第二个失败了，网址是正确的。

它说我们期待最终的 qa.com。

但是我们得到了 s.org 的回应。

这是因为我们需要更新我们的应用程序以访问终极 qa.com。

所以我们来这里，去 app Jas。

我们会把网址改成终极 qa.com。

我们将点击保存，我们的测试将重新运行，现在两者都成功了。

还有，当我们在这里的时候，我们这个链接文本不再正确，因为我们不会学习反应，相反，我们要学习测试。

所以让我们把让我们学习测试，上面和点击保存现在。

我们的测试都失败了。

它们都失败的原因是我们可以查看我们的日志。

看起来它无法在文本中找到一个元素，学会反应。

然后它为我们展示了 DOM，展示了所有可见的东西。

当然，这是现存的文本。

然而，这个练习也告诉我们，在测试中使用文本作为检查并不是一个好的策略，因为我们经常会改变链接的文本。

因此我们可以使用更好的策略，比如提供数据破折号属性。

这里我们可以做一个数据破折号测试 ID。

我们可以称之为学习链接。

我们将点击此处的“保存”,我们将返回到 app 点测试。

现在，我们可以通过 ID 来获取，而不是通过文本。

所以让我们去做吧。

让我们试一试。

现在一切都通过了，因为我们通过测试 ID 来获取元素。

当然，如果我们决定改变文本，我们的测试将继续工作。

让我们继续把它推进到我们的 CI 中。

这是我们的承诺。

这是我们的账单。

我们可以一会儿再回来检查。

因此，我们的 CI 管道已经成功执行，这非常好。

让我们看看我们在测试旅程中的位置。

现在，我们已经测试过 URL 是正确的。

现在，如何确保我们的应用程序实际上正确呈现，我们可以做这个测试，以及确保我们的应用程序在 web 和移动上使用两种不同的技术看起来正确。

我们将使用 WebDriver。

Io，并通过在开发周期的后期测试我们的渲染应用程序来转移。

我们将使用视觉快照在浏览器中以不同的分辨率检查我们的应用程序，以确保我们的应用程序响应迅速，并且在不同类型的设备上看起来正确无误。

为此，我们将使用 WebDriver IO 课程。

所有网络驱动程序 IO 让我们配置网络驱动程序 IO，你会得到一个很好的方便菜单，它允许你决定你要做什么。

所以我们将使用 Sauce Labs 在云中执行。

是的，这将是我们的用户名，这将是我们的访问密钥。

不，我们不想这样做，这是默认的。

一旦你选择了所有的选项，现在你要等待 WebDriver IO 安装所有合适的包。

所以一旦所有的安装都完成了，你唯一需要安装的就是 WD IO sync 服务。

所以一旦你安装了所有的东西，这就是我们的 json 包看起来像我们添加的所有东西。

如果我们看一下差异，你可以看到我们已经为测试目的添加了一些 WD i o 服务。

web 驱动程序。

Io 测试默认情况下，转到 test specs 目录，在这里我创建了一个 visual.spec.js 文件。

在这里，我们将进行视觉测试。

这种视觉测试使用标准的描述格式。

然后命令来自 browser 对象，它是 webdriverio 的一个全局对象。

我们导航到一个 URL，然后执行两个重要的命令。

首先，我们这样做，这将为我们正在测试的应用程序提供一个名称。

所以我们可以说，比如我的 react 应用。

接下来我们要做的是快照。

这是捕获我们想要测试的页面的快照。

所以在这种情况下，这是我们的主页。

所以我们称它为主页。

所以 WebDriver 的配置文件。

木卫一住在这里。

这里发生了很多事。

但是我们只能看到重要的部分。

所以我在这里创建了两个常量，分别叫做可视选项和酱选项，我在这里设置了一些 API 键。

在这里，我设置了 screener API 键，我提供了一个项目名，我将向您展示它如何与实际的 UI 相关联。

然后我要说的是滚动和拼接截图，以实现这一点，以便当我的应用程序被拉起时，整个页面被滚动和拼接在一起。

接下来，我启用了一个 sauce Connect，这是一个 HTTPS 代理，允许我从本地主机安全连接到 screener 和 Sauce Labs 的云执行环境。

这告诉我们测试的规格在哪里。

最后，我认为最重要的部分是在多种不同的浏览器和操作系统上运行的配置。

所以我在两种最流行的浏览器分辨率上运行这个程序。

第一个是这里的这个，这个视窗尺寸，这是最流行的桌面，运行在 Windows，10 和 Chrome 上，然后我们运行的另一种浏览器是 MacOS Safari，这个分辨率是 iPhone X 视窗尺寸。

当然，我们可以有更多的分辨率。

将要发生的是，我们的可视化规范将同时在这两个平台上运行。

我们当然可以运行它。

我们可以在这里使用这个命令运行我们的测试。

相反，让我们在我们的 json 包中添加一个测试脚本。

我们可以到这里来补充。

然后，确保在单独的终端中，应用程序实际运行在 localhost 3000 上，因为它必须由我们来执行端到端的可视化测试，所以我们现在可以运行我们的可视化测试命令。

此时，我们可以看到它正在执行两个规格。

当然，这是我们的 Safari 和 Chrome 规格。

我们去看看 screener UI，看看那边是怎么回事。

我们可以看到这是我们新开发的应用 dash two。

当前有测试正在运行。

构建失败。

它失败的原因是因为我们有两个全新的快照，我们从来没有接受过。

筛选人员目前告诉我们的是，嘿，我已经在主页这里得到了这两个分辨率的快照。

我不知道你是否能接受它们。

所以我们可以打开每一个看看。

奥斯汀觉得这样好吗？正确吗？是的，确实如此，我们可以到这里来，把它作为一个基线。

从这一点开始，每一个自动化测试都将根据这个版本的基线进行验证。

这是更大的分辨率。

这个在我们看来也很棒。

让我们接受它吧。

所以从现在开始，新的执行将会在这个基线上运行。

现在，让我们将这个可视化步骤添加到 CI 管道中，并查看它的执行情况。

现在我们回到了莫亚。

我们添加了一个全新的步骤，在应用程序渲染后运行可视化测试并执行以下命令。

让我们继续在 Ci 中检查所有这些，看看会发生什么。

我们有了一个新的命令来添加视觉测试。

这是我们正在执行的 CI 管道。

这是我们执行后的管道，我们可以看到我们的可视化测试已经成功执行，带有一个勾号。

如果我们一直向下滚动，我们可以看到两个测试已经通过。

因此，我们应用程序的当前版本有点无聊，好吧，让我们做得更好一点，实际上看看视觉测试的威力。

因此，我们将进入 app dot j s，用另一个徽标替换这个徽标。

我们可以在顶部看到，我们指向一个 SVG，让我们更改这个 SVG。

相反，我们将指向我点 jpg，这是一个很好的文件，我已经上传。

因此，让我们保存它，并观察她的应用程序在那里运行。

这是世界上最可爱的小狗。

她叫米娅。

当然，我们甚至可以将这个链接更改为他的频道 B，而不是学习测试，我们可以将其更改为其他内容，我们可以说，与 Nikolai 和 Mia 一起学习测试。

太棒了，我们的应用程序重建了。

这是它看起来的样子。

我们甚至可以运行我们的测试，以确保一切都像我们的组件测试之前一样工作，两者都成功地工作，因为记住，我们添加了漂亮的 Beta 测试 ID 属性。

现在我们可以检查这些变化，看看我们的视觉测试发生了什么。

这是我们在 GitHub 的零钱。

让我们看看是怎么回事。

现在，如果我们查看 screener UI，我们可以看到我们的新应用程序 two 有两处更改，让我们单击“看一看”，看看到底发生了什么。

所以 screener 展示的是 screener 用户在 smart hybrid div 会议上发生的两个视觉变化，这意味着它分析了 DOM 和元素的变化，并准确地识别出我们已经改变的两个元素。

现在来决定这是否是一个有效的改变。

是的，这是一个有效的改变。

看起来棒极了。

我们想用这个作为基线的新版本。

所以我们要接受这个。

看这一页。

我们也喜欢这里的所有变化。

我们也可以接受。

综上所述，我们在编码和测试过程中已经走了很远。

我们几乎验证了应用程序的所有内容。

我们使用我们的 visual DOM to database 测试(也称为 Antwuan 测试)验证了该应用程序能够正确渲染，并且该应用程序在 web 和移动设备上看起来符合预期，我们使用了以下技术。

那么，如果我们能够实际部署这个应用程序，然后在真实的生产环境中测试它，那该有多棒呢？实际上，我们可以使用微软 Azure 来做到这一点。

我们将使用他们的 Azure static web apps 功能，他们的 Azure static web apps 功能基本上是一种简单的部署应用程序的方式，而不必担心基础设施和区域以及其他一些东西。

正如您将看到的，这是实现这一目标的一个非常简单的方法。

因此，我们将继续这样做，为了做到这一点，你需要一个 Azure 帐户，你可以通过去 azure.microsoft.com 获得你的 Azure 帐户。

而且是绝对免费的，可以免费注册，然后就可以跟着教程走了。

接下来，你需要安装一个 Azure 静态 web apps 扩展。

因此，在您的 Visual Studio 代码中，您将进入扩展，并安装 Azure static web apps 扩展。

添加完静态 web 应用后，您将看到这个小图标 Azure，您将进入静态 web 应用，然后单击加号添加一个新的 Azure 静态 web 应用。

因此，这里要求我们为我们的 web 应用程序提供一个唯一的名称，让我们称之为我的 react web 应用程序。

Nexus，它让我选择配置，我们显然有一个 React 项目。

接下来，它会问我们的应用程序的源代码在哪里，我们的不在根目录下，但它在我的应用程序内部。

所有代码都放在那里。

最后，任务分配，你的应用程序将被构建到哪里。

因此，当我们来到这里，运行 NPM 构建，这是应用程序的最终生产版本，放在这里的构建文件夹中。

所以这是正确的。

这就是我们要提供的。

在我们的 GitHub 项目中，我们看到添加了一个新的动作。

它被称为 Azure 静态 web 应用程序工作流。

基本上，微软 Azure 增加了一个新的莫亚文件，它就在这里命名，Azure 静态 web 应用，等等。

这样就有了构建和部署我们的应用程序的配置。

因此，一旦我们打开它，我们可以看看这里发生的一切，最长和最重要的步骤实际上是构建和部署我们的项目。

如果我们打开它，我们会看到一堆被执行的东西。

但最终，最重要的部分是在这里的最后，我们的 web 应用程序实际上被部署到这个 URL，它是为我们动态生成的。

如果我们点击这个 URL，我们会看到这是我们美丽而精彩的应用程序。

我不得不在这里添加一件事，当我检查代码时，有一个 settings . JSON 出现了。

让我们看看我是否能在这里找到它。

出现了。

因此，非常重要的是，我也需要将它推进到我的拉取请求中。

JSON 也配置了这三个东西。

一旦我成功推动该法案，我们还可以在这里讨论为我们添加的文件。

它有很多事情在进行，这其实不是什么重要的事情。

这里最重要的部分是，这三个参数讨论了我们的应用程序位于何处，以及构建输出在何处创建。

因此，在这种情况下，它基本上只是建立和部署我们的工作。

这一切都不是我设置的，它是自动为我完成的，这真是太棒了。

最后是一个关闭的拉取请求作业，基本上，一旦拉取请求关闭。

这将基本上结束了我们的工作。

这就是我们自动使用 Azure 静态 web 应用程序添加的所有内容。

现在，我们如何为我们的生产环境编写测试，让我们开始吧。

所以我想做的第一件事就是更新我们的应用程序。

所以如果你运行 npm，这是一个不错的图片，它肯定会更好。

因此，让我们在应用程序中做得更好。

因此，我们在这里要做的是来我的应用程序的源代码，我们将改变图片到一个更好的。

这是 Mia，我要读给我听。

并且把这张改名为喵，你可以看到这张比我可爱的小狗被男朋友暴力攻击好多了。

太棒了。

很明显，这将载入我们的应用程序。

所以这是一个更好的形象。

因此，随着这一变化的完成，我们还需要更新我们的 Azure 管道，以便能够处理所有的测试。

为此，我们只需做我在这个文件中所做的一切。

因此，它基本上是 Azure 静态 web 应用程序自动为我们创建的 Azure 文件和我们之前拥有的 CI 文件的合并。

在设置环境变量之前，您已经看到了所有这些，所有这些都是在这里配置的，但是，现在，我们有一个内置的部署作业，我保留了一些来自 Microsoft Azure 的逻辑。

然后我们在这里做了所有的本地测试。

因此，安装依赖项、构建应用程序、运行组件测试、启动应用程序、在本地主机上运行可视化测试，这是我们之前一直在做的一个新步骤，但我只是简单地将其重命名，称之为在本地主机上运行可视化测试。

您可以看到我们正在运行 NPM，运行虚拟测试，如果我们看一下，您可以看到 NPM 运行指向此配置。

然后，我们还将有 test visual prod，它将运行相同的配置，并将具有更高的调试日志级别。

它还将指向一个基本 URL。

所以让我们继续呆在蔚蓝的莫亚。

这是我们从 Azure 静态 web 应用程序中获得的构建和部署步骤，我只是将它复制并粘贴到这里，一切都是一样的。

然后，我需要添加的唯一部分是添加要在 prod 上执行的可视化测试。

这是我们之前使用的脚本，但是，我们需要指向一个不同的 URL，我们将使用哪个 URL 呢？嗯，这一个，现在我们知道了我们的生产 URL，我们可以用它来测试生产目的。

让我们回到这里。

我们要去我们的 json 包。

我们要更新我们的剧本。

因此，我们将把我们的基本 URL 更改为这里。

如果我们使用 WebDriver IO，这就是我们如何传递这个参数。

我们将它设置为我们的生产 URL。

然后，这个关闭拉取请求作业仍然和以前一样。

所以现在，让我们来试一试。

让我们停下来，看看我们的改变。

别忘了我把我们的工作更名为 Azure CI。

让我们把这个推上去。

如果我们回到这里拉请求，我们看到我们有一些检查正在执行。

让我们看看那些。

这里，我们有我们刚刚通过更新莫亚文件创建的 Azure CI 管道。

我们来点一下详情。

现在我们将看到所有的步骤。

让我们看着他们执行，然后看看最后的结果。

哦，我们的 CI 管道出了点问题，看起来本地主机上的可视化测试失败了。

你知道这是为什么吗？我们一会儿就会知道了。

因此，我们在 localhost 上测试失败的原因是，记住，我们对映像进行了更改。

现在，如果我们回到 screener，我们会看到两个发生了变化。

如果我们观察变化，我们会明显地看到图像发生了变化。

所以这对我们有好处。

我们不需要担心它。

这绝对是我们希望在应用程序中使用的新版本。

我们将接受所有被选中的东西。

然后，我们将简单地重新运行此作业，现在一切都应该会成功通过。

太好了，我们的建造已经成功完成了。

因此，让我们继续，实际看看发生的每一件事。

这只是一些我们已经看过的动作。

我们已经看到了安装依赖项构建应用程序，运行组件测试启动应用程序。

这是对本地主机的视觉测试。

这些都成功了，因为我们最终接受了一个新的基线。

对，我们可以看到一个在 Chrome 和 windows 上通过了，另一个在 macOS 上通过了。

接下来，我们在这里有构建和部署任务，它使用 Azure 静态 web 应用程序 action。

一切都成功了。

如果我们向下滚动，我们将能够看到它显示到的 URL。

最后，我们在产品上运行我们的视觉测试，这几乎是同样的事情。

除了我们只是运行一个不同的脚本，写一个可视化产品的测试。

您可以看到这里启用的 web driver I/o 配置指向我们发布的 URL，并且测试成功通过。

差不多就是这样，我们已经成功地创建了一个 CI 管道，不仅测试了我们的应用程序，还将其部署到生产环境中并进行重新测试，现在您可以在这个应用程序上赚 1 亿美元了。

总之，在本教程中，我们使用 create react app 创建了一个非常简单的 react web 应用程序。

然后，我们使用 React 测试库创建组件测试。

后来，我们通过使用 screener 和 WebDriver 来创建自动化的可视化测试。

我们使用 GitHub 操作将代码添加到 CI 管道中。

最后，他们使用 Azure 静态 web 应用程序轻松地将所有代码发布到 Microsoft Azure Cloud 中。

这就是我们在生产环境中的应用程序。

我们可以测试它。

我的名字是尼古拉·布拉干，你可以在终极 qa.com 了解我更多。

能够向你展示所有的技能，让你度过美好的一天，这是一种真正的快乐。

嘿，欢迎使用 React js 构建生日提醒应用程序。

在本教程中，我们将从头开始编写一个 React 应用程序。

接下来，我们将考虑一个奇妙的应用程序测试策略。

最后，我们将实现一个单一的测试，它将为我们的 web 应用程序提供大量的覆盖面。

我叫尼古拉·阿德拉昆。

在这个频道上，我帮助世界各地的人以持续的方式构建、测试和部署应用程序。

如果你想要更多像这样令人惊叹的内容，请务必按下大拇指按钮，以便我继续为你创建内容。

所以拿起你的电脑，拿起你的咖啡，让我们开始吧。

好了，你准备好开始了吗，让我戴上我的神奇编码眼镜。

我们开始吧。

所以我们要做的代码库将来自这个项目。

你可以看到它是另一个项目的分支，有一堆 React web 应用程序。

我们正在通过教授如何测试和部署它们来构建它们。

我们将制作这个生日提醒，这里有两个文件夹，一个是设置文件夹。

还有最后一个文件夹。

最终的文件夹基本上就是代码最后的样子。

安装文件夹是您将要工作的地方。

这是一个空白文件夹，让你开始。

这里会有一些样板代码。

然后我们会把剩下的编码出来。

让我给你展示一下这到底是什么样子。

当然，第一步，你会得到克隆。

如果你愿意，你可以派生我的项目，然后做一个 git 克隆。

一旦你记下，你将导航到最终目录。

我将这样做，然后安装并启动 npm，这样我们就可以看到应用程序的最终版本了。

好了，这就是了，你可以看到我们的应用程序正在运行，当然，还有 localhost 3000。

这是它看起来的样子。

它显示了生日。

所以我们有今天，今天是他们的生日。

如果你按下清除所有按钮，它会清除所有的生日。

真的就这么多了，app 超级简单。

然而，我们必须从某个简单的地方开始，然后逐步积累。

在这个过程中，我们不仅要弄清楚如何编码它，还要弄清楚如何测试它。

现在我们知道了应用程序的样子，让我们一起来实现它。

然后，我们将讨论测试策略。

我把这个放在这里，你跟着我。

所以你要导航一条路线，你要导航到设置。

这就是我们将要工作的地方，我也将换到一个新的分支机构。

我们要从生日教程开始工作。

如果你想听我的命令，你可以在那个树枝上看到。

显然，我们有了源文件夹。

如果您在设置中，您还需要进行 npm 安装。

在安装时，我们可以在 app J S 中讨论，您可以看到这里除了这个 h2 之外什么都没有，它表示在这个 data dot j s 中设置了提醒项目，您会看到它只是一个关于我们每个用户的元数据数组，再次强调，保持简单，不需要立即从任何地方获取它。

我们的索引，CSS 已经有了所有的样式，对，我们不想花时间，为我们的应用程序把所有的样式放在一起。

所以它已经在这里为你准备好了，我们所要做的就是实现，我宁愿花更多的时间实际实现项目，而不是花更少的时间担心 index.js 中的 CSS。

这是我们应用程序的入口点。

然后我们的 list.js 将包含用户列表。

我们将对它们进行迭代。

你会看到我们在这里做什么。

但与此同时，所有东西都应该已经安装好了，如果你启动 npm，它会弹出我们的应用程序。

我真的要把这个拿出来，我们把它和我们的编辑放在一起。

所以这让生活变得更容易。

我们就这样把它放在这里。

所以你现在可以看到这显示了什么。

只是一个我们的 app J S。

它只是一个简单的粉红色背景，标题是提醒，项目设置。

让我们开始编码吧。

好了，让我们开始在这个应用程序上做一些工作。

我们将从应用程序 J S 开始工作。

让我先关闭右边的窗口，这样您可以看到更多的空间。

我们也会在这里关闭它。

因此，我们要摆脱这一点。

我们将返回更大的代码块。

现在我们要添加一个主要元素，以及它为什么重要。

如果我们进入我们的索引 CSS，我们会看到主要组件的样式在这里。

这将是我们应用程序主要部分的包装器。

在那里面，我们会有一个部分，这个部分会有一个类名。

这就是所谓的容器。

所以我一保存，你就能看到这到底是什么样子。

同样，如果我们查看索引，找到容器，您可以看到容器的 CSS 样式就在那里。

在这部分里面，哪个是白色的部分？我们在里面吃什么？嗯，我们将有一个 h3，它将显示迄今为止的生日数量，我们只是做静态的事情，然后让事情变得更动态一些。

所以我们会做这样的事情，保存它，然后看到它出现在这里。

接下来，我们将导入列表组件。

所以你可以看到导入已经在第三行的最上面了。

一旦我们把逻辑放进去，它就会动态生成。

所以现在，看起来就是这样，因为如果你看列表，你可以看到这就是现在所有的。

接下来，我们将添加一个按钮。

按钮，然后我们要做一个点击的方法，对吗？点击它会做什么？那么它在 click 上要做什么呢？现在，还是保持简单，让我们来看一个匿名函数。

这不会有任何作用。

相反，它只是做一个控制台日志。

就这样。

让我们给这个按钮一个标题。

保存它，嘣，这就是我们的按钮。

如果我们来这里检查，向下滚动。

转到控制台，单击它，您可以看到它显示“clicked ”,因为这是我们编写的方法。

顺便说一下，如果你想知道我是如何快速创建一个匿名函数的，那就是键盘快捷键，NFN。

所以你可以打这个 a 和一个 fan。

你可以看到这是一个匿名函数。

当我点击 tab 键时，我会自动生成这个。

那是从那里来的，就是这里的延伸。

太美了。

到目前为止，App J S 已经启动并运行。

现在让我们继续用实际用户填充它。

好了，下一步，我们要做列表组件。

我们的列表组件将包含所有来自 data Jas 的生日。

所以你可以看到它包含了名字，年龄，图像和一个 ID。

这个列表将基本上重复所有这些，并列出这些组件。

也就是说，让我们去掉这个标题。

相反，我们将把碎片留在这里，我们将绘制一张地图。

实际上，我们要做的是在这个列表中，我们要传入一个对象，我们称之为 people，好的，使用这个对象，我们要做一个地图。

在那里，我们要做另一个匿名函数。

然后我们将映射一个人。

对于每一个人，我们可以用一个解构的物体来构造这个物体，这将包含我们每个人的属性。

所以我们得到了 D。给你。

接下来，我们要返回组件。

那将会是一篇文章，在那篇文章里面，我们将会有一个图像，我们将会有一个图像的来源。

你可以自动看到这些被析构的属性是如何返回到这里，给它一个 alt，它会有这个人的名字。

太美了。

然后下面，然后我们要添加一个 div。

这个 div 将会有一个 h。

这就是那个人的名字。

然后我们会有一段。

然后是年龄和年数。

就这样。

然后在文章的上面，我们肯定希望有一个地图的键，所以这将是 ID。

然后我们想给它一些造型，这将是人。

所以，再一次，如果我们看索引点 css，我们寻找寻找人，有那个人的样式。

让我们回去，让我们保存它，看看到底是什么样子。

哦，失败了。

让我们看看这里出了什么问题。

我认为这是因为我们没有向列表组件传递任何对象。

这就是为什么它是未定义的。

所以现在如果我们回到这里，我们实际上可以定义它。

所以我们首先需要的是一个 D 结构的数组。

让我们开始吧。

那将是人定人。

这就要用到状态。

它将接收我们从这里获得的数据。

给你。

然后利用这些信息，我们要做的显然是把这个更新为一个动态值。

所以那只是人点的长度。

现在我们将动态地展示这一点。

然后我们的列表，我们实际上想要传递人的价值。

那就是人。

太美了。

我认为这是正确的。

让我们运行一次保存，嘣，就是这样，这就是我们的应用程序，您可以看到它的确切外观，以及列表中的每个组件是如何发挥作用的。

所以我们把所有的东西都包装在一篇文章里，每一篇都是一篇文章。

在里面我们有一个图像，然后我们有这个人的名字，然后年龄和年份，所有剩下的就是让这个按钮实际工作，这目前只是控制台日志记录。

而实现这一点是极其容易的。

而且只需要一个方法。

所以这只是让人们。

在里面，我们将传递一个空数组，它将清除所有的内容。

如果我们保存它，现在我们应该可以点击这个按钮了。

你可以看到，现在它显示了你今天的生日，显然计数器正在更新，人的值列表从这里传到这里。

然后 onclick 使用上面的 Set people 方法，传入一个空数组。

我们的应用程序现在完成了，我们如何实际测试它呢？现在，我们的 web 应用程序已经准备好了。

问题是，我们实际上要如何测试它？什么是最优策略，我们的 web 应用包含多个需要测试的组件。

例如，我们在逻辑中编码的动态生日计数器显然需要正确。

按钮的 clear all 功能需要确保列表清晰。

可能最重要的部分是整个 web 应用程序的外观和感觉。

显然移动也很重要。

那么，我们将如何测试我们的应用程序，以确保一切按预期运行，所以让我们开始工作，通过测试阶段。

看看哪种方法更有意义。

我们将从最底层开始，单元测试层。

单元测试对于低级类型的测试来说确实很棒，对吗？例如，如果你有整数相加的函数，或者对一些数据进行解析的函数，这些类型的测试对单元测试非常有用。

老实说，对于大多数 react web 应用程序来说，单元测试很少是必要的，除非您有一些需要测试的深层 JavaScript 逻辑。

所以单元测试在这里不适用，因为我们需要太多的单元测试。

此外，它们也不是这里的正确使用案例。

更好、更适用于 web 应用程序的是什么，尤其是在 React are components has components has 中，它们确保了我们创建的组件(如列表组件)的外观和功能能够与所有后端代码一起正常运行。

因此，如果我们有组件测试，我们可以有一个列表的组件测试。

然后，这将确保当我们从 Jas 数据中提取数据时，Jas 数据被正确提取并显示正确的计数器，我们还可以对按钮进行组件测试，并确保当我们执行 onClick 方法时，按钮执行正确的操作。

但是应用程序的外观和感觉如何呢？我们如何检查它是否在工作？从正确的角度来看，我们肯定可以进入端到端测试的另一个层次，对吗？答案是确保从 DOM 到基本数据库的一切都正常运行。

是的，我们可以使用 Antwan 测试点击一个按钮，并确保当按钮被点击时，它实际上清除了所有的功能。

然而，我们如何确保应用程序的视觉正确性呢？如果我告诉你，有一个非常酷的策略，我们可以在一个测试中使用两个验证点，我们可以确保我们的应用程序 100%的工作功能，会怎么样？让我们去实现它吧。

好吧。

因此，我们实际上不再需要在这里显示应用程序。

因此，我们将继续并停止它，以便全屏显示。

我们将在测试中使用的技术是 WebDriver。

I O 和 screener。

因此，我们实际上要执行一个可视化的端到端测试，这将允许我们呈现整个应用程序，确保它看起来正确。

然后我们将清除整个列表，并确保它看起来是正确的。

有了这两个验证点，打开应用程序，确保它处于正确的状态，清除按钮，确保它处于正确的状态，我们将确保 100%覆盖我们的应用程序，并让我们知道我们的应用程序没有任何问题。

所以让我们开始安装代码。

所以我们要做 NP X，WD，I，O，O。

让我确保我在正确的目录中，所以让我们 CD 到一。

然后我们将使用 CD 进行设置。

然后我们会像这样做 MPX 网络驱动程序，然后它会带我们通过一个超级用户友好的安装过程。

它会让我们选择一堆依赖项。

在安装的时候，我会告诉你一些关于 WebDriver 的信息。

Io WebDriver。

正如这里所说，Io 是下一代浏览器和移动自动化测试框架。

这对于使用浏览器和移动设备进行端到端测试非常有用。

因此，如果您正在寻找一种可以同时处理 web 和移动的解决方案，并且它还具有其他功能，如能够插入 screener WebDriver 等可视化端到端测试工具。

Io 是适合你的工具。

接下来，我们要回答几个问题。

自动化后端在哪里？我们将被用于使用 Sauce Labs 在云中运行，因为 Sauce Labs 被集成到屏幕中，我们将需要 Sauce Labs。

我有一个帐户，如果你没有，那就去 labs.com 酱注册吧。

抓住你的免费帐户。

我将向您展示如何设置它。

所以它已经在问我关于我的用户名和 Sauce Labs 的访问密钥的环境变量了。

是的，我的用户名和访问密钥就这样保存在我的 bash 配置文件中。

不，我们不想运行无头测试。

我们要在哪个地区做什么框架，Mocha 就可以了。

还有茉莉花和黄瓜可供选择。

现在我们没有一个编译器，我们的规范定位到，你的默认设置是只按回车键。

是的，让 WebDriver 为我们生成一些测试文件，这样我们就可以确切地看到那些看起来像页面对象的东西。

不了，谢谢你。

这太过分了。

对于我们这里的测试目的，spec reporter 是完全好的。

然后是我们将要安装的服务，我们不需要 chrome 驱动程序服务 chrome 驱动程序服务来运行本地测试，这对我们的目的来说是不必要的，因为我们将只使用一个单一的可视化端到端测试来解决我们所有的问题。

然后，我将点击输入此处的基本 URL，并安装我不知道它是关于在相机上键入什么。

你们让我紧张。

每当我不得不在镜头前打字时，我都会忘记如何打字。

好吧，漂亮。

所以它说成功设置我们的项目。

好的，在生日提醒设置中，让我给你看一些添加的东西。

包点 JSON 明显是用 WebDriver I O 更新的。

我们还得到了 WebDriver I O 的配置。

我们得到了一个示例测试。

让我们把它打开，这样我们就能看到它是什么样子了。

这是一个非常简单的测试，导航到这个网址，然后看起来像登录。

让我们用 npm 来试一试。

运行 WD IO。

我们会看到它到底是什么样子。

这就是开始。

在这里调出酱油实验室。

好的，我们看到一分钟前，我刚刚执行了调用我的登录应用程序。

我们可以打开它。

最酷的部分是运行视频，看看到底发生了什么。

这就是我们的端到端功能测试。

我们知道我们的环境已经设置好了，下一步我们实际需要做的是设置 screener，这样我们就可以进行可视化的端到端测试，而不是功能性的端到端测试。

所以我们来谈谈 WebDriver I O 的配置以及如何将其与 screener 集成。

在最顶端，我设置了一个可视选项对象。

这需要一个 API 键和一个项目名，API 键来自 screener，我一会儿会给你们看。

项目名称基本上与我们正在进行的项目相对应。

我将它命名为生日提醒，我们在这里也有源选项。

这些也接受用户名和访问密钥。

你可以看到这里有三个环境变量。

如果您想在帐户、用户设置中获得您的环境变量，您将找到您的用户名和 sauce 和 screener 的访问密钥，这是我们的可视化端到端测试工具。

一旦你登录，然后你去你的帐户，并点击我的 API 键。

您将获得 API 密钥，并将它们全部保存到 bash 配置文件中。

现在，我们可以轻松地在我们的机器上进行 CI CD 和测试。

一堆这个已经在这里了。

我刚刚又清理了一些。

你甚至可以在我的 diff 里看到。

我所改变的，只是清理了一下，使它不那么冗长。

WebDriver IO 配置中有许多描述，向您展示了正在发生的一切。

但是最重要的组件是我添加的服务部分。

这允许我们创建一个从屏幕或云到本地机器的安全连接，我们的应用程序运行在本地主机上。

因此它们需要能够相互通信来执行适当的验证。

因此，我在这里启用了该服务，我添加了这些功能，以便能够指向屏幕或集线器。

最后，我这里有一个数组，它允许我运行任意多的浏览器和操作系统。

目前，我把它设置为桌面，这是目前最流行的桌面分辨率。

因此，我将其设置为该分辨率，设置为在 Chrome、Windows 10 和最新版本上运行，然后传递该视口大小，我们可以添加更多这些功能，以便在更多浏览器和操作系统上运行。

当然，如果我们愿意，也可以把这部分去掉。

这就是配置，测试实际上是什么样的？让我们回到测试上来，让我给你们看一下。

这是测试的实际情况。

它被用作标准的描述格式，我是说描述我的生日提醒应用程序，它应该看起来正确。

接下来，我们在这里导航到一个 URL URL，我没有指定任何内容，因为基本 URL 是在 WebDriver 中设置的。

用于查看本机的 IP 信息

我带你去那，那在下面。

接下来，我们有一个 init 命令。

顺便说一句，所有这些文档都可以在 Doc's，visual，to Doc's 中找到，您可以跟随它，它将帮助您进行设置。

但是当然，我在这里也要解释一下，这只是测试的开始执行。

这是最重要的部分之一，即捕捉快照。

所以我在这里，捕获了一个快照，并将其称为默认状态，因为它显示了我们的应用程序打开时的初始状态。

接下来，在它打开后，我将单击我们的按钮。

我在这里所做的是添加一个数据测试 ID 属性，使我们的按钮更加独特。

所以为了让这成为可能，我们必须回到 app J S。

在我们的按钮中，我们将添加一个数据测试 ID 属性，将其命名为 clear。

所以现在我们的按钮有了这个唯一的测试 ID，我们可以用它来进行识别。

我们要点击它。

现在，这显然清除了我们的应用程序，然后我们将捕获应用程序的另一个快照。

然后我们将结束我们的测试，并确保没有消息返回到我们的结果对象中。

让我们试一试。

我想你会明白到底发生了什么。

让我把终端拉过来。

所以我们要做 NPM，运行 WD IO，从这里开始。

如果我没有弄坏任何东西，它就会开始跑了。

我想它已经在跑了，但是再等一会儿。

好了，开始了，正在执行。

让我们回到 screener。

这里我们将看到一个我们的生日提醒，我们将看到当前正在执行一个会话。

它运行在这个分辨率上。

这里有一些关于它的信息。

过一会儿，我会向你们展示它的成果。

我犯了一个小错误，应该有两个新的状态。

让我告诉你发生了什么，看看这里它如何不能点击元素数据测试 ID，因为它没有找到。

我所做的是我实际上修改了错误的应用程序。

因此，我们将获取该文件，并将其放入 setup 文件夹中的正确应用程序中。

给你。

现在我们要添加那个按钮，这正是正在运行的，保存它，现在重新运行这些测试。

我们马上就回来。

好了，在这里。

两个新的州刚刚加入我们的申请。

这到底意味着什么？好吧，让我们打开看看发生了什么。

看，这里，你会看到在这个分辨率上，Chrome 95，Windows 10。

我有我的生日提醒应用，这个生日提醒应用有一个默认状态。

如果我们打开它，我们会在这里看到我们的生日提醒应用程序。

看起来怎么样？它看起来绝对完美。

我们有正确数量的生日。

我们有合适的人，所有的风格都是绝对正确的。

这就是可视化端到端测试最棒也是最强大的地方，我们可以在一条命令中捕获整个应用程序的状态和外观。

这正是我们在这里所做的。

所以我们验证了任何我们可能需要在默认状态下验证的东西。

这看起来不错，我们将接受它，它将被用作我们新代码的未来迭代。

然后下一个阶段是我们的应用程序的另一个唯一可能的状态，也就是 clear 状态。

所以你要记得，我按了清除所有按钮。

这里看起来也完全正确。

因此，我们不仅知道 Clear All 按钮的功能是正确的，我们可以通过多种类型的测试来完成，这个测试还确保了我们的应用程序看起来也很好。

这里的所有逻辑都是正确的。

所以我们也可以接受。

这意味着，我们对应用程序的任何未来测试迭代都将根据这些基线进行验证，并检查嘿，这看起来正确吗？还是发生了什么变化？事实上，如果我们想做一个改变，假设我们进入数据，J，s，没关系，让我们删除我们的第一个元素。

当然，除此之外，我们不会有五个。

我们想，我们可以运行我们的测试。

实际上，我们先来看看我们的应用程序。

而且，看，它现在只有四个人。

没错。

所以如果我们重新进行测试，让我向你们展示这到底会告诉我们什么。

想想吧。

如果我们阅读运行我们的测试，并与基线进行比较，哪些功能发生了变化，哪些功能保持不变？好吧，一切还是老样子。

所以这个测试会通过的。

然后默认状态那部分已经破了。

我们知道我们已经打破了它。

一会儿我会看到单独的测试。

就在那里，快看。

没错。

正如我提到的，一个人改变了一个公认的规则。

让我们回顾一下有哪些变化。

看到了吗？听着，它正在确认到底发生了什么。

移除一个元素。

这当然改变了文本。

现在我们确定这是我们应用程序的正确状态吗？还是我们引入了一个错误在这种情况下，我们引入了错误。

这被拒绝。

现在，我们需要去修复我们的应用程序，并确保它的外观和功能正常。

非常感谢你和我一起学习这个教程。

我希望您喜欢构建和测试生日提醒应用程序。

我是阿拉斯加的尼古拉。

所以，如果你喜欢这些内容，并且你想看到我构建这个应用程序，那就按下那个大拇指按钮吧。

如果你想得到未来视频教程的通知，点击订阅按钮。

最后，如果你想学习一些关于 react 的具体知识，构建应用程序并测试它们，请在下面评论，我会把这些教程放到你的 YouTube feed 上。

再次感谢。

祝你愉快。

下次见。

今天，我们要建立一个漂亮的 next J S 个人作品集网站。

这是它看起来的样子，如果你导航到尼古拉点技术，你将能够看到一个应用程序的现场版本。

你可以看到它看起来有多美。

这里的一切都很实用。

这些图标将带你到不同的资源，你想让人们了解你自己。

如果你向下滚动，你会看到你已经完成的所有项目的集合。

你可以在这里放置你的测试项目，你的开发项目，你和社区一起做的任何事情。

在最底部，你会看到你熟悉的技术，并向你潜在的雇主展示。

有一个小部分描述你自己和你是谁，甚至显示你的经历和成就的时间表。

在最底部，我们会看到一个个人成就部分，描述了你在自己辉煌的职业生涯中所做的一些事情。

甚至有一个链接，你可以点击，有人将能够给你发电子邮件，当然，同样重要的是，这个网站是绝对完全响应。

所以移动第一世界，在当今世界有一个没有响应的网站是绝对不能接受的，你可以看到我们的移动视图是什么样子，一切看起来很棒，很容易阅读，很容易看到，你可以与一切互动。

如果你想查看一个应用程序，你可以点击应用程序，然后它会带你去那里。

好了，说了这么多，让我们开始构建测试这个应用程序。

所以让我们继续实际抓取代码。

所以你可以在这个仓库里找到代码。

当你在那里的时候，请给仓库一颗星。

然后你将能够在这个 dev 文件夹中得到文件夹的最终版本。

这是所有代码存在的地方。

因此，如果你拉下这个并启动服务器，你将能够看到一个应用程序的实时版本。

我甚至为我们创建了一个代码的初级版本。

因此，如果你来到分支机构，搜索 dev，portfolio，start branch net，然后你可以下载这个代码，来到 code 并下载 zip，你将能够得到这个应用程序的一个初始版本。

如果你来到这里，你会看到它的骨架，它没有完全完成。

但是这是一个很好的起点，可以避免许多不必要的样板设置。

当然，当您下载了那个分支之后，您就可以开始自己的项目了。

一旦你开始这个项目，只要把所有的文件夹都放到你的新项目中。

这就是它看起来的样子。

事实上，您可以先安装 npm。

然后，在你做了一个 NPM，安装 NPM 运行开发。

您将会看到，它实际上会在 localhost 3000 上启动我们的应用程序。

让我们把它拉上来。

这是我们的入门应用程序，你可以看到它只有基本的样式，它包含了我们要一起编码的所有组件。

所以头球，英雄，等等。

你可以在我们的 json 包中看到，我们已经设置好了在整个教程中要用到的所有依赖项。

然后，如果我们看一下源代码，您会看到已经编写了基本组件。

例如，这是一个技能组件的样子。

你已经可以看到，上面写的只是一个写着成就的戴夫。

当然，这对应于那个组件，等等。

这里已经创建了每一个组件，只剩下一个显示文本的框架。

你还会注意到，为了让这个教程更有趣，更快，我们已经创建了所有的风格。

所以你可以看到每个组件的样式都是通过 CSS 设置的。

所以我们要做的就是编码出实际的应用程序，并在适当的地方使用这些样式。

我们实际上不需要写任何 CSS。

我还在这里为您的个人文件夹保存了一个自述文件，其中包含所有相关链接和信息，例如个人网站的链接、如何开始以及许多其他可能对您的开发和测试之旅有用的信息。

所以说了这么多，让我们进去开始建立我们的个人投资组合网站。

因此，让我们继续创建我们的第一个组件，这将是我们的头组件。

通常，从最简单的组件开始是最容易的。

所以我们已经导航到了标题 j。

苏菲勒

让我们继续，我们要返回一个容器。

在容器内部，我们将放置一个 div。

这就是 div 看起来样子。

我们会把它变成一个跨度。

这是一个 div，来自我们下面的样式组件。

你可以看到这是应用于这个 div 的样式，然后我们在这里有一个链接，这个链接指向这个主页。

然后我们有这个 gi CSS 检查图标，它来自斜杠 di 的 react 图标，然后我们添加了一个叫做 portfolio 的 span。

如果我们保存它，请注意右边发生的事情，我们现在有了这个可点击的图标。

如果我们点击它，它会把我们带回到我们的主页，因为那里是我们的 href。

在 Dave 旁边，我们将添加一个 div，当然，它也有自己的样式，正如您在这里看到的，我们将添加来自该 Dave 的几个项目。

我们有一个项目 a 技术，其中每一个都有一个 href 属性，但目前并不存在。

但是如果我们保存它，我们现在可以看到它的样子。

当然，在移动视图中，将鼠标悬停在所有样式上，您可以在那里看到 apply。

当然，点击它应该会把每个人带到适当的部分。

但是我们目前没有启用这些部分。

所以我们需要在将来回来实现这些部分。

然后我们想做的是添加一件事，我们正在添加这个社会细节组件，该组件将看起来像这样。

让我们保存它，这个组件将包含我们所有的社会细节，如我们的图标。

您可以在这里看到它被包裹在一个 div 中。

然后我们有我们的社交图标，这些社交图标有，例如，GitHub 图标，LinkedIn 图标，Twitter，icon，YouTube，等等。

如果你有其他你想添加的社交媒体，你可以简单地从 react icons.ai 包中获得这些图标中的任何一个，如果你去他们的网站，你会看到所有不同类型的图标。

当然，如果你想添加其他人，你只需来到这里，根据你的社交媒体类型添加更多。

接下来，我们在这里做的另一件事是，我们将所有的社交 URL 存储在这个常量文件中。

让我带你去那里。

因此，如果你去社会网址，Jas，你可以看到它只是一个对象，包含一个链接到我们的每一个配置文件，那么我们只是在这里引用每一个链接，相应地。

现在，如果我们回到标题，向下滚动到底部，在这个 div 下面，我们添加我们的社交细节。

因此，您可以看到底部的这个选项也将自动为我导入。

因此，如果我这样做，然后我滚动到顶部，您可以看到导入也是为我拉入的。

然后我们一点击保存，注意右边发生了什么，嘣，我们得到了我们的社交图标，你看。

如果我们将鼠标悬停在它们上面，您可以在我浏览器的左下方看到，它甚至突出显示了 URL，让我将它放大一点。

所以你可以看看这个。

所以有那个网址，LinkedIn，Twitter，YouTube。

太棒了。

事实上，我接下来要做的是，把 YouTube 放在最前面，把这个放在这里，保存，然后我们开始。

下面说说我们的测试策略。

一瞬间。

当然，我们有一个正在构建的 web 应用程序，现在是考虑这个 web 应用程序的测试策略的最佳时机。

在 web 应用程序世界中，首先移动性非常重要，我们所有的应用程序现在都必须具有响应能力，并且必须支持移动性。

因此，我们首先要检查的是我们的 web 应用程序如何响应不同的移动设备分辨率。

因此，一个很好的方法是，当我们缩小浏览器时，检查是否发现任何问题，此时我没有看到任何问题，我在这个分辨率上看到一些有趣的行为，这三者有点聚在一起。

然后，当我们继续滚动时，我在这里看到另一个问题，我们的徽标被放在这个项目标题的顶部，这当然不是一件好事，因为它一点也不专业。

所以这是我们需要解决的问题。

当然，我们实际上可以通过右键单击该移动设备来获得实际的移动设备大小，然后您可以从这里选择您的设备。我选择 iPhone 12 Pro，我将它放大到 100%分辨率，这是它在 iPhone 12 Pro 上的外观。

看起来棒极了。

这里没有我们应该看到的，一切都很可读。

当然，我们也没有别的了。

但除此之外，就剩下这些了。

当然，你也可以在非 iPhone 设备上查看。

所以这很重要。

因此，我们最终要做的实际上是编写自动化的可视化端到端测试，以确保我们的应用程序在不同的分辨率下看起来都很好。

在开发应用程序时，我们可以继续测试所有这些分辨率，确保在我们持有应用程序时不会出现倒退。

另一件要记住的事情是，我们在这些图标中添加了 URL，对，这些是我们自己提供的 URL。

当然，这些网址很有可能是肥胖的、被人指指点点的和不正确的。

当然，我们已经手动测试过它们，以确保它们是正确的。

但没有理由认为这在未来不可能意外失败。

所以我们想确保这些网址是正确的。

并且它们与正确的图标相匹配。

好的，那么，当然，我们在标题中也写了每个项目的导航。

所以，如果我们看一下我们的头，JS，对吧，我们将来在这里为它们中的每一个放一个 href 属性，我们需要确保它们与我们要在这里编码的适当部分匹配。

当然，还有这个文件夹部分，它应该把我们重定向回我们的主页，它有这个 href 属性。

当然，这也应该被检查。

除此之外，我认为现在没有其他真正的测试需求。

这就是我们要做的，我们要编写自动化测试来实现这一切。

所以让我们开始吧。

我们将使用两个工具来帮助我们进行自动化测试。

首先，我们将使用 Happo I O，这是一个可视化的端到端测试工具，它允许我们确保我们的应用程序在不同的分辨率下看起来像它应该的那样。

您甚至可以在这里看到，实际上，这就是发生的情况，它允许您拍摄快照，然后可以将这些快照与基线进行比较。

然后我们将使用 Cypress i o 来运行这些测试。Cypress I O 是一个功能性的端到端浏览器测试工具。

这样我们就可以进行测试了。

当然，它还允许我们编写功能性的端到端测试。

所以，让我们继续前进，让这一切成为现实。

所以为了节省时间，我实际上已经在这里安装和设置了一堆信息。

但是，如果您在自己的终端上进行安装，您首先要做的事情是打开 Cypress，我们已经安装了它，就在我们运行 npm install 时，我们要运行 MPX，打开 Cypress。

接下来要做的是打开一个类似这样的 cypress UI，你会有更多的文件夹和文件出现在这里。

它还将在这里创建一个 cypress 文件夹，Cypress 文件夹内将有几个其他文件夹和几个其他重要文件。

我们要做的是删除集成中的所有文件夹和文件。

我们将创建一个可视化的 dot spared dot j s 文件，这就是我们要编写可视化测试的地方。

我们一会儿会谈到这些。

然后在插件内部，我们要添加这些代码来使用 Happo。

我们的柏树测试。

接下来，在支持中，我们要在我们的命令 js 文件中导入 Happo，Cypress。

所有这些都完成后，我们现在最终可以做的是转到 Visual spec 并编写一个测试。

让我给你看看这个测试到底是什么样的。

这里我们有一个描述块。

我们说，我们的视觉测试将正确显示主页。

首先，他们将访问我们的应用程序，并确保我们的应用程序处于良好状态。

最后，我们将简单地获取页面的主体，并获取一个完整的页面截图。

为了设置所有这些并使其运行，我们需要一个 Happo J S 文件，它位于我们项目根目录下的文件夹中。

你可以看到它就在包 json 和 Cypress JSON 的旁边。

因此，这个 Happo J S 文件有许多重要的内容，如您的用户名和访问密钥，您可以从您的个人资料中获得，如果您来到这里并进入您的用户资料，会计师将能够获得这些信息，那么我们将提供一个项目名称。

因此，我们要做的是更新我们的项目名称，并将其命名为开发组合教程。

这是该配置最有用的部分，即设定我们的目标。

所以我们基本上是说我们给了目标一个名字。

然后我们说我们想要运行哪个浏览器视窗尺寸，有多种其他配置我们可以设置。

在这种情况下，我们说，等到最后一个动画完成，在这种情况下，之后，我们将采取快照，对不对。

因此，我们在这里做我们的 Chrome 10，ADP，三星 Galaxy S 10，视口大小，我们在做 iPhone 12，视口大小，我们在做导致我们之前看到的错误的视口大小，我是如何确定视口大小的。

当我们向下滚动时，您可以看到，实际上，如果我们打开我们的开发人员工具，退出此视图，您会看到右上角显示了我们滚动的视窗大小，因此我们滚动时，您可以看到视窗大小，然后我们将查找有问题的视窗。

所以你看，大概是 656 65。

那不重要。

所以我把 650 乘以 415。

这就是我们想要解决的问题所在。

设置 Cypress 的最后一步是在 Cypress JSON 中，我们将基本 URL 设置为 localhost 3000。

这就是我们的视觉规范，所以如果我们来到视觉规范，这就是我们能够访问这个正斜杠的原因。

说了这么多，我们在这里添加了一个脚本，我们调用 test visual 运行下面的命令。

让我们继续运行它，看看会发生什么。

往下看，我们看到我们的测试已经完成。

让我们去看看我们的哈弗勒仪表板。

所以我们会回到这里，去 Happo 仪表板。

在这里，我们看到我们有一个名为“开发组合教程”的新报告，这正是我们的项目名称，我们将打开它，我们可以在这里看到我们的快照，对，你可以看到不同的分辨率，当然，很漂亮，你可以看到我们的 bug 在这里以此分辨率重新创建。

然后你可以看到其他的分辨率和我们的应用程序是什么样子。

所以在这些照片里，我觉得一切都很好。

当然，没什么大问题，除了这部分。

所以现在我们基本上设置了我们的基线，从这一点开始，当我们执行这些视觉测试时，它们将与此进行比较。

我们需要决定我们是否破坏了什么。

这些是我们的视觉测试，确保我们的应用程序在不同的浏览器和操作系统下看起来都很漂亮。

我们的应用程序的功能方面呢？我们如何实际测试这些？我们将如何处理所有这些链接呢？让我们接下来解决这个问题。

我们需要检查的所有链接呢？我们如何做到这一点，在过去，我会使用官方的端到端测试工具，如 Cypress、selenium，我会识别每个定位器，然后单击它们，然后确保它们会将我导航到正确的 URL。

我一路走来了解到，这并不是最佳的方法，实际上有一个更好的方法，更好的方法，我一路走来了解到，是做一些像组件测试这样的事情。

组件测试，也称为单元测试，我们可以简单地检查这些元素的 href 属性。

如果我们到这里来检查每一个定位器，我们会看到每个定位器都有一个 href 属性。

因此，如果我们知道这个 URL 是正确的，那么我们就知道它会把我们带到正确的页面。

因为一个联盟的点击能力实际上来自于 a 标签。

因此，如果标签内的链接点击功能对你不起作用，它对互联网的其他部分也不起作用。

所以点击它实际上是不必要的。

重要的是，只需检查一次 URL 是否真的有效。

之后，我们只需在测试中检查 href 属性的正确值。

现在，正如我提到的，我们可以通过一个组件测试，一个组件测试，它实际上会做的是，如果我们来到我们的社交细节，我们会看到我们通过我们的社交 URL 对象传入一堆 URL，对吧。

所有这些属性都被设置了。

然后他们的社交网址以常量的形式存在于此，这只是一个指向你右边的对象。

因此，我们可以简单地做一些类似快照测试的事情，以确保所有这些 URL 都是正确的，这将是非常好的，它将需要几毫秒的时间来执行，它基本上只是捕获这个文件的快照。

如果这个文件有任何变化，它会让我们知道有变化。

然后由我们来决定这是否是一个突破性的改变。

这样做的危险是，它没有涵盖的风险是，即使你可以有这些 URL，这并不意味着它们正确地连接到正确的社交图标，对，我们可以很容易地来到这里，做一些像 GitHub 一样的事情，因为我们正在复制，我们创建了一个，然后它会被复制并粘贴其余的。

我们忘了换其中一个。

我一生中已经这样做过很多次了，我相信你也一样。

所以那个连接片实际上是缺失的。

所以在这种情况下，我认为最好的策略，需要最少的努力，并且有最好的覆盖率，是功能性的端到端测试。

因此，一个功能性的端到端测试，当然，正如我所说的，是到这里来，检查 href 属性，然后确保它是正确的。

因此，为了使这种测试成为可能，我在这里写的是这个社会细节规范 J S 文件，如果我们一起看它，实际上，我们甚至不需要其中任何一个，我们要保存它。

所以你会看到我们像以前一样访问我们的网址。

相反，我们在说我们的社交细节应该有正确的社交联系。

我们获取这些属性的方式是，我们查看我们的每个定位器，您可以看到我使用了一个数据测试 ID 属性，它使这些属性中的每一个都是唯一的。

同样，如果我们来看看社交细节，我们会注意到这些图标没有任何独特之处，除了 href 属性。

因此，在添加这些数据之前，测试 ID 属性，所有的社交图标看起来都像这样。

那么我们如何引用正确的链接，并确保它链接到正确的 URL。

所以我们通过添加一个数据测试 ID 属性来做到这一点，我给每个属性命名，对，我说的是 GitHub，YouTube，LinkedIn，等等，正确地将它与正确的图标匹配。

这样，我现在可以得到每一个，并断言每一个都有一个与正确值匹配的 href。

如果我们来到 Cypress 仪表板，点击社交详情，spet，它就会为我们执行。

大家看，它实际上已经失败了。

如果我们看一下，你可以看到我们正在成功地使用 GitHub 和 GitHub。

但是如果你看看 YouTube，我们会发现它失败了。

还有为什么失败了，因为我们期待的是 YouTube，结果却得到了 GitHub。

这是当然的，因为我搞砸了又名胖手指，又名，复制粘贴和正确的，这个网址。

所以如果我们做 YouTube，然后我们保存这个，我们回到我们的 Cypress 测试，我们重新运行它，一切都相应地通过，检查 GitHub，YouTube，LinkedIn 和 Twitter，一切都是成功的。

最终，测试看起来是这样的。

我不打算写其他属性的测试，比如这些，甚至徽标，因为你已经知道它们应该如何表现。

我将把它作为一个练习留给你们，你们一定要向存储库发送一个“拉”请求，并与我分享你们的解决方案，我会让你们知道你们是否做对了。

好了，让我们继续编写应用程序的其余部分。

现在我们要走快一点。

好了，接下来，我们要开始我们的英雄部分，这是我们的方式。

hero 组件就是我们应用程序的这一部分。

为了实现这一点，代码相对简单，我已经粘贴了它，我们将保存它，然后您可以看到它产生了什么，您可以看到所有已导入的样式，它们是从全局组件中导入的，我们在适当的文件夹中定义了这些组件，因为我们将在任何地方重用它们。

在这里，您可以看到我们添加了一个部分标题，对，这就是我的名字的来源，您可以随意添加您的名称。

这里还有一个部分文本元素，允许您定义文本。

你也可以在这里定义这个按钮，我把“了解更多”,事实上，也许我们甚至可以把它改为“关于我”,会有一个更好的按钮，因为它会把我们重定向到页面的“关于”部分，这个部分目前还不存在，但将来我们可能会把它添加到“成就”下面，我们将来会添加这个部分。

让我们继续保存它，看看文本是如何更新的。

当然，所有的样式都是由所有这些组件自动生成的。

现在我们有了这个版本的应用程序，让我们重新运行我们的测试，好，我们现在可以做两种类型的测试。

所以我们可以去打包点 JSON，对，我们可以这样做可视化测试。

然后我们可以做柏树测试，我会告诉你怎么做。

让我们运行我们的 Cypress 测试，你可以运行 MPX，Cypress run，它实际上会在后台运行它们，然后产生一个输出，当然，你也可以通过这个 UI 运行它们。

所以看起来我们的社交细节正在流逝，这很棒，对吧？我们没有改变我们的链接。

所以这是意料之中的。

然后，让我们做 NPM 运行测试视觉，这样我们就可以运行我们的视觉测试，看看有什么结果。

好了，我们的测试已经运行完毕，让我们来看看这个 URL，看看我们的 Happo 仪表板上发生了什么。

在这里，我们可以看到这有一点不同，因为我们将一个支票与一个预测支票和一个当前支票进行比较。

所以我们检查以前的状态和现在的状态。

我们在这里看到的是我们有五天时间，当然，这很好，对，我们可以放大一点，以便更容易看到，这就是我们的差异，我们可以将其置于滑动模式。

你可以看到这是以前。

然后这是之后，对吧。

当然，之后我们添加了一个全新的部分。

这是以前。

所以所有这些都向下转移了。

但就这一点来说，它看起来不错。

当然，这里没有错。

当然，在这个视图中，在下面，您仍然可以看到我们仍然有这个错误，我们将在未来修复它。

然后我们有了这个部分。

所以看起来不错。

在 Galaxy S 10 上。

一切看起来都很好。

这里有点紧了。

这是越来越切断，你可能想看看，在未来，看看发生了什么，以及如何修复它。

在 iPhone 12 Pro 上一切看起来都很好，所以在视觉方面没有引入新的错误，在功能方面没有增加新的问题。

当然，我们可以测试按钮，以确保它将我们导航到正确的位置。

但是我们还没有植物学部分。

所以我们将来会这么做。

我们可以做的一件事是，如果我们愿意，我们可以编写一个测试，我们可以创建一个新的文件，并将其命名为 one hero dot spec dot j s，我们可以有一个失败的测试，它会做类似这样的事情，直到我们创建该功能。

这也是一种选择。

但是我们今天不会仅仅因为时间不够而这样做。

接下来，让我们进入项目部分。

接下来，我已经实现了项目部分。

让我首先开始运行我们的视觉测试，我们甚至不再需要手动测试了。

我们可以简单地运行我们的视觉测试，确保一切正常。

因此，在我向您介绍项目组件时，我将让它们运行。

It 项目组件相对较大，但是，它并不太难，这里的主要逻辑实际上在第 34 行，我们在这里使用项目点地图。

基本上这就像一个 for each 循环，对于我们存储在这个数组中的每个项目，这个数组看起来像这样。

所以你可以看到我们提供了标题、描述、图片、标签、源代码、访问应用程序的位置，然后是 ID。

所以你可以在这里添加任意多的项目，对吧，你只需要继续添加，添加到你需要的数组中。

然后这个映射函数将基本上使用来自该数组的所有值。

举个例子，每样东西都在博客卡里。

然后你可以看到我们提供了一个图像，得到了这个来源，然后我们有一个标题，得到了标题。

所以标题，当然，是这个标题，我们得到卡片信息，它是描述，当然它来自那里。

然后是标签，标签，我们也必须对每个循环都这样做，检查每个标签，然后简单地添加标签。

当然，还有外部链接，以及另一个具有相应源和访问属性的外部链接。

所以真的是这样。

这就产生了这个美丽的景色，你可以在右手边看到，当然，完全响应。

当然，如果您想添加自己的项目，只需将所有图像添加到这个公共图像文件夹中。

然后，当然，更新项目的信息。

因此，您可以删除项目，也可以添加项目，但保留这些属性，显然会改变项目的值。

所以这些测试执行得很好，对吗？我们可以到这里来看一下，让我们运行我们的柏树测试，你认为我的柏树会通过还是失败？当然，如果它们是好的 Cypress 测试，它们将会通过，因为我们没有对我们的 URL 做任何改变，对，一切都还和它应该的一样。

让我回去重做它们。

因为我们已经更新了我们的申请。

所以有了真正好的测试，它允许我们在不破坏测试的情况下更新我们的 UI。

这是非常好的可靠测试。

说了这么多，让我们来看看 Happo 的比较。

所以我们会看到一个前所未见的新景象。

这是这些定义。

所以，原始的和新的。

当然，这里说我们需要回顾一下。

所以我们要复习一下，这里有五个 diffs，10，ADP，一切看起来都很棒。

当然，Chrome 650 仍然有问题，因为我们还没有修复它。

但至少在其他方面。

让我们看看这里，一切看起来都很棒。

所以一切都被正确渲染，一切看起来都很棒。

视觉上没有什么奇怪的，一切看起来都很好。

当然，我们可能会在这里看到类似的事情。

因此，当然，在这一点上，让我们继续前进，接受所有这些。

现在它们将被用作我们未来迭代的基线，尽管我们还有一些部分要实现。

好了，为了节省时间，我已经实现了应用程序的其余部分，这样我们就可以更多地讨论测试，当然，还有最有趣的部分，它已经部署到生产中，这样我们就可以自豪地向全世界展示它了。

我在这里实现了一个技术部分，如您所见，这里只是一堆静态文本，描述了所有这些信息。

如果我们导航到“技术”部分，您可以看到该组件中的所有内容几乎都是硬编码的。

没错。

那么就风险而言，我们需要用新的测试来应对这一部分的风险是什么呢？绝对不是，实际上，视觉测试会考虑到我们面临的所有风险。

这就是视觉测试的美妙之处。

我们已经写了一次了。

现在，我们可以持续使用它们来检查我们的应用程序。

说到这里，让我们现在运行它们。

当我们继续讨论我们的申请时，我们就可以谈论我们的个人成就了。

我们的个人成就也在这里显示了一堆数据，如果我们看一下成就，我们会看到这些数据是硬编码的，实际上可以非常有用地将其移动到我们的 constants 文件夹中，然后放在那里。

但是你会看到我们如何使用映射方法对所有数据进行迭代。

这正是我们展示它的方式。

那么，我们在这里需要检查的风险是什么，例如，在这种情况下，我们是否应该编写另一个功能性的端到端测试来验证我们 UI 的这一部分是否正确读取后端的数据？不，在这种情况下，我们不需要那样做。

因为这些数据只是简单地显示在这里。

如果有任何奇怪的事情发生，比如说，我们把一个零放在这里，这里的项目数量，会显示在我们的视觉快照中。

我们就能看到不同之处。

静态数据的好处就体现在这里。

我们可以通过现有的可视化端到端测试再次捕获它，保护我们免受所有这些风险的影响。

这里的页脚也很简单。

所以让我们从源代码的角度来看一下页脚。

所以页脚非常简单，实际上你会看到我们正在重用我们的社交细节组件，我们不仅以前编写过，而且我们也测试过。

这就是为什么我们把它放在一个单独的组件中，以便我们可以在这里使用它。

当然，如果我们已经编写并测试了它，并在这里重新测试了它，不，我们不需要，这是我们之前编写并测试过的完全相同的源代码。

所以我们在这里很好。

这里唯一的另一个风险是这个链接，可以做邮件到，可以双重检查，我们可以确保这有正确的值。

最好的方法是什么呢？我们可以简单地做一个元件测试，确保它具有正确的 href 值。

这就足够了，我们可以用 Cypress 做一个端到端的功能测试。

但我认为在这种情况下没有必要。

现在我有一个有趣的问题要问你。

就测试挑战而言，我们如何确保这些项目链接是正确的呢？因此，在 View 应用程序中，如果我们看一下项目，对吧，它们在两个数组上迭代，其中一个从我们的项目文件中获取源和访问？这是我们所有的项目，对吗？即使我们修改了这些项目，我们如何确保这个 URL 和这个 URL 等等都是正确的呢？

所以我最初的想法可能是做一个功能性的端到端测试，就像我们在塞浦路斯做的那样，对吗？例如，如果我们来到我们的社交细节规范，我们以这种方式检查我们所有的 URL，对，在这种情况下，确保 UI 正确地连接到我们的文件并正确地读取它。

然而，当我们添加一个新项目时会发生什么。

所以现在我们需要添加另一个测试。

另一个挑战是，现在我们不仅需要添加新的测试，还需要开始为我们添加的每个按钮添加唯一的数据测试属性。

我的意思是，我想这不一定需要太多的工作，我们可以让它变得有活力。

但是这看起来像是很多额外的测试工作，仅仅是在这里测试这些组件的事实。

因此，我们实际上可以做的是使用组件测试，特别是我们组件的快照，以确保这些组件的有效性。

让我告诉你我到底是什么意思。

为此，我们将只使用 Jess，它是一个单元测试库，也允许我们对代码进行快照测试。

所以让我们来看看我到底是什么意思。

所以我在这里配置了一个快照测试。

你可以在我们的 constants 文件夹中看到，我添加了一个项目点测试点，之所以称之为项目点测试，是因为它在测试这个包含所有相关资源的项目文件。

这个项目测试文件说我们要进行一次测试。

它检查项目细节是否正确。

我们正在导入我们的项目对象。

然后我们希望我们的项目对象匹配一个内联快照。

当我们最初使用这种方法时，事实上，我甚至可以在这里向你们展示，我们将要做的是生成这个项目的快照。

当然，我们可以访问不同的属性，等等。

但是我们真的想要整个物体，我会给你看它是什么样子的。

因此，如果我们来到这里，当然，我已经添加了一个脚本，这是所谓的 NPM，运行测试笑话。

它将执行这个测试。

你在这里看到的是，整个对象被填充到我们的代码中。

所以它写在这里，关于我们对象的一切，比如描述，ID，图像的 URL。

但更好的是，它捕获了我们的链接，以确保它们是正确的。

与视觉测试非常相似，此时我们所要做的就是确保所有这些都是正确的。

一次手动。

从现在开始，我们可以使用快照作为任何未来更改的接受标准。

未来的变化会是什么样的？比如说，不管什么原因，我在这里，我不小心弄乱了这个值。

我说，或者我甚至是的，让我们先做这个。

因此，如果我们重新运行 NPM，运行测试箱，我们会得到一个失败。

失败会告诉我们，嘿，你希望我们匹配你的内联快照。

但是看看我发现的不同。

我预料到了，但是我得到了这个。

当然，这是一个错误，我们可以拒绝它。

所以我要回到这里，保存它，然后重新运行，当然，它会漂亮地通过。

但是，当然，即使你想添加一个全新的部分，给我们一个新的 ID，然后重新运行，我们会得到一个预期的失败，因为，当然，它与我们的快照不匹配。

就像要告诉我们的，嘿，我看到了这个全新的物体。

好的，当然，你要手动验证一次，这里的一切都正常，然后，我们现在有了这个测试，以确保将来不会出问题。

也就是说，我们能够成功地检查所有内容，关于此部分的所有数据，尤其是 URL，它们是隐藏的，当然，所有可见的内容都可以通过我们的视觉测试来捕获。

但是 URL 是隐藏的，但是可以通过我们的快照测试来检查。

尽管如此，我们还是抓住了这一风险，然后我们再也没有重新查看我们的 Happo 仪表盘。

让我们来看看这些测试。

让我们看看我们的新快照。

我们可以看到我们全新的快照。

这是他们现在的样子，对吗？大得多。

这里的一切看起来都很好。

我觉得这里一切都很好。

因此，我当然会接受，现在，任何未来的变化，我们可以进去，审查他们，并确保没有任何破坏。

非常感谢你今天和我一起来到这里。

我是 Nikolai Adva lockin，ultimate qa.com 的创始人，我在那里创建关于编码、测试和部署 web 应用程序的培训。

今天和你在一起真的很开心。

如果你对下次想学的东西有什么意见，请在下面评论。

如果你想为我了解更多，你可以关注我的 YouTube 频道。

好的，下次见。