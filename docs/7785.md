# 我在生产部署期间学到了什么

> 原文：<https://www.freecodecamp.org/news/what-i-learned-during-production-deployment-fe037a6ee4db/>

Shruti Tanwar

# 我在生产部署期间学到了什么

![8tjB6mhNoWPivt31mZ6G-3b9SMf0B5zqjwAK](img/f1f316d6a2fea65aefee74294c26b079.png)

生产部署。每个项目的最后阶段。当你在一段时间内付出的所有努力都被目标受众所利用时。这的确是一个激动人心的时刻，尤其是当您参与基础设施设置过程的时候！

我过去曾参与过部署过程。但这一次，我开始在一个巨大的系统上工作，就容量、技术堆栈和基础设施而言，这是一次诱人的冒险！我亲身经历了整个过程，学到了不少东西。

下面是我的学习清单，我会记住并在我的开发生涯中应用。

### 两个队长:准备和计划⏱️

不用说，准备和计划应该是你做任何事情的一部分。但是到了生产部署，就成了规矩。这是既定的，必要的。你需要知道你在项目中所使用的技术的复杂性。您还需要考虑哪种基础设施最适合运行不同类型的系统。

我们构建的系统由 *nodejs、MongoDB、InfluxDB、redis、[ASP.NET](http://asp.net/)和 rabbitMQ* 组成，作为其技术栈的一部分。该系统的主要需求之一是每天处理大量数据。因此，该系统必须在头脑中有一个适当的部署图，该图清楚地说明了如下内容:

*   什么样的系统/技术应该在什么样的机器上运行
*   关于系统集群的规范
*   所有这些独立的盒子是如何以一种万无一失的方式相互交流的。

### 立足本地，放眼全球？

这是我的项目建筑师/朋友给我的一些建议。我和团队中其他一些年轻的开发人员在我们的职业生涯中没有任何部署如此庞大系统的经验。所以我们的架构师建议我们在本地创建一个完全相同的生产系统。

这意味着我们需要对一切都有亲身体验。从集群 *NodeJS* 环境(由 8 个集群组成)和多服务器 *MongoDB* 设置以及生产就绪 *Redis* 安装，到生产就绪 *pm2* 配置和环境变量！

我们记录了一切。我们在本地机器上完成了所有的生产设置，然后进行了端到端的测试。后来，我们记下了在我们的机器上实现最终工作基础设施所需的所有步骤。这一实践帮助我们找到了在基础设施设置过程中遇到的典型问题，以及我们如何克服这些问题。

我们记下了所有的要点、教训和为使系统正常工作而进行的特殊调整。这让我信心大增，我觉得已经准备好为我们的应用程序扩展生产环境了。

### 文档，文档，文档！！？

我知道，我知道。这个已经说了很多了。作为一个开发者，你已经听够了。你可能不想再听一次关于文档重要性的讲座。所以我会尽量简短，只强调要点:

*   生产设置应记录到位。它需要简洁、简单、易懂。
*   它应该包含所有系统配置、IP 地址、系统规格和安装说明。以及您认为足够重要的、您或其他开发人员应该知道的任何事情。
*   当系统的生产环境发生任何变化时，需要对其进行更新。

作为人类，很常见的想法是，“哦！我会记住的！”相信我，**你不会的**。在软件开发的历史上，从来没有人这样做过(好吧，这可能有点过了，但是你应该明白了。？)!

记录与您的生产设置相关的所有数据和元数据。你以后会感谢你自己的。将参与您的项目的未来开发人员将随后感谢您！

### 监控和记录？

在项目的开发期间，处理 bug 和错误相对容易。有什么不对劲吗？让我只是快速登录到开发箱和检查。这在生产中是不会发生的。你不能仅仅因为不知道问题出在哪里，就登录到一个正在运行的系统，然后开始四处摸索。

建立一个适当的监控和日志记录系统对于保持实时系统的健康检查是必不可少的。目前市场上有智能监控系统，可以为您提供错误频率报告、定期健康检查电子邮件等等。

我们决定将[](https://www.sumologic.com/)*和[***DataDog***](https://www.datadoghq.com/)作为我们的同伴，为我们的应用程序生成日志记录和监控系统。当我不用“ssh”就能找出系统中的问题时，这几乎是令人着迷的。*

***一套得体的监控系统可以为您的直播产品奠定坚实的基础**。不要错过这个机会！*

*唷！好了，就这样了！你有什么发现？欢迎在下面的评论中分享你的知识、建议或意见！*