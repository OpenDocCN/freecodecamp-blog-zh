# 工程师在生产中断期间不能告诉客户的 5 个事实

> 原文：<https://www.freecodecamp.org/news/5-truths-engineers-cant-tell-their-clients-during-a-production-outage/>

我今年的生日礼物是一次生产中断。

有些人喜欢蛋糕和冰淇淋。其他人计划一次有趣的郊游。我没有去郊游，而是被断电了。一点也不好玩。

在这个过程中，我和我的同事在对这个问题进行分类和对找到问题的根源有多困难感到愤怒之间摇摆不定。

当我出来呼吸新鲜空气，与我耐心而富有洞察力的妻子交流时，我告诉她我觉得自己有多么不称职，并向她咨询如何有效地与受影响的客户沟通。

他们需要知道我们会解决这个问题。他们需要快速修复。他们需要知道修复会持续下去。

我们巧妙地制作了电子邮件，并与他们进行了令人放心的电话交谈。我们经常更新它们，给它们适当的透明度和技术洞察力。

但是这里有一些我们不能告诉他们的真相。

## 1.我们对此没有准备

正如许多项目中的许多工程师一样，我们继承了这个应用程序。留给我们的文档很少，调试产品的工具也很差。而且活动部件太多，数不过来。

就像我们带着灭火器进入森林大火。

我们的时间和您的财务预算不允许为生产中断做大量准备，现在我们面临着压力。在很多方面，我们都没有做好准备。

## 2.停电的原因可能有 20 种

原因？可能是服务器。可能是密码。可能是数据库或第三方软件包。可能是食物中毒。可能是我们的错。可能是你的。

解决办法？可能需要重启。可能需要数据库表上的索引。可能需要更新包或配置设置。可能需要胃复安。可能需要烧掉所有的东西然后重新开始。

## 3.我们完全不知道需要多长时间来修复

服务器的重新启动可能需要十分钟。服务器的重建可能需要十小时到十天的时间。我们也许能在几分钟内追踪到这个 bug，或者我们可能永远也不会发现到底发生了什么。

这完全取决于找出原因，我们已经确定这可能是 20 件(或更多)事情中的一件。

我们也已经确定我们没有为此做好准备。还不如让我们自己呆着，相信我们会尽可能快地解决问题。

同时，我们建议你考虑重新定义“快”。

## 4.我们需要问题再次出现，然后才能找出原因

因为我们几乎没有工具和文档，我们基本上是盲目的。谢天谢地，我们已经安装了一些监控工具来帮助我们。

问题是这些工具只能监控未来的事情。因此，在我们真正诊断问题之前，我们需要这个间歇性问题再次出现。

我们当然可以在试运行或测试环境中尝试这种方法，我们也确实这样做了，但是它不会屈服于生产环境中遇到的相同问题。实际上，这是一种与生产完全不同的设置。

目前我们唯一的选择就是再次减产。告诉你的团队在我们生产时抓紧时间，不要试图修复它，而只是重现问题，这样我们的工具就可以捕捉到正在发生的事情。

## 5.对于这种程度的压力，你真的应该付给我们更多的钱

我们没有睡觉。几乎不吃东西。我们的家人已经好几天没见我们了。除了在冰箱前、在浴室里或在角落里以胎儿的姿势短暂爆发外，我们所有的时间都花在电脑前。

这些压力水平至少保证了双倍工资。但是我们意识到现在不是谈判新合同的时候。我们都处于生存模式，显然，生产的健康比我们自己的健康更重要。

这就是为什么在紧急停电期间，你应该付给我们(更多)钱的原因。

## 总结想法

在生产中断的危机中，工程师们真的无法向他们的客户传达这些事实。

如果你想过这些事情，请记住我们中的许多人都想过。如果你对这些观点有共鸣，我们很多人都有这种感觉。生产中断会造成巨大的压力和紧张。

如果你想知道我生日停机的真实情况，问题是来自第三方电子邮件服务的间歇性意外响应。它导致了一个应用程序错误，但是那个错误没有被捕获。

相反，该请求被再次尝试。再一次。然后几百(千？)更多次，直到它使服务器屈服。我们重新启动服务器，不到一个小时，它又停机了。

由于我们的监控和调试工具没有得到改进，花了几天时间才找到真正的原因。我们看到了 CPU 和 RAM 使用量的激增，但没有与流氓进程的明确联系。除了生产环境，我们无法在任何环境中重现这个问题。令人不快的代码是抽象的，使用了我们不熟悉的库。

下一次，我们会准备得更充分。我们已经安装了工具，为我们提供了针对生产中的请求的分析功能和堆栈跟踪。我们将更加谨慎地实现第三方工具，并确保我们的应用程序能够优雅地处理它们的故障。

就我个人而言，我计划协商一个更高的费率(可能是我正常费率的 1.5 或 2 倍)，因为停电会让我放弃所有其他责任。

我们的准备工作还应该包括保持冷静和消除疑虑的承诺。恐慌导致我们追逐症状，而不是关注根源。怀疑试图让我们相信我们不能解决问题，而且永远也不可能。

在一个平静和自信的地方运营将为我们的客户带来所需的保证，并帮助我们有效地应对生产中断。在我们的生日上玩得更开心。