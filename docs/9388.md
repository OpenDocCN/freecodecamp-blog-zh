# JavaScript 中的递归

> 原文：<https://www.freecodecamp.org/news/recursion-in-javascript-1608032c7a1f/>

凯文·恩尼斯

我就直说了吧，否则人们会很生气的:

把这篇文章看作是一系列的学习练习。这些例子旨在让你思考——而且，如果我做得对，可能会扩展你对函数式编程的理解。

### 嘿，伙计。我听说你喜欢递归，所以我放了个“嘿，伙计。我听说你喜欢递归，所以我放了一句“嘿，伙计…

不严格地定义，递归是将一个大问题细分为同一个问题的多个较小实例的过程。

付诸实践，这通常意味着编写一个调用*本身*的函数。这个概念最经典的例子可能是**阶乘**函数。

你可能在数学课上还记得，一个数 **n** 的阶乘是所有小于等于 **n.** 的正整数的乘积，换句话说， **5** 的阶乘是 **5 x 4 x 3 x 2 x 1** 。这个的数学符号是 **5！**。

你可能已经注意到了这个模式的一些有趣之处: **5！**实际上只是**的 5×4！**。还有 **4！**正好是 **4 x 3！**。如此等等，直到你到达 **1** 。

下面是我们如何用 JavaScript 写的:

如果这看起来令人困惑，我会鼓励你用 **factorial( 3 )** 的例子在心里遍历代码。

如果你需要的话，这里有一点帮助:

1.  **阶乘(3 )** 是**3×阶乘(2 )** 。
2.  **阶乘(2 )** 是 **2 x 阶乘(1 )** 。
3.  **阶乘(1 )** 满足我们的 **if** 条件，所以只是 **1。**

所以，这里真正发生的是，你正在卷起调用栈，向下到 **1** ，然后展开栈。展开调用堆栈时，将每个结果相乘。 **1 x 2 x 3** 是 **6** ，那就是你的返回值。

### **反转一根弦**

我的一位同事最近告诉我，他在一次面试中被问到一个白板问题，我认为这是一个有趣的问题。

> 写一个函数，接受一个字符串，反过来。递归地。

如果你是雄心勃勃的类型，我会鼓励你花几分钟时间，尝试自己解决这个问题。记住递归的核心原则，就是把一个大问题分解成更小的实例。

如果你陷入了困境(或者你是那种毫无野心的人)，以下是我的解决方案:

同样，我将给出一个快速浏览的例子，以防您遇到困难。我们将使用**reverse(‘bar’)**作为起点。

1.  **反转('杠')**是**反转(' ar') + 'b'**
2.  **反向(' ar')** 是**反向(' r') + 'a'**
3.  **reverse('r')** 满足我们的 **if** 条件，所以只是 **'r'**

当调用栈展开时，我们以 **'r' + 'a' + 'b'** 结束。

### 编写递归映射函数

对于我们的最后一个例子，我们将编写一个 **map()** 函数。我们希望能够像这样使用它:

同样，我强烈建议你花几分钟时间自己尝试一下这个。以下是一些提示和提醒:

1.  **map()** 应该总是返回一个*新的*数组。
2.  把问题分解成小块。
3.  还记得 **reverse()** 的例子吗。

太好了。你回来了。怎么样了？

j/k，这是博客，我听不到你。lol。

不管怎样，我是这样做的:

让我们用我之前举的例子来看一下:

1.  使用数组 **[ 'a '，' b '，' c' ]** 调用 **map()**
2.  创建一个*新的*数组，保存调用 **fn('a')** 的结果
3.  返回 **[ 'A' ]。concat( map([ 'b '，' c '])**
4.  用**[‘b’，‘c’]**重复步骤 1 到 3
5.  对**[‘c’]**重复步骤 1 至 3
6.  最终，我们用一个空数组调用 **map()** ，这结束了递归。

注意:
你永远不应该在实际应用中这样做。在大型数组中，您将会耗尽堆栈，更重要的是，通过实例化如此多的新对象，您会产生**大量的**垃圾。在生产代码中使用**数组#映射**。

### 包裹

希望我在解释这些东西时做得不错。如果你还在努力理解递归，我能给你的最好的建议是从小的例子开始，并在心里跟踪调用栈。尝试类似于**reverse(‘ABC’)**的东西，一步一步走过去。最终会成功的。

— -

关注我的 [Twitter](http://twitter.com/kevincennis) 或 [Medium](https://medium.com/@kevincennis/) 以获取更多帖子。我试着在接下来的 30 天里每天写一次。

如果你在波士顿地区，想在 [Starry](https://starry.com) 和我一起研究疯狂、有趣、困难的问题，给我发一封[电子邮件](mailto:kennis84@gmail.com)。我在招人。